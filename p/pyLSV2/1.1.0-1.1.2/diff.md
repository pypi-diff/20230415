# Comparing `tmp/pyLSV2-1.1.0.tar.gz` & `tmp/pyLSV2-1.1.2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "pyLSV2-1.1.0.tar", last modified: Wed Mar 22 16:05:13 2023, max compression
+gzip compressed data, was "pyLSV2-1.1.2.tar", last modified: Sat Apr 15 19:54:58 2023, max compression
```

## Comparing `pyLSV2-1.1.0.tar` & `pyLSV2-1.1.2.tar`

### file list

```diff
@@ -1,41 +1,41 @@
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.788201 pyLSV2-1.1.0/
--rw-r--r--   0 runner    (1001) docker     (123)     1072 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/LICENSE
--rw-r--r--   0 runner    (1001) docker     (123)       73 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (123)    11802 2023-03-22 16:05:13.788201 pyLSV2-1.1.0/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)    10636 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/README.md
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.784201 pyLSV2-1.1.0/pyLSV2/
--rw-r--r--   0 runner    (1001) docker     (123)      357 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)    79059 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/client.py
--rw-r--r--   0 runner    (1001) docker     (123)    24570 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/const.py
--rw-r--r--   0 runner    (1001) docker     (123)    31344 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/dat_cls.py
--rw-r--r--   0 runner    (1001) docker     (123)      446 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/err.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.780201 pyLSV2-1.1.0/pyLSV2/locales/
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.780201 pyLSV2-1.1.0/pyLSV2/locales/de/
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.784201 pyLSV2-1.1.0/pyLSV2/locales/de/LC_MESSAGES/
--rw-r--r--   0 runner    (1001) docker     (123)     7404 2023-03-22 16:05:12.000000 pyLSV2-1.1.0/pyLSV2/locales/de/LC_MESSAGES/error_text.mo
--rw-r--r--   0 runner    (1001) docker     (123)     1507 2023-03-22 16:05:12.000000 pyLSV2-1.1.0/pyLSV2/locales/de/LC_MESSAGES/message_text.mo
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.780201 pyLSV2-1.1.0/pyLSV2/locales/en/
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.788201 pyLSV2-1.1.0/pyLSV2/locales/en/LC_MESSAGES/
--rw-r--r--   0 runner    (1001) docker     (123)     6253 2023-03-22 16:05:12.000000 pyLSV2-1.1.0/pyLSV2/locales/en/LC_MESSAGES/error_text.mo
--rw-r--r--   0 runner    (1001) docker     (123)     1484 2023-03-22 16:05:12.000000 pyLSV2-1.1.0/pyLSV2/locales/en/LC_MESSAGES/message_text.mo
--rw-r--r--   0 runner    (1001) docker     (123)    10638 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/low_level_com.py
--rw-r--r--   0 runner    (1001) docker     (123)    12356 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/misc.py
--rw-r--r--   0 runner    (1001) docker     (123)     7382 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/misc_scope.py
--rw-r--r--   0 runner    (1001) docker     (123)    22001 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/table_reader.py
--rw-r--r--   0 runner    (1001) docker     (123)    10164 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/pyLSV2/translate_messages.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.784201 pyLSV2-1.1.0/pyLSV2.egg-info/
--rw-r--r--   0 runner    (1001) docker     (123)    11802 2023-03-22 16:05:13.000000 pyLSV2-1.1.0/pyLSV2.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)      723 2023-03-22 16:05:13.000000 pyLSV2-1.1.0/pyLSV2.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (123)        1 2023-03-22 16:05:13.000000 pyLSV2-1.1.0/pyLSV2.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (123)        7 2023-03-22 16:05:13.000000 pyLSV2-1.1.0/pyLSV2.egg-info/top_level.txt
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-22 16:05:13.788201 pyLSV2-1.1.0/scripts/
--rw-r--r--   0 runner    (1001) docker     (123)     7998 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/lsv2_demo.py
--rw-r--r--   0 runner    (1001) docker     (123)     6455 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/lsv2cmd.py
--rw-r--r--   0 runner    (1001) docker     (123)     3446 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/real_time_readings.py
--rw-r--r--   0 runner    (1001) docker     (123)     5153 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/scope2csv.py
--rw-r--r--   0 runner    (1001) docker     (123)     2218 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/scope_demo.py
--rw-r--r--   0 runner    (1001) docker     (123)     1938 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/signals_assignment.py
--rw-r--r--   0 runner    (1001) docker     (123)     1768 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/ssh_tunnel_demo.py
--rw-r--r--   0 runner    (1001) docker     (123)     2059 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/scripts/tab2csv.py
--rw-r--r--   0 runner    (1001) docker     (123)       38 2023-03-22 16:05:13.788201 pyLSV2-1.1.0/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (123)     1723 2023-03-22 16:05:03.000000 pyLSV2-1.1.0/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.432547 pyLSV2-1.1.2/
+-rw-r--r--   0 runner    (1001) docker     (123)     1072 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (123)       73 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)    11802 2023-04-15 19:54:58.432547 pyLSV2-1.1.2/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)    10636 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/README.md
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.428547 pyLSV2-1.1.2/pyLSV2/
+-rw-r--r--   0 runner    (1001) docker     (123)      357 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    78997 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/client.py
+-rw-r--r--   0 runner    (1001) docker     (123)    24570 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/const.py
+-rw-r--r--   0 runner    (1001) docker     (123)    31344 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/dat_cls.py
+-rw-r--r--   0 runner    (1001) docker     (123)      446 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/err.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.428547 pyLSV2-1.1.2/pyLSV2/locales/
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.428547 pyLSV2-1.1.2/pyLSV2/locales/de/
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.428547 pyLSV2-1.1.2/pyLSV2/locales/de/LC_MESSAGES/
+-rw-r--r--   0 runner    (1001) docker     (123)     7404 2023-04-15 19:54:57.000000 pyLSV2-1.1.2/pyLSV2/locales/de/LC_MESSAGES/error_text.mo
+-rw-r--r--   0 runner    (1001) docker     (123)     1507 2023-04-15 19:54:57.000000 pyLSV2-1.1.2/pyLSV2/locales/de/LC_MESSAGES/message_text.mo
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.428547 pyLSV2-1.1.2/pyLSV2/locales/en/
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.432547 pyLSV2-1.1.2/pyLSV2/locales/en/LC_MESSAGES/
+-rw-r--r--   0 runner    (1001) docker     (123)     6253 2023-04-15 19:54:57.000000 pyLSV2-1.1.2/pyLSV2/locales/en/LC_MESSAGES/error_text.mo
+-rw-r--r--   0 runner    (1001) docker     (123)     1484 2023-04-15 19:54:57.000000 pyLSV2-1.1.2/pyLSV2/locales/en/LC_MESSAGES/message_text.mo
+-rw-r--r--   0 runner    (1001) docker     (123)    10638 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/low_level_com.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12356 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/misc.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7387 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/misc_scope.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22001 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/table_reader.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10164 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/pyLSV2/translate_messages.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.428547 pyLSV2-1.1.2/pyLSV2.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)    11802 2023-04-15 19:54:58.000000 pyLSV2-1.1.2/pyLSV2.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)      723 2023-04-15 19:54:58.000000 pyLSV2-1.1.2/pyLSV2.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-04-15 19:54:58.000000 pyLSV2-1.1.2/pyLSV2.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        7 2023-04-15 19:54:58.000000 pyLSV2-1.1.2/pyLSV2.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-15 19:54:58.432547 pyLSV2-1.1.2/scripts/
+-rw-r--r--   0 runner    (1001) docker     (123)     7997 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/lsv2_demo.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6455 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/lsv2cmd.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3801 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/real_time_readings.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5152 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/scope2csv.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2218 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/scope_demo.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1938 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/signals_assignment.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1768 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/ssh_tunnel_demo.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2059 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/scripts/tab2csv.py
+-rw-r--r--   0 runner    (1001) docker     (123)       38 2023-04-15 19:54:58.432547 pyLSV2-1.1.2/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)     1723 2023-04-15 19:54:48.000000 pyLSV2-1.1.2/setup.py
```

### Comparing `pyLSV2-1.1.0/LICENSE` & `pyLSV2-1.1.2/LICENSE`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/PKG-INFO` & `pyLSV2-1.1.2/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pyLSV2
-Version: 1.1.0
+Version: 1.1.2
 Summary: A pure Python3 implementation of the LSV2 protocol
 Home-page: https://github.com/drunsinn/pyLSV2
 Author: drunsinn
 Author-email: dr.unsinn@googlemail.com
 License: MIT
 Keywords: LSV2 cnc communication transfer plc
 Classifier: Programming Language :: Python :: 3
```

### Comparing `pyLSV2-1.1.0/README.md` & `pyLSV2-1.1.2/README.md`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/client.py` & `pyLSV2-1.1.2/pyLSV2/client.py`

 * *Files 1% similar despite different names*

```diff
@@ -3305,1638 +3305,1634 @@
 0000ce80: 2c20 2866 6972 7374 5f65 6c65 6d65 6e74  , (first_element
 0000ce90: 202b 206e 756d 6265 725f 6f66 5f65 6c65   + number_of_ele
 0000cea0: 6d65 6e74 7329 290a 2020 2020 2020 2020  ments)).        
 0000ceb0: 2020 2020 290a 0a20 2020 2020 2020 2070      )..        p
 0000cec0: 6c63 5f76 616c 7565 7320 3d20 5b5d 0a0a  lc_values = []..
 0000ced0: 2020 2020 2020 2020 6966 206d 656d 5f74          if mem_t
 0000cee0: 7970 6520 6973 206c 632e 4d65 6d6f 7279  ype is lc.Memory
-0000cef0: 5479 7065 2e53 5452 494e 473a 0a0a 2020  Type.STRING:..  
-0000cf00: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-0000cf10: 696e 2072 616e 6765 286e 756d 6265 725f  in range(number_
-0000cf20: 6f66 5f65 6c65 6d65 6e74 7329 3a0a 2020  of_elements):.  
-0000cf30: 2020 2020 2020 2020 2020 2020 2020 6164                ad
-0000cf40: 6472 6573 7320 3d20 280a 2020 2020 2020  dress = (.      
-0000cf50: 2020 2020 2020 2020 2020 2020 2020 7374                st
-0000cf60: 6172 745f 6164 6472 6573 7320 2b20 6669  art_address + fi
-0000cf70: 7273 745f 656c 656d 656e 7420 2a20 6d65  rst_element * me
-0000cf80: 6d5f 6279 7465 5f63 6f75 6e74 202b 2069  m_byte_count + i
-0000cf90: 202a 206d 656d 5f62 7974 655f 636f 756e   * mem_byte_coun
-0000cfa0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-0000cfb0: 2020 290a 0a20 2020 2020 2020 2020 2020    )..           
-0000cfc0: 2020 2020 2070 6179 6c6f 6164 203d 2062       payload = b
-0000cfd0: 7974 6561 7272 6179 2829 0a20 2020 2020  ytearray().     
-0000cfe0: 2020 2020 2020 2020 2020 2070 6179 6c6f             paylo
-0000cff0: 6164 2e65 7874 656e 6428 7374 7275 6374  ad.extend(struct
-0000d000: 2e70 6163 6b28 2221 4c22 2c20 6164 6472  .pack("!L", addr
-0000d010: 6573 7329 290a 2020 2020 2020 2020 2020  ess)).          
-0000d020: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
-0000d030: 7465 6e64 2873 7472 7563 742e 7061 636b  tend(struct.pack
-0000d040: 2822 2142 222c 206d 656d 5f62 7974 655f  ("!B", mem_byte_
-0000d050: 636f 756e 7429 290a 2020 2020 2020 2020  count)).        
-0000d060: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-0000d070: 2073 656c 662e 5f73 656e 645f 7265 6369   self._send_reci
-0000d080: 7665 286c 632e 434d 442e 525f 4d42 2c20  ve(lc.CMD.R_MB, 
-0000d090: 7061 796c 6f61 642c 206c 632e 5253 502e  payload, lc.RSP.
-0000d0a0: 535f 4d42 290a 2020 2020 2020 2020 2020  S_MB).          
-0000d0b0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-0000d0c0: 6e63 6528 7265 7375 6c74 2c20 2862 7974  nce(result, (byt
-0000d0d0: 6561 7272 6179 2c29 293a 0a20 2020 2020  earray,)):.     
-0000d0e0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000d0f0: 6f67 6769 6e67 2e64 6562 7567 280a 2020  ogging.debug(.  
+0000cef0: 5479 7065 2e53 5452 494e 473a 0a20 2020  Type.STRING:.   
+0000cf00: 2020 2020 2020 2020 2066 6f72 2069 2069           for i i
+0000cf10: 6e20 7261 6e67 6528 6e75 6d62 6572 5f6f  n range(number_o
+0000cf20: 665f 656c 656d 656e 7473 293a 0a20 2020  f_elements):.   
+0000cf30: 2020 2020 2020 2020 2020 2020 2061 6464               add
+0000cf40: 7265 7373 203d 2028 0a20 2020 2020 2020  ress = (.       
+0000cf50: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+0000cf60: 7274 5f61 6464 7265 7373 202b 2066 6972  rt_address + fir
+0000cf70: 7374 5f65 6c65 6d65 6e74 202a 206d 656d  st_element * mem
+0000cf80: 5f62 7974 655f 636f 756e 7420 2b20 6920  _byte_count + i 
+0000cf90: 2a20 6d65 6d5f 6279 7465 5f63 6f75 6e74  * mem_byte_count
+0000cfa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000cfb0: 2029 0a0a 2020 2020 2020 2020 2020 2020   )..            
+0000cfc0: 2020 2020 7061 796c 6f61 6420 3d20 6279      payload = by
+0000cfd0: 7465 6172 7261 7928 290a 2020 2020 2020  tearray().      
+0000cfe0: 2020 2020 2020 2020 2020 7061 796c 6f61            payloa
+0000cff0: 642e 6578 7465 6e64 2873 7472 7563 742e  d.extend(struct.
+0000d000: 7061 636b 2822 214c 222c 2061 6464 7265  pack("!L", addre
+0000d010: 7373 2929 0a20 2020 2020 2020 2020 2020  ss)).           
+0000d020: 2020 2020 2070 6179 6c6f 6164 2e65 7874       payload.ext
+0000d030: 656e 6428 7374 7275 6374 2e70 6163 6b28  end(struct.pack(
+0000d040: 2221 4222 2c20 6d65 6d5f 6279 7465 5f63  "!B", mem_byte_c
+0000d050: 6f75 6e74 2929 0a20 2020 2020 2020 2020  ount)).         
+0000d060: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0000d070: 7365 6c66 2e5f 7365 6e64 5f72 6563 6976  self._send_reciv
+0000d080: 6528 6c63 2e43 4d44 2e52 5f4d 422c 2070  e(lc.CMD.R_MB, p
+0000d090: 6179 6c6f 6164 2c20 6c63 2e52 5350 2e53  ayload, lc.RSP.S
+0000d0a0: 5f4d 4229 0a20 2020 2020 2020 2020 2020  _MB).           
+0000d0b0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000d0c0: 6365 2872 6573 756c 742c 2028 6279 7465  ce(result, (byte
+0000d0d0: 6172 7261 792c 2929 3a0a 2020 2020 2020  array,)):.      
+0000d0e0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+0000d0f0: 6767 696e 672e 6465 6275 6728 0a20 2020  gging.debug(.   
 0000d100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d110: 2020 2020 2020 2272 6561 6420 7374 7269        "read stri
-0000d120: 6e67 2025 6420 7769 7468 206c 656e 6774  ng %d with lengt
-0000d130: 6820 2564 222c 0a20 2020 2020 2020 2020  h %d",.         
-0000d140: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-0000d150: 6669 7273 745f 656c 656d 656e 7420 2b20  first_element + 
-0000d160: 6929 2c0a 2020 2020 2020 2020 2020 2020  i),.            
-0000d170: 2020 2020 2020 2020 2020 2020 6c65 6e28              len(
-0000d180: 7265 7375 6c74 292c 0a20 2020 2020 2020  result),.       
-0000d190: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
+0000d110: 2020 2020 2022 7265 6164 2073 7472 696e       "read strin
+0000d120: 6720 2564 2077 6974 6820 6c65 6e67 7468  g %d with length
+0000d130: 2025 6422 2c0a 2020 2020 2020 2020 2020   %d",.          
+0000d140: 2020 2020 2020 2020 2020 2020 2020 2866                (f
+0000d150: 6972 7374 5f65 6c65 6d65 6e74 202b 2069  irst_element + i
+0000d160: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+0000d170: 2020 2020 2020 2020 2020 206c 656e 2872             len(r
+0000d180: 6573 756c 7429 2c0a 2020 2020 2020 2020  esult),.        
+0000d190: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
 0000d1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1b0: 2020 2020 756e 7061 636b 5f73 7472 696e      unpack_strin
-0000d1c0: 6720 3d20 227b 7d73 222e 666f 726d 6174  g = "{}s".format
-0000d1d0: 286c 656e 2872 6573 756c 7429 290a 0a20  (len(result)).. 
+0000d1b0: 2020 2075 6e70 6163 6b5f 7374 7269 6e67     unpack_string
+0000d1c0: 203d 2022 7b7d 7322 2e66 6f72 6d61 7428   = "{}s".format(
+0000d1d0: 6c65 6e28 7265 7375 6c74 2929 0a0a 2020  len(result))..  
 0000d1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1f0: 2020 2070 6c63 5f76 616c 7565 732e 6170     plc_values.ap
-0000d200: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
-0000d210: 2020 2020 2020 2020 2020 2020 2020 6c6d                lm
-0000d220: 2e62 615f 746f 5f75 7374 7228 7374 7275  .ba_to_ustr(stru
-0000d230: 6374 2e75 6e70 6163 6b28 756e 7061 636b  ct.unpack(unpack
-0000d240: 5f73 7472 696e 672c 2072 6573 756c 7429  _string, result)
-0000d250: 5b30 5d29 0a20 2020 2020 2020 2020 2020  [0]).           
-0000d260: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0000d270: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0000d280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d290: 2020 2020 206c 6f67 6769 6e67 2e65 7272       logging.err
-0000d2a0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-0000d2b0: 2020 2020 2020 2020 2020 2020 2266 6169              "fai
-0000d2c0: 6c65 6420 746f 2072 6561 6420 7374 7269  led to read stri
-0000d2d0: 6e67 2025 6420 6672 6f6d 2061 6464 7265  ng %d from addre
-0000d2e0: 7373 2025 6422 2c0a 2020 2020 2020 2020  ss %d",.        
-0000d2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d300: 2866 6972 7374 5f65 6c65 6d65 6e74 202b  (first_element +
-0000d310: 2069 292c 0a20 2020 2020 2020 2020 2020   i),.           
-0000d320: 2020 2020 2020 2020 2020 2020 2061 6464               add
-0000d330: 7265 7373 2c0a 2020 2020 2020 2020 2020  ress,.          
-0000d340: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-0000d350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d360: 7265 7475 726e 205b 5d0a 2020 2020 2020  return [].      
-0000d370: 2020 656c 7365 3a0a 0a20 2020 2020 2020    else:..       
-0000d380: 2020 2020 206d 6178 5f65 6c65 6d65 6e74       max_element
-0000d390: 735f 7065 725f 7472 616e 7366 6572 203d  s_per_transfer =
-0000d3a0: 206d 6174 682e 666c 6f6f 7228 3235 3520   math.floor(255 
-0000d3b0: 2f20 6d65 6d5f 6279 7465 5f63 6f75 6e74  / mem_byte_count
-0000d3c0: 290a 2020 2020 2020 2020 2020 2020 6e75  ).            nu
-0000d3d0: 6d5f 6772 6f75 7073 203d 206d 6174 682e  m_groups = math.
-0000d3e0: 6365 696c 286e 756d 6265 725f 6f66 5f65  ceil(number_of_e
-0000d3f0: 6c65 6d65 6e74 7320 2f20 6d61 785f 656c  lements / max_el
-0000d400: 656d 656e 7473 5f70 6572 5f74 7261 6e73  ements_per_trans
-0000d410: 6665 7229 0a20 2020 2020 2020 2020 2020  fer).           
-0000d420: 206c 6f67 6769 6e67 2e64 6562 7567 280a   logging.debug(.
-0000d430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d440: 226d 656d 6f72 7920 7479 7065 2061 6c6c  "memory type all
-0000d450: 6f77 7320 2564 2065 6c65 6d65 6e74 7320  ows %d elements 
-0000d460: 7065 7220 7465 6c65 6772 616d 2c20 7370  per telegram, sp
-0000d470: 6c69 7420 7265 7175 6573 7420 696e 746f  lit request into
-0000d480: 2025 6420 6772 6f75 7028 7329 222c 0a20   %d group(s)",. 
-0000d490: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000d4a0: 6178 5f65 6c65 6d65 6e74 735f 7065 725f  ax_elements_per_
-0000d4b0: 7472 616e 7366 6572 2c0a 2020 2020 2020  transfer,.      
-0000d4c0: 2020 2020 2020 2020 2020 6e75 6d5f 6772            num_gr
-0000d4d0: 6f75 7073 2c0a 2020 2020 2020 2020 2020  oups,.          
-0000d4e0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-0000d4f0: 7265 6d61 696e 696e 675f 656c 656d 656e  remaining_elemen
-0000d500: 7473 203d 206e 756d 6265 725f 6f66 5f65  ts = number_of_e
-0000d510: 6c65 6d65 6e74 730a 0a20 2020 2020 2020  lements..       
-0000d520: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-0000d530: 6e67 6528 6e75 6d5f 6772 6f75 7073 293a  nge(num_groups):
-0000d540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d550: 2069 6620 7265 6d61 696e 696e 675f 656c   if remaining_el
-0000d560: 656d 656e 7473 203e 3d20 6d61 785f 656c  ements >= max_el
-0000d570: 656d 656e 7473 5f70 6572 5f74 7261 6e73  ements_per_trans
-0000d580: 6665 723a 0a20 2020 2020 2020 2020 2020  fer:.           
-0000d590: 2020 2020 2020 2020 2065 6c65 6d65 6e74           element
-0000d5a0: 735f 696e 5f67 726f 7570 203d 206d 6178  s_in_group = max
-0000d5b0: 5f65 6c65 6d65 6e74 735f 7065 725f 7472  _elements_per_tr
-0000d5c0: 616e 7366 6572 0a20 2020 2020 2020 2020  ansfer.         
-0000d5d0: 2020 2020 2020 2020 2020 2072 656d 6169             remai
-0000d5e0: 6e69 6e67 5f65 6c65 6d65 6e74 7320 2d3d  ning_elements -=
-0000d5f0: 206d 6178 5f65 6c65 6d65 6e74 735f 7065   max_elements_pe
-0000d600: 725f 7472 616e 7366 6572 0a20 2020 2020  r_transfer.     
-0000d610: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0000d620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d630: 2020 2020 2065 6c65 6d65 6e74 735f 696e       elements_in
-0000d640: 5f67 726f 7570 203d 2072 656d 6169 6e69  _group = remaini
-0000d650: 6e67 5f65 6c65 6d65 6e74 730a 2020 2020  ng_elements.    
-0000d660: 2020 2020 2020 2020 2020 2020 6164 6472              addr
-0000d670: 6573 7320 3d20 280a 2020 2020 2020 2020  ess = (.        
-0000d680: 2020 2020 2020 2020 2020 2020 7374 6172              star
-0000d690: 745f 6164 6472 6573 730a 2020 2020 2020  t_address.      
-0000d6a0: 2020 2020 2020 2020 2020 2020 2020 2b20                + 
-0000d6b0: 6669 7273 745f 656c 656d 656e 7420 2a20  first_element * 
-0000d6c0: 6d65 6d5f 6279 7465 5f63 6f75 6e74 0a20  mem_byte_count. 
+0000d1f0: 2020 706c 635f 7661 6c75 6573 2e61 7070    plc_values.app
+0000d200: 656e 6428 0a20 2020 2020 2020 2020 2020  end(.           
+0000d210: 2020 2020 2020 2020 2020 2020 206c 6d2e               lm.
+0000d220: 6261 5f74 6f5f 7573 7472 2873 7472 7563  ba_to_ustr(struc
+0000d230: 742e 756e 7061 636b 2875 6e70 6163 6b5f  t.unpack(unpack_
+0000d240: 7374 7269 6e67 2c20 7265 7375 6c74 295b  string, result)[
+0000d250: 305d 290a 2020 2020 2020 2020 2020 2020  0]).            
+0000d260: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000d270: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000d280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d290: 2020 2020 6c6f 6767 696e 672e 6572 726f      logging.erro
+0000d2a0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+0000d2b0: 2020 2020 2020 2020 2020 2022 6661 696c             "fail
+0000d2c0: 6564 2074 6f20 7265 6164 2073 7472 696e  ed to read strin
+0000d2d0: 6720 2564 2066 726f 6d20 6164 6472 6573  g %d from addres
+0000d2e0: 7320 2564 222c 0a20 2020 2020 2020 2020  s %d",.         
+0000d2f0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+0000d300: 6669 7273 745f 656c 656d 656e 7420 2b20  first_element + 
+0000d310: 6929 2c0a 2020 2020 2020 2020 2020 2020  i),.            
+0000d320: 2020 2020 2020 2020 2020 2020 6164 6472              addr
+0000d330: 6573 732c 0a20 2020 2020 2020 2020 2020  ess,.           
+0000d340: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0000d350: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000d360: 6574 7572 6e20 5b5d 0a20 2020 2020 2020  eturn [].       
+0000d370: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0000d380: 2020 206d 6178 5f65 6c65 6d65 6e74 735f     max_elements_
+0000d390: 7065 725f 7472 616e 7366 6572 203d 206d  per_transfer = m
+0000d3a0: 6174 682e 666c 6f6f 7228 3235 3520 2f20  ath.floor(255 / 
+0000d3b0: 6d65 6d5f 6279 7465 5f63 6f75 6e74 290a  mem_byte_count).
+0000d3c0: 2020 2020 2020 2020 2020 2020 6e75 6d5f              num_
+0000d3d0: 6772 6f75 7073 203d 206d 6174 682e 6365  groups = math.ce
+0000d3e0: 696c 286e 756d 6265 725f 6f66 5f65 6c65  il(number_of_ele
+0000d3f0: 6d65 6e74 7320 2f20 6d61 785f 656c 656d  ments / max_elem
+0000d400: 656e 7473 5f70 6572 5f74 7261 6e73 6665  ents_per_transfe
+0000d410: 7229 0a20 2020 2020 2020 2020 2020 206c  r).            l
+0000d420: 6f67 6769 6e67 2e64 6562 7567 280a 2020  ogging.debug(.  
+0000d430: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+0000d440: 656d 6f72 7920 7479 7065 2061 6c6c 6f77  emory type allow
+0000d450: 7320 2564 2065 6c65 6d65 6e74 7320 7065  s %d elements pe
+0000d460: 7220 7465 6c65 6772 616d 2c20 7370 6c69  r telegram, spli
+0000d470: 7420 7265 7175 6573 7420 696e 746f 2025  t request into %
+0000d480: 6420 6772 6f75 7028 7329 222c 0a20 2020  d group(s)",.   
+0000d490: 2020 2020 2020 2020 2020 2020 206d 6178               max
+0000d4a0: 5f65 6c65 6d65 6e74 735f 7065 725f 7472  _elements_per_tr
+0000d4b0: 616e 7366 6572 2c0a 2020 2020 2020 2020  ansfer,.        
+0000d4c0: 2020 2020 2020 2020 6e75 6d5f 6772 6f75          num_grou
+0000d4d0: 7073 2c0a 2020 2020 2020 2020 2020 2020  ps,.            
+0000d4e0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+0000d4f0: 6d61 696e 696e 675f 656c 656d 656e 7473  maining_elements
+0000d500: 203d 206e 756d 6265 725f 6f66 5f65 6c65   = number_of_ele
+0000d510: 6d65 6e74 730a 0a20 2020 2020 2020 2020  ments..         
+0000d520: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+0000d530: 6528 6e75 6d5f 6772 6f75 7073 293a 0a20  e(num_groups):. 
+0000d540: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000d550: 6620 7265 6d61 696e 696e 675f 656c 656d  f remaining_elem
+0000d560: 656e 7473 203e 3d20 6d61 785f 656c 656d  ents >= max_elem
+0000d570: 656e 7473 5f70 6572 5f74 7261 6e73 6665  ents_per_transfe
+0000d580: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+0000d590: 2020 2020 2020 2065 6c65 6d65 6e74 735f         elements_
+0000d5a0: 696e 5f67 726f 7570 203d 206d 6178 5f65  in_group = max_e
+0000d5b0: 6c65 6d65 6e74 735f 7065 725f 7472 616e  lements_per_tran
+0000d5c0: 7366 6572 0a20 2020 2020 2020 2020 2020  sfer.           
+0000d5d0: 2020 2020 2020 2020 2072 656d 6169 6e69           remaini
+0000d5e0: 6e67 5f65 6c65 6d65 6e74 7320 2d3d 206d  ng_elements -= m
+0000d5f0: 6178 5f65 6c65 6d65 6e74 735f 7065 725f  ax_elements_per_
+0000d600: 7472 616e 7366 6572 0a20 2020 2020 2020  transfer.       
+0000d610: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000d620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d630: 2020 2065 6c65 6d65 6e74 735f 696e 5f67     elements_in_g
+0000d640: 726f 7570 203d 2072 656d 6169 6e69 6e67  roup = remaining
+0000d650: 5f65 6c65 6d65 6e74 730a 2020 2020 2020  _elements.      
+0000d660: 2020 2020 2020 2020 2020 6164 6472 6573            addres
+0000d670: 7320 3d20 280a 2020 2020 2020 2020 2020  s = (.          
+0000d680: 2020 2020 2020 2020 2020 7374 6172 745f            start_
+0000d690: 6164 6472 6573 730a 2020 2020 2020 2020  address.        
+0000d6a0: 2020 2020 2020 2020 2020 2020 2b20 6669              + fi
+0000d6b0: 7273 745f 656c 656d 656e 7420 2a20 6d65  rst_element * me
+0000d6c0: 6d5f 6279 7465 5f63 6f75 6e74 0a20 2020  m_byte_count.   
 0000d6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d6e0: 2020 202b 2069 202a 2065 6c65 6d65 6e74     + i * element
-0000d6f0: 735f 696e 5f67 726f 7570 202a 206d 656d  s_in_group * mem
-0000d700: 5f62 7974 655f 636f 756e 740a 2020 2020  _byte_count.    
-0000d710: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0000d720: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-0000d730: 6767 696e 672e 6465 6275 6728 0a20 2020  gging.debug(.   
-0000d740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d750: 2022 6375 7272 656e 7420 7472 616e 7366   "current transf
-0000d760: 6572 2067 726f 7570 2025 6420 6861 7320  er group %d has 
-0000d770: 2564 2065 6c65 6d65 6e74 7322 2c20 692c  %d elements", i,
-0000d780: 2065 6c65 6d65 6e74 735f 696e 5f67 726f   elements_in_gro
-0000d790: 7570 0a20 2020 2020 2020 2020 2020 2020  up.             
-0000d7a0: 2020 2029 0a0a 2020 2020 2020 2020 2020     )..          
-0000d7b0: 2020 2020 2020 7061 796c 6f61 6420 3d20        payload = 
-0000d7c0: 6279 7465 6172 7261 7928 290a 2020 2020  bytearray().    
-0000d7d0: 2020 2020 2020 2020 2020 2020 7061 796c              payl
-0000d7e0: 6f61 642e 6578 7465 6e64 2873 7472 7563  oad.extend(struc
-0000d7f0: 742e 7061 636b 2822 214c 222c 2061 6464  t.pack("!L", add
-0000d800: 7265 7373 2929 0a20 2020 2020 2020 2020  ress)).         
-0000d810: 2020 2020 2020 2070 6179 6c6f 6164 2e65         payload.e
-0000d820: 7874 656e 6428 7374 7275 6374 2e70 6163  xtend(struct.pac
-0000d830: 6b28 2221 4222 2c20 656c 656d 656e 7473  k("!B", elements
-0000d840: 5f69 6e5f 6772 6f75 7020 2a20 6d65 6d5f  _in_group * mem_
-0000d850: 6279 7465 5f63 6f75 6e74 2929 0a20 2020  byte_count)).   
-0000d860: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0000d870: 756c 7420 3d20 7365 6c66 2e5f 7365 6e64  ult = self._send
-0000d880: 5f72 6563 6976 6528 6c63 2e43 4d44 2e52  _recive(lc.CMD.R
-0000d890: 5f4d 422c 2070 6179 6c6f 6164 2c20 6c63  _MB, payload, lc
-0000d8a0: 2e52 5350 2e53 5f4d 4229 0a20 2020 2020  .RSP.S_MB).     
-0000d8b0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-0000d8c0: 696e 7374 616e 6365 2872 6573 756c 742c  instance(result,
-0000d8d0: 2028 6279 7465 6172 7261 792c 2929 3a0a   (bytearray,)):.
+0000d6e0: 202b 2069 202a 2065 6c65 6d65 6e74 735f   + i * elements_
+0000d6f0: 696e 5f67 726f 7570 202a 206d 656d 5f62  in_group * mem_b
+0000d700: 7974 655f 636f 756e 740a 2020 2020 2020  yte_count.      
+0000d710: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000d720: 2020 2020 2020 2020 2020 2020 6c6f 6767              logg
+0000d730: 696e 672e 6465 6275 6728 0a20 2020 2020  ing.debug(.     
+0000d740: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000d750: 6375 7272 656e 7420 7472 616e 7366 6572  current transfer
+0000d760: 2067 726f 7570 2025 6420 6861 7320 2564   group %d has %d
+0000d770: 2065 6c65 6d65 6e74 7322 2c20 692c 2065   elements", i, e
+0000d780: 6c65 6d65 6e74 735f 696e 5f67 726f 7570  lements_in_group
+0000d790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d7a0: 2029 0a0a 2020 2020 2020 2020 2020 2020   )..            
+0000d7b0: 2020 2020 7061 796c 6f61 6420 3d20 6279      payload = by
+0000d7c0: 7465 6172 7261 7928 290a 2020 2020 2020  tearray().      
+0000d7d0: 2020 2020 2020 2020 2020 7061 796c 6f61            payloa
+0000d7e0: 642e 6578 7465 6e64 2873 7472 7563 742e  d.extend(struct.
+0000d7f0: 7061 636b 2822 214c 222c 2061 6464 7265  pack("!L", addre
+0000d800: 7373 2929 0a20 2020 2020 2020 2020 2020  ss)).           
+0000d810: 2020 2020 2070 6179 6c6f 6164 2e65 7874       payload.ext
+0000d820: 656e 6428 7374 7275 6374 2e70 6163 6b28  end(struct.pack(
+0000d830: 2221 4222 2c20 656c 656d 656e 7473 5f69  "!B", elements_i
+0000d840: 6e5f 6772 6f75 7020 2a20 6d65 6d5f 6279  n_group * mem_by
+0000d850: 7465 5f63 6f75 6e74 2929 0a20 2020 2020  te_count)).     
+0000d860: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+0000d870: 7420 3d20 7365 6c66 2e5f 7365 6e64 5f72  t = self._send_r
+0000d880: 6563 6976 6528 6c63 2e43 4d44 2e52 5f4d  ecive(lc.CMD.R_M
+0000d890: 422c 2070 6179 6c6f 6164 2c20 6c63 2e52  B, payload, lc.R
+0000d8a0: 5350 2e53 5f4d 4229 0a20 2020 2020 2020  SP.S_MB).       
+0000d8b0: 2020 2020 2020 2020 2069 6620 6973 696e           if isin
+0000d8c0: 7374 616e 6365 2872 6573 756c 742c 2028  stance(result, (
+0000d8d0: 6279 7465 6172 7261 792c 2929 3a0a 2020  bytearray,)):.  
 0000d8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d8f0: 2020 2020 6c6f 6767 696e 672e 6465 6275      logging.debu
-0000d900: 6728 0a20 2020 2020 2020 2020 2020 2020  g(.             
-0000d910: 2020 2020 2020 2020 2020 2022 7265 6164             "read
-0000d920: 2025 6420 7661 6c75 6528 7329 2066 726f   %d value(s) fro
-0000d930: 6d20 6164 6472 6573 7320 2564 222c 0a20  m address %d",. 
+0000d8f0: 2020 6c6f 6767 696e 672e 6465 6275 6728    logging.debug(
+0000d900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d910: 2020 2020 2020 2020 2022 7265 6164 2025           "read %
+0000d920: 6420 7661 6c75 6528 7329 2066 726f 6d20  d value(s) from 
+0000d930: 6164 6472 6573 7320 2564 222c 0a20 2020  address %d",.   
 0000d940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d950: 2020 2020 2020 2065 6c65 6d65 6e74 735f         elements_
-0000d960: 696e 5f67 726f 7570 2c0a 2020 2020 2020  in_group,.      
+0000d950: 2020 2020 2065 6c65 6d65 6e74 735f 696e       elements_in
+0000d960: 5f67 726f 7570 2c0a 2020 2020 2020 2020  _group,.        
 0000d970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d980: 2020 6669 7273 745f 656c 656d 656e 742c    first_element,
-0000d990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d9a0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-0000d9b0: 2020 2020 2020 2020 2020 2066 6f72 206a             for j
-0000d9c0: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
-0000d9d0: 2872 6573 756c 7429 2c20 6d65 6d5f 6279  (result), mem_by
-0000d9e0: 7465 5f63 6f75 6e74 293a 0a20 2020 2020  te_count):.     
+0000d980: 6669 7273 745f 656c 656d 656e 742c 0a20  first_element,. 
+0000d990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d9a0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+0000d9b0: 2020 2020 2020 2020 2066 6f72 206a 2069           for j i
+0000d9c0: 6e20 7261 6e67 6528 302c 206c 656e 2872  n range(0, len(r
+0000d9d0: 6573 756c 7429 2c20 6d65 6d5f 6279 7465  esult), mem_byte
+0000d9e0: 5f63 6f75 6e74 293a 0a20 2020 2020 2020  _count):.       
 0000d9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da00: 2020 2070 6c63 5f76 616c 7565 732e 6170     plc_values.ap
-0000da10: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
+0000da00: 2070 6c63 5f76 616c 7565 732e 6170 7065   plc_values.appe
+0000da10: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
 0000da20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da30: 2020 7374 7275 6374 2e75 6e70 6163 6b28    struct.unpack(
-0000da40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000da50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da60: 2075 6e70 6163 6b5f 7374 7269 6e67 2c20   unpack_string, 
-0000da70: 7265 7375 6c74 5b6a 203a 206a 202b 206d  result[j : j + m
-0000da80: 656d 5f62 7974 655f 636f 756e 745d 0a20  em_byte_count]. 
+0000da30: 7374 7275 6374 2e75 6e70 6163 6b28 0a20  struct.unpack(. 
+0000da40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000da50: 2020 2020 2020 2020 2020 2020 2020 2075                 u
+0000da60: 6e70 6163 6b5f 7374 7269 6e67 2c20 7265  npack_string, re
+0000da70: 7375 6c74 5b6a 203a 206a 202b 206d 656d  sult[j : j + mem
+0000da80: 5f62 7974 655f 636f 756e 745d 0a20 2020  _byte_count].   
 0000da90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000daa0: 2020 2020 2020 2020 2020 2029 5b30 5d0a             )[0].
+0000daa0: 2020 2020 2020 2020 2029 5b30 5d0a 2020           )[0].  
 0000dab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dac0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000dad0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000dac0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000dad0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
 0000dae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000daf0: 2020 2020 6c6f 6767 696e 672e 6572 726f      logging.erro
-0000db00: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-0000db10: 2020 2020 2020 2020 2020 2022 6661 696c             "fail
-0000db20: 6564 2074 6f20 7265 6164 2076 616c 7565  ed to read value
-0000db30: 2066 726f 6d20 6164 6472 6573 7320 2564   from address %d
-0000db40: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000db50: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0000db60: 5f61 6464 7265 7373 202b 2066 6972 7374  _address + first
-0000db70: 5f65 6c65 6d65 6e74 2c0a 2020 2020 2020  _element,.      
-0000db80: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000daf0: 2020 6c6f 6767 696e 672e 6572 726f 7228    logging.error(
+0000db00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000db10: 2020 2020 2020 2020 2022 6661 696c 6564           "failed
+0000db20: 2074 6f20 7265 6164 2076 616c 7565 2066   to read value f
+0000db30: 726f 6d20 6164 6472 6573 7320 2564 222c  rom address %d",
+0000db40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000db50: 2020 2020 2020 2020 2073 7461 7274 5f61           start_a
+0000db60: 6464 7265 7373 202b 2066 6972 7374 5f65  ddress + first_e
+0000db70: 6c65 6d65 6e74 2c0a 2020 2020 2020 2020  lement,.        
+0000db80: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
 0000db90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dba0: 2020 2020 7265 7475 726e 205b 5d0a 2020      return [].  
-0000dbb0: 2020 2020 2020 2020 2020 6c6f 6767 696e            loggin
-0000dbc0: 672e 6465 6275 6728 2272 6561 6420 6120  g.debug("read a 
-0000dbd0: 746f 7461 6c20 6f66 2025 6420 7661 6c75  total of %d valu
-0000dbe0: 6528 7329 222c 206c 656e 2870 6c63 5f76  e(s)", len(plc_v
-0000dbf0: 616c 7565 7329 290a 2020 2020 2020 2020  alues)).        
-0000dc00: 6966 206c 656e 2870 6c63 5f76 616c 7565  if len(plc_value
-0000dc10: 7329 2021 3d20 6e75 6d62 6572 5f6f 665f  s) != number_of_
-0000dc20: 656c 656d 656e 7473 3a0a 2020 2020 2020  elements:.      
-0000dc30: 2020 2020 2020 7261 6973 6520 4c53 5632        raise LSV2
-0000dc40: 4461 7461 4578 6365 7074 696f 6e28 0a20  DataException(. 
-0000dc50: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000dc60: 6e75 6d62 6572 206f 6620 7265 6365 6976  number of receiv
-0000dc70: 6564 2076 616c 7565 7320 2564 2069 7320  ed values %d is 
-0000dc80: 6e6f 7420 6571 7561 6c20 746f 206e 756d  not equal to num
-0000dc90: 6265 7220 6f66 2072 6571 7565 7374 6564  ber of requested
-0000dca0: 2025 6422 0a20 2020 2020 2020 2020 2020   %d".           
-0000dcb0: 2020 2020 2025 2028 6c65 6e28 706c 635f       % (len(plc_
-0000dcc0: 7661 6c75 6573 292c 206e 756d 6265 725f  values), number_
-0000dcd0: 6f66 5f65 6c65 6d65 6e74 7329 0a20 2020  of_elements).   
-0000dce0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0000dcf0: 2020 2072 6574 7572 6e20 706c 635f 7661     return plc_va
-0000dd00: 6c75 6573 0a0a 2020 2020 6465 6620 7365  lues..    def se
-0000dd10: 745f 6b65 7962 6f61 7264 5f61 6363 6573  t_keyboard_acces
-0000dd20: 7328 7365 6c66 2c20 756e 6c6f 636b 6564  s(self, unlocked
-0000dd30: 3a20 626f 6f6c 2920 2d3e 2062 6f6f 6c3a  : bool) -> bool:
-0000dd40: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000dd50: 2020 2020 2045 6e61 626c 6520 6f72 2064       Enable or d
-0000dd60: 6973 6162 6c65 2074 6865 206b 6579 626f  isable the keybo
-0000dd70: 6172 6420 6f6e 2074 6865 2063 6f6e 7472  ard on the contr
-0000dd80: 6f6c 2e0a 2020 2020 2020 2020 5265 7175  ol..        Requ
-0000dd90: 6972 6573 2061 6363 6573 7320 6c65 7665  ires access leve
-0000dda0: 6c20 6060 4d4f 4e49 544f 5260 6020 746f  l ``MONITOR`` to
-0000ddb0: 2077 6f72 6b2e 0a20 2020 2020 2020 2052   work..        R
-0000ddc0: 6574 7572 6e73 2060 6054 7275 6560 6020  eturns ``True`` 
-0000ddd0: 6966 2063 6f6d 706c 6574 6564 2073 7563  if completed suc
-0000dde0: 6365 7373 6675 6c6c 792e 0a0a 2020 2020  cessfully...    
-0000ddf0: 2020 2020 3a70 6172 616d 2075 6e6c 6f63      :param unloc
-0000de00: 6b65 643a 2069 6620 6060 5472 7565 6060  ked: if ``True``
-0000de10: 2075 6e6c 6f63 6b73 2074 6865 206b 6579   unlocks the key
-0000de20: 626f 6172 6420 736f 2069 7420 6361 6e20  board so it can 
-0000de30: 6265 2075 7365 642e 2049 6620 6060 4661  be used. If ``Fa
-0000de40: 6c73 6560 602c 2069 6e70 7574 2069 7320  lse``, input is 
-0000de50: 7365 7420 746f 206c 6f63 6b65 640a 2020  set to locked.  
-0000de60: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000de70: 2020 6966 2073 656c 662e 7665 7273 696f    if self.versio
-0000de80: 6e73 2e69 735f 746e 6337 2829 3a0a 2020  ns.is_tnc7():.  
-0000de90: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
-0000dea0: 6c6f 6767 6572 2e77 6172 6e69 6e67 2822  logger.warning("
-0000deb0: 7468 6973 2066 756e 6374 696f 6e20 6d69  this function mi
-0000dec0: 6768 7420 6e6f 7420 6265 2073 7570 706f  ght not be suppo
-0000ded0: 7274 6564 206f 6e20 544e 4337 2229 0a0a  rted on TNC7")..
-0000dee0: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
-0000def0: 656c 662e 6c6f 6769 6e28 6c63 2e4c 6f67  elf.login(lc.Log
-0000df00: 696e 2e4d 4f4e 4954 4f52 293a 0a20 2020  in.MONITOR):.   
-0000df10: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
-0000df20: 6f67 6765 722e 7761 726e 696e 6728 2263  ogger.warning("c
-0000df30: 6c6f 756c 6420 6e6f 7420 6c6f 6720 696e  lould not log in
-0000df40: 2061 7320 7573 6572 204d 4f4e 4954 4f52   as user MONITOR
-0000df50: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
-0000df60: 6574 7572 6e20 4661 6c73 650a 0a20 2020  eturn False..   
-0000df70: 2020 2020 2070 6179 6c6f 6164 203d 2062       payload = b
-0000df80: 7974 6561 7272 6179 2829 0a20 2020 2020  ytearray().     
-0000df90: 2020 2069 6620 756e 6c6f 636b 6564 3a0a     if unlocked:.
-0000dfa0: 2020 2020 2020 2020 2020 2020 7061 796c              payl
-0000dfb0: 6f61 642e 6578 7465 6e64 2873 7472 7563  oad.extend(struc
-0000dfc0: 742e 7061 636b 2822 2142 222c 2030 7830  t.pack("!B", 0x0
-0000dfd0: 3029 290a 2020 2020 2020 2020 656c 7365  0)).        else
-0000dfe0: 3a0a 2020 2020 2020 2020 2020 2020 7061  :.            pa
-0000dff0: 796c 6f61 642e 6578 7465 6e64 2873 7472  yload.extend(str
-0000e000: 7563 742e 7061 636b 2822 2142 222c 2030  uct.pack("!B", 0
-0000e010: 7830 3129 290a 0a20 2020 2020 2020 2072  x01))..        r
-0000e020: 6573 756c 7420 3d20 7365 6c66 2e5f 7365  esult = self._se
-0000e030: 6e64 5f72 6563 6976 6528 6c63 2e43 4d44  nd_recive(lc.CMD
-0000e040: 2e43 5f4c 4b2c 2070 6179 6c6f 6164 2c20  .C_LK, payload, 
-0000e050: 6c63 2e52 5350 2e54 5f4f 4b29 0a20 2020  lc.RSP.T_OK).   
-0000e060: 2020 2020 2069 6620 7265 7375 6c74 3a0a       if result:.
-0000e070: 2020 2020 2020 2020 2020 2020 6966 2075              if u
-0000e080: 6e6c 6f63 6b65 643a 0a20 2020 2020 2020  nlocked:.       
-0000e090: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
-0000e0a0: 6f67 6765 722e 6465 6275 6728 2263 6f6d  ogger.debug("com
-0000e0b0: 6d61 6e64 2074 6f20 756e 6c6f 636b 206b  mand to unlock k
-0000e0c0: 6579 626f 6172 6420 7761 7320 7375 6363  eyboard was succ
-0000e0d0: 6573 7366 756c 2229 0a20 2020 2020 2020  essful").       
-0000e0e0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0000e0f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000e100: 5f6c 6f67 6765 722e 6465 6275 6728 2263  _logger.debug("c
-0000e110: 6f6d 6d61 6e64 2074 6f20 6c6f 636b 206b  ommand to lock k
-0000e120: 6579 626f 6172 6420 7761 7320 7375 6363  eyboard was succ
-0000e130: 6573 7366 756c 2229 0a20 2020 2020 2020  essful").       
-0000e140: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
-0000e150: 0a20 2020 2020 2020 2073 656c 662e 5f6c  .        self._l
-0000e160: 6f67 6765 722e 7761 726e 696e 6728 0a20  ogger.warning(. 
-0000e170: 2020 2020 2020 2020 2020 2022 616e 2065             "an e
-0000e180: 7272 6f72 206f 6363 7572 7265 6420 6368  rror occurred ch
-0000e190: 616e 6769 6e67 2074 6865 2073 7461 7465  anging the state
-0000e1a0: 206f 6620 7468 6520 6b65 7962 6f61 7264   of the keyboard
-0000e1b0: 206c 6f63 6b22 0a20 2020 2020 2020 2029   lock".        )
-0000e1c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000e1d0: 4661 6c73 650a 0a20 2020 2064 6566 2067  False..    def g
-0000e1e0: 6574 5f6d 6163 6869 6e65 5f70 6172 616d  et_machine_param
-0000e1f0: 6574 6572 2873 656c 662c 206e 616d 653a  eter(self, name:
-0000e200: 2073 7472 2920 2d3e 2073 7472 3a0a 2020   str) -> str:.  
-0000e210: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000e220: 2020 5265 6164 206d 6163 6869 6e65 2070    Read machine p
-0000e230: 6172 616d 6574 6572 2066 726f 6d20 636f  arameter from co
-0000e240: 6e74 726f 6c2e 0a20 2020 2020 2020 2052  ntrol..        R
-0000e250: 6571 7569 7265 7320 6163 6365 7373 206c  equires access l
-0000e260: 6576 656c 2060 6049 4e53 5045 4354 6060  evel ``INSPECT``
-0000e270: 206c 6576 656c 2074 6f20 776f 726b 2e0a   level to work..
-0000e280: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000e290: 6e61 6d65 3a20 6e61 6d65 206f 6620 7468  name: name of th
-0000e2a0: 6520 6d61 6368 696e 6520 7061 7261 6d65  e machine parame
-0000e2b0: 7465 722e 0a20 2020 2020 2020 2022 2222  ter..        """
-0000e2c0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000e2d0: 7365 6c66 2e6c 6f67 696e 286c 632e 4c6f  self.login(lc.Lo
-0000e2e0: 6769 6e2e 494e 5350 4543 5429 3a0a 2020  gin.INSPECT):.  
-0000e2f0: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
-0000e300: 6c6f 6767 6572 2e77 6172 6e69 6e67 2822  logger.warning("
-0000e310: 636c 6f75 6c64 206e 6f74 206c 6f67 2069  clould not log i
-0000e320: 6e20 6173 2075 7365 7220 494e 5350 4543  n as user INSPEC
-0000e330: 5422 290a 2020 2020 2020 2020 2020 2020  T").            
-0000e340: 7265 7475 726e 2022 220a 0a20 2020 2020  return ""..     
-0000e350: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0000e360: 286e 616d 652c 2028 696e 742c 2929 3a0a  (name, (int,)):.
-0000e370: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-0000e380: 203d 2073 7472 286e 616d 6529 0a0a 2020   = str(name)..  
-0000e390: 2020 2020 2020 7061 796c 6f61 6420 3d20        payload = 
-0000e3a0: 6c6d 2e75 7374 725f 746f 5f62 6128 6e61  lm.ustr_to_ba(na
-0000e3b0: 6d65 290a 0a20 2020 2020 2020 2072 6573  me)..        res
-0000e3c0: 756c 7420 3d20 7365 6c66 2e5f 7365 6e64  ult = self._send
-0000e3d0: 5f72 6563 6976 6528 6c63 2e43 4d44 2e52  _recive(lc.CMD.R
-0000e3e0: 5f4d 432c 2070 6179 6c6f 6164 2c20 6c63  _MC, payload, lc
-0000e3f0: 2e52 5350 2e53 5f4d 4329 0a20 2020 2020  .RSP.S_MC).     
-0000e400: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0000e410: 2872 6573 756c 742c 2028 6279 7465 6172  (result, (bytear
-0000e420: 7261 792c 2929 2061 6e64 206c 656e 2872  ray,)) and len(r
-0000e430: 6573 756c 7429 203e 2030 3a0a 2020 2020  esult) > 0:.    
-0000e440: 2020 2020 2020 2020 7661 6c75 6520 3d20          value = 
-0000e450: 6c6d 2e62 615f 746f 5f75 7374 7228 7265  lm.ba_to_ustr(re
-0000e460: 7375 6c74 290a 2020 2020 2020 2020 2020  sult).          
-0000e470: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e64    self._logger.d
-0000e480: 6562 7567 2822 6d61 6368 696e 6520 7061  ebug("machine pa
-0000e490: 7261 6d65 7465 7220 2573 2068 6173 2076  rameter %s has v
-0000e4a0: 616c 7565 2025 7322 2c20 6e61 6d65 2c20  alue %s", name, 
-0000e4b0: 7661 6c75 6529 0a20 2020 2020 2020 2020  value).         
-0000e4c0: 2020 2072 6574 7572 6e20 7661 6c75 650a     return value.
-0000e4d0: 0a20 2020 2020 2020 2073 656c 662e 5f6c  .        self._l
-0000e4e0: 6f67 6765 722e 7761 726e 696e 6728 0a20  ogger.warning(. 
-0000e4f0: 2020 2020 2020 2020 2020 2022 616e 2065             "an e
-0000e500: 7272 6f72 206f 6363 7572 7265 6420 7768  rror occurred wh
-0000e510: 696c 6520 7265 6164 696e 6720 6d61 6368  ile reading mach
-0000e520: 696e 6520 7061 7261 6d65 7465 7220 2573  ine parameter %s
-0000e530: 222c 206e 616d 650a 2020 2020 2020 2020  ", name.        
-0000e540: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-0000e550: 2022 220a 0a20 2020 2064 6566 2073 6574   ""..    def set
-0000e560: 5f6d 6163 6869 6e65 5f70 6172 616d 6574  _machine_paramet
-0000e570: 6572 280a 2020 2020 2020 2020 7365 6c66  er(.        self
-0000e580: 2c20 6e61 6d65 3a20 7374 722c 2076 616c  , name: str, val
-0000e590: 7565 3a20 7374 722c 2073 6166 655f 746f  ue: str, safe_to
-0000e5a0: 5f64 6973 6b3a 2062 6f6f 6c20 3d20 4661  _disk: bool = Fa
-0000e5b0: 6c73 650a 2020 2020 2920 2d3e 2062 6f6f  lse.    ) -> boo
-0000e5c0: 6c3a 0a20 2020 2020 2020 2022 2222 0a20  l:.        """. 
-0000e5d0: 2020 2020 2020 2053 6574 206d 6163 6869         Set machi
-0000e5e0: 6e65 2070 6172 616d 6574 6572 206f 6e20  ne parameter on 
-0000e5f0: 636f 6e74 726f 6c2e 2057 7269 7469 6e67  control. Writing
-0000e600: 2061 2070 6172 616d 6574 6572 2074 616b   a parameter tak
-0000e610: 6573 2073 6f6d 6520 7469 6d65 2c20 6d61  es some time, ma
-0000e620: 6b65 2073 7572 6520 746f 2073 6574 2074  ke sure to set t
-0000e630: 696d 656f 7574 0a20 2020 2020 2020 2073  imeout.        s
-0000e640: 7566 6669 6369 656e 746c 7920 6869 6768  ufficiently high
-0000e650: 210a 2020 2020 2020 2020 5265 7175 6972  !.        Requir
-0000e660: 6573 2061 6363 6573 7320 6060 504c 4344  es access ``PLCD
-0000e670: 4542 5547 6060 206c 6576 656c 2074 6f20  EBUG`` level to 
-0000e680: 776f 726b 2e0a 2020 2020 2020 2020 5265  work..        Re
-0000e690: 7475 726e 7320 6060 5472 7565 6060 2069  turns ``True`` i
-0000e6a0: 6620 636f 6d70 6c65 7465 6420 7375 6363  f completed succ
-0000e6b0: 6573 7366 756c 6c79 2e0a 0a20 2020 2020  essfully...     
-0000e6c0: 2020 203a 7061 7261 6d20 6e61 6d65 3a20     :param name: 
-0000e6d0: 6e61 6d65 206f 6620 7468 6520 6d61 6368  name of the mach
-0000e6e0: 696e 6520 7061 7261 6d65 7465 722e 2046  ine parameter. F
-0000e6f0: 6f72 2069 544e 4320 7468 6520 7061 7261  or iTNC the para
-0000e700: 6d65 7465 7220 6e75 6d62 6572 2068 6173  meter number has
-0000e710: 6520 746f 2062 6520 636f 6e76 6572 7465  e to be converte
-0000e720: 6420 746f 2073 7472 696e 670a 2020 2020  d to string.    
-0000e730: 2020 2020 3a70 6172 616d 2076 616c 7565      :param value
-0000e740: 3a20 6e65 7720 7661 6c75 6520 6f66 2074  : new value of t
-0000e750: 6865 206d 6163 6869 6e65 2070 6172 616d  he machine param
-0000e760: 6574 6572 2e20 5468 6572 6520 6973 206e  eter. There is n
-0000e770: 6f20 7479 7065 2063 6865 636b 696e 672c  o type checking,
-0000e780: 2069 6620 7468 6520 7661 6c75 6520 6361   if the value ca
-0000e790: 6e20 6e6f 7420 6265 0a20 2020 2020 2020  n not be.       
-0000e7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e7b0: 2063 6f6e 7665 7274 6564 2062 7920 7468   converted by th
-0000e7c0: 6520 636f 6e74 726f 6c20 616e 2065 7272  e control an err
-0000e7d0: 6f72 2077 696c 6c20 6265 2073 656e 742e  or will be sent.
-0000e7e0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000e7f0: 7361 6665 5f74 6f5f 6469 736b 3a20 4966  safe_to_disk: If
-0000e800: 2054 7275 6520 7468 6520 6e65 7720 7661   True the new va
-0000e810: 6c75 6520 7769 6c6c 2062 6520 7772 6974  lue will be writ
-0000e820: 7465 6e20 746f 2074 6865 2068 6172 6464  ten to the hardd
-0000e830: 6973 6b20 616e 6420 7374 6179 2070 6572  isk and stay per
-0000e840: 6d61 6e65 6e74 2e0a 2020 2020 2020 2020  manent..        
-0000e850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e860: 4966 2046 616c 7365 2028 6465 6661 756c  If False (defaul
-0000e870: 7429 2074 6865 2076 616c 7565 2077 696c  t) the value wil
-0000e880: 6c20 6f6e 6c79 2062 6520 6176 6169 6c61  l only be availa
-0000e890: 626c 6520 756e 7469 6c20 7468 6520 6e65  ble until the ne
-0000e8a0: 7874 2072 6562 6f6f 742e 0a20 2020 2020  xt reboot..     
-0000e8b0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0000e8c0: 6620 6e6f 7420 7365 6c66 2e6c 6f67 696e  f not self.login
-0000e8d0: 286c 632e 4c6f 6769 6e2e 504c 4344 4542  (lc.Login.PLCDEB
-0000e8e0: 5547 293a 0a20 2020 2020 2020 2020 2020  UG):.           
-0000e8f0: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
-0000e900: 726e 696e 6728 2263 6c6f 756c 6420 6e6f  rning("clould no
-0000e910: 7420 6c6f 6720 696e 2061 7320 7573 6572  t log in as user
-0000e920: 2050 4c43 4445 4255 4722 290a 2020 2020   PLCDEBUG").    
-0000e930: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-0000e940: 616c 7365 0a0a 2020 2020 2020 2020 7061  alse..        pa
-0000e950: 796c 6f61 6420 3d20 6279 7465 6172 7261  yload = bytearra
-0000e960: 7928 290a 2020 2020 2020 2020 6966 2073  y().        if s
-0000e970: 6166 655f 746f 5f64 6973 6b3a 0a20 2020  afe_to_disk:.   
-0000e980: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
-0000e990: 2e65 7874 656e 6428 7374 7275 6374 2e70  .extend(struct.p
-0000e9a0: 6163 6b28 2221 4c22 2c20 3078 3030 2929  ack("!L", 0x00))
-0000e9b0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0000e9c0: 2020 2020 2020 2020 2020 2070 6179 6c6f             paylo
-0000e9d0: 6164 2e65 7874 656e 6428 7374 7275 6374  ad.extend(struct
-0000e9e0: 2e70 6163 6b28 2221 4c22 2c20 3078 3031  .pack("!L", 0x01
-0000e9f0: 2929 0a20 2020 2020 2020 2070 6179 6c6f  )).        paylo
-0000ea00: 6164 2e65 7874 656e 6428 6c6d 2e75 7374  ad.extend(lm.ust
-0000ea10: 725f 746f 5f62 6128 6e61 6d65 2929 0a20  r_to_ba(name)). 
-0000ea20: 2020 2020 2020 2070 6179 6c6f 6164 2e65         payload.e
-0000ea30: 7874 656e 6428 6c6d 2e75 7374 725f 746f  xtend(lm.ustr_to
-0000ea40: 5f62 6128 7661 6c75 6529 290a 0a20 2020  _ba(value))..   
-0000ea50: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
-0000ea60: 6c66 2e5f 7365 6e64 5f72 6563 6976 6528  lf._send_recive(
-0000ea70: 6c63 2e43 4d44 2e43 5f4d 432c 2070 6179  lc.CMD.C_MC, pay
-0000ea80: 6c6f 6164 2c20 6c63 2e52 5350 2e54 5f4f  load, lc.RSP.T_O
-0000ea90: 4b29 0a20 2020 2020 2020 2069 6620 7265  K).        if re
-0000eaa0: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
-0000eab0: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e64    self._logger.d
-0000eac0: 6562 7567 280a 2020 2020 2020 2020 2020  ebug(.          
-0000ead0: 2020 2020 2020 2273 6574 7469 6e67 206f        "setting o
-0000eae0: 6620 6d61 6368 696e 6520 7061 7261 6d65  f machine parame
-0000eaf0: 7465 7220 2573 2074 6f20 7661 6c75 6520  ter %s to value 
-0000eb00: 2573 2077 6173 2073 7563 6365 7373 6675  %s was successfu
-0000eb10: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
-0000eb20: 2020 2020 6e61 6d65 2c0a 2020 2020 2020      name,.      
-0000eb30: 2020 2020 2020 2020 2020 7661 6c75 652c            value,
-0000eb40: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-0000eb50: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000eb60: 6e20 5472 7565 0a0a 2020 2020 2020 2020  n True..        
-0000eb70: 7365 6c66 2e5f 6c6f 6767 6572 2e77 6172  self._logger.war
-0000eb80: 6e69 6e67 280a 2020 2020 2020 2020 2020  ning(.          
-0000eb90: 2020 2261 6e20 6572 726f 7220 6f63 6375    "an error occu
-0000eba0: 7272 6564 2077 6869 6c65 2073 6574 7469  rred while setti
-0000ebb0: 6e67 206d 6163 6869 6e65 2070 6172 616d  ng machine param
-0000ebc0: 6574 6572 2025 7320 746f 2076 616c 7565  eter %s to value
-0000ebd0: 2025 7322 2c0a 2020 2020 2020 2020 2020   %s",.          
-0000ebe0: 2020 6e61 6d65 2c0a 2020 2020 2020 2020    name,.        
-0000ebf0: 2020 2020 7661 6c75 652c 0a20 2020 2020      value,.     
-0000ec00: 2020 2029 0a20 2020 2020 2020 2072 6574     ).        ret
-0000ec10: 7572 6e20 4661 6c73 650a 0a20 2020 2064  urn False..    d
-0000ec20: 6566 2073 656e 645f 6b65 795f 636f 6465  ef send_key_code
-0000ec30: 2873 656c 662c 206b 6579 5f63 6f64 653a  (self, key_code:
-0000ec40: 2055 6e69 6f6e 5b6c 632e 4b65 7943 6f64   Union[lc.KeyCod
-0000ec50: 652c 206c 632e 4f6c 644b 6579 436f 6465  e, lc.OldKeyCode
-0000ec60: 5d29 202d 3e20 626f 6f6c 3a0a 2020 2020  ]) -> bool:.    
-0000ec70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000ec80: 5365 6e64 206b 6579 2063 6f64 6520 746f  Send key code to
-0000ec90: 2063 6f6e 7472 6f6c 2e20 4265 6861 7665   control. Behave
-0000eca0: 7320 6173 2069 6620 7468 6520 6173 736f  s as if the asso
-0000ecb0: 6369 6174 6564 206b 6579 2077 6173 2070  ciated key was p
-0000ecc0: 7265 7373 6564 206f 6e20 7468 6520 6b65  ressed on the ke
-0000ecd0: 7962 6f61 7264 2e0a 2020 2020 2020 2020  yboard..        
-0000ece0: 5265 7175 6972 6573 2061 6363 6573 7320  Requires access 
-0000ecf0: 6060 4d4f 4e49 544f 5260 6020 6c65 7665  ``MONITOR`` leve
-0000ed00: 6c20 746f 2077 6f72 6b2e 0a20 2020 2020  l to work..     
-0000ed10: 2020 2054 6f20 776f 726b 2063 6f72 7265     To work corre
-0000ed20: 6374 6c79 2079 6f75 2066 6972 7374 2068  ctly you first h
-0000ed30: 6176 6520 746f 206c 6f63 6b20 7468 6520  ave to lock the 
-0000ed40: 6b65 7962 6f61 7264 2061 6e64 2075 6e6c  keyboard and unl
-0000ed50: 6f63 6b20 6974 2061 6674 6572 7761 7264  ock it afterward
-0000ed60: 7321 3a0a 0a20 2020 2020 2020 202e 2e20  s!:..        .. 
-0000ed70: 636f 6465 2d62 6c6f 636b 3a3a 2070 7974  code-block:: pyt
-0000ed80: 686f 6e0a 0a20 2020 2020 2020 2020 2020  hon..           
-0000ed90: 2073 6574 5f6b 6579 626f 6172 645f 6163   set_keyboard_ac
-0000eda0: 6365 7373 2846 616c 7365 290a 2020 2020  cess(False).    
-0000edb0: 2020 2020 2020 2020 7365 6e64 5f6b 6579          send_key
-0000edc0: 5f63 6f64 6528 4b65 7943 6f64 652e 4345  _code(KeyCode.CE
-0000edd0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0000ede0: 745f 6b65 7962 6f61 7264 5f61 6363 6573  t_keyboard_acces
-0000edf0: 7328 5472 7565 290a 0a20 2020 2020 2020  s(True)..       
-0000ee00: 2052 6574 7572 6e73 2060 6054 7275 6560   Returns ``True`
-0000ee10: 6020 6966 2063 6f6d 706c 6574 6564 2073  ` if completed s
-0000ee20: 7563 6365 7373 6675 6c6c 792e 0a0a 2020  uccessfully...  
-0000ee30: 2020 2020 2020 3a70 6172 616d 206b 6579        :param key
-0000ee40: 5f63 6f64 653a 2063 6f64 6520 6e75 6d62  _code: code numb
-0000ee50: 6572 206f 6620 7468 6520 6b65 7962 6f61  er of the keyboa
-0000ee60: 7264 206b 6579 0a20 2020 2020 2020 2022  rd key.        "
-0000ee70: 2222 0a20 2020 2020 2020 2069 6620 7365  "".        if se
-0000ee80: 6c66 2e76 6572 7369 6f6e 732e 6973 5f74  lf.versions.is_t
-0000ee90: 6e63 3728 293a 0a20 2020 2020 2020 2020  nc7():.         
-0000eea0: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
-0000eeb0: 7761 726e 696e 6728 2274 6869 7320 6675  warning("this fu
-0000eec0: 6e63 7469 6f6e 206d 6967 6874 206e 6f74  nction might not
-0000eed0: 2062 6520 7375 7070 6f72 7465 6420 6f6e   be supported on
-0000eee0: 2054 4e43 3722 290a 0a20 2020 2020 2020   TNC7")..       
-0000eef0: 2069 6620 6e6f 7420 7365 6c66 2e6c 6f67   if not self.log
-0000ef00: 696e 286c 632e 4c6f 6769 6e2e 4d4f 4e49  in(lc.Login.MONI
-0000ef10: 544f 5229 3a0a 2020 2020 2020 2020 2020  TOR):.          
-0000ef20: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e77    self._logger.w
-0000ef30: 6172 6e69 6e67 2822 636c 6f75 6c64 206e  arning("clould n
-0000ef40: 6f74 206c 6f67 2069 6e20 6173 2075 7365  ot log in as use
-0000ef50: 7220 4d4f 4e49 544f 5222 290a 2020 2020  r MONITOR").    
-0000ef60: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-0000ef70: 616c 7365 0a0a 2020 2020 2020 2020 7061  alse..        pa
-0000ef80: 796c 6f61 6420 3d20 6279 7465 6172 7261  yload = bytearra
-0000ef90: 7928 290a 2020 2020 2020 2020 7061 796c  y().        payl
-0000efa0: 6f61 642e 6578 7465 6e64 2873 7472 7563  oad.extend(struc
-0000efb0: 742e 7061 636b 2822 2148 222c 206b 6579  t.pack("!H", key
-0000efc0: 5f63 6f64 6529 290a 0a20 2020 2020 2020  _code))..       
-0000efd0: 2072 6573 756c 7420 3d20 7365 6c66 2e5f   result = self._
-0000efe0: 7365 6e64 5f72 6563 6976 6528 6c63 2e43  send_recive(lc.C
-0000eff0: 4d44 2e43 5f45 4b2c 2070 6179 6c6f 6164  MD.C_EK, payload
-0000f000: 2c20 6c63 2e52 5350 2e54 5f4f 4b29 0a20  , lc.RSP.T_OK). 
-0000f010: 2020 2020 2020 2069 6620 7265 7375 6c74         if result
-0000f020: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000f030: 6c66 2e5f 6c6f 6767 6572 2e64 6562 7567  lf._logger.debug
-0000f040: 2822 7365 6e64 696e 6720 7468 6520 6b65  ("sending the ke
-0000f050: 7920 636f 6465 2025 6420 7761 7320 7375  y code %d was su
-0000f060: 6363 6573 7366 756c 222c 206b 6579 5f63  ccessful", key_c
-0000f070: 6f64 6529 0a20 2020 2020 2020 2020 2020  ode).           
-0000f080: 2072 6574 7572 6e20 5472 7565 0a0a 2020   return True..  
-0000f090: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-0000f0a0: 6572 2e77 6172 6e69 6e67 280a 2020 2020  er.warning(.    
-0000f0b0: 2020 2020 2020 2020 2261 6e20 6572 726f          "an erro
-0000f0c0: 7220 6f63 6375 7272 6564 2077 6869 6c65  r occurred while
-0000f0d0: 2073 656e 6469 6e67 2074 6865 206b 6579   sending the key
-0000f0e0: 2063 6f64 6520 2564 222c 206b 6579 5f63   code %d", key_c
-0000f0f0: 6f64 650a 2020 2020 2020 2020 290a 2020  ode.        ).  
-0000f100: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
-0000f110: 7365 0a0a 2020 2020 6465 6620 7370 696e  se..    def spin
-0000f120: 646c 655f 746f 6f6c 5f73 7461 7475 7328  dle_tool_status(
-0000f130: 7365 6c66 2920 2d3e 2055 6e69 6f6e 5b6c  self) -> Union[l
-0000f140: 642e 546f 6f6c 496e 666f 726d 6174 696f  d.ToolInformatio
-0000f150: 6e2c 204e 6f6e 655d 3a0a 2020 2020 2020  n, None]:.      
-0000f160: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-0000f170: 7420 696e 666f 726d 6174 696f 6e20 6162  t information ab
-0000f180: 6f75 7420 7468 6520 746f 6f6c 2063 7572  out the tool cur
-0000f190: 7265 6e74 6c79 2069 6e20 7468 6520 7370  rently in the sp
-0000f1a0: 696e 646c 650a 2020 2020 2020 2020 5265  indle.        Re
-0000f1b0: 7175 6972 6573 2061 6363 6573 7320 6c65  quires access le
-0000f1c0: 7665 6c20 6060 444e 4360 6020 746f 2077  vel ``DNC`` to w
-0000f1d0: 6f72 6b2e 0a20 2020 2020 2020 2022 2222  ork..        """
-0000f1e0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000f1f0: 7365 6c66 2e6c 6f67 696e 286c 632e 4c6f  self.login(lc.Lo
-0000f200: 6769 6e2e 444e 4329 3a0a 2020 2020 2020  gin.DNC):.      
-0000f210: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-0000f220: 6572 2e77 6172 6e69 6e67 2822 636c 6f75  er.warning("clou
-0000f230: 6c64 206e 6f74 206c 6f67 2069 6e20 6173  ld not log in as
-0000f240: 2075 7365 7220 444e 4322 290a 2020 2020   user DNC").    
-0000f250: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-0000f260: 6f6e 650a 0a20 2020 2020 2020 2070 6179  one..        pay
-0000f270: 6c6f 6164 203d 2062 7974 6561 7272 6179  load = bytearray
-0000f280: 2829 0a20 2020 2020 2020 2070 6179 6c6f  ().        paylo
-0000f290: 6164 2e65 7874 656e 6428 7374 7275 6374  ad.extend(struct
-0000f2a0: 2e70 6163 6b28 2221 4822 2c20 6c63 2e50  .pack("!H", lc.P
-0000f2b0: 6172 5252 492e 4355 5252 454e 545f 544f  arRRI.CURRENT_TO
-0000f2c0: 4f4c 2929 0a0a 2020 2020 2020 2020 7265  OL))..        re
-0000f2d0: 7375 6c74 203d 2073 656c 662e 5f73 656e  sult = self._sen
-0000f2e0: 645f 7265 6369 7665 286c 632e 434d 442e  d_recive(lc.CMD.
-0000f2f0: 525f 5249 2c20 7061 796c 6f61 642c 206c  R_RI, payload, l
-0000f300: 632e 5253 502e 535f 5249 290a 2020 2020  c.RSP.S_RI).    
-0000f310: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0000f320: 6528 7265 7375 6c74 2c20 2862 7974 6561  e(result, (bytea
-0000f330: 7272 6179 2c29 2920 616e 6420 6c65 6e28  rray,)) and len(
-0000f340: 7265 7375 6c74 2920 3e20 303a 0a20 2020  result) > 0:.   
-0000f350: 2020 2020 2020 2020 2074 6f6f 6c5f 696e           tool_in
-0000f360: 666f 203d 206c 6d2e 6465 636f 6465 5f74  fo = lm.decode_t
-0000f370: 6f6f 6c5f 696e 666f 2872 6573 756c 7429  ool_info(result)
-0000f380: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000f390: 662e 5f6c 6f67 6765 722e 6465 6275 6728  f._logger.debug(
-0000f3a0: 2273 7563 6365 7373 6675 6c6c 7920 7265  "successfully re
-0000f3b0: 6164 2069 6e66 6f20 6f6e 2063 7572 7265  ad info on curre
-0000f3c0: 6e74 2074 6f6f 6c3a 2025 7322 2c20 746f  nt tool: %s", to
-0000f3d0: 6f6c 5f69 6e66 6f29 0a20 2020 2020 2020  ol_info).       
-0000f3e0: 2020 2020 2072 6574 7572 6e20 746f 6f6c       return tool
-0000f3f0: 5f69 6e66 6f0a 2020 2020 2020 2020 7365  _info.        se
-0000f400: 6c66 2e5f 6c6f 6767 6572 2e77 6172 6e69  lf._logger.warni
-0000f410: 6e67 280a 2020 2020 2020 2020 2020 2020  ng(.            
-0000f420: 2261 6e20 6572 726f 7220 6f63 6375 7272  "an error occurr
-0000f430: 6564 2077 6869 6c65 2071 7565 7279 696e  ed while queryin
-0000f440: 6720 6375 7272 656e 7420 746f 6f6c 2069  g current tool i
-0000f450: 6e66 6f72 6d61 7469 6f6e 2e20 5468 6973  nformation. This
-0000f460: 2064 6f65 7320 6e6f 7420 776f 726b 2066   does not work f
-0000f470: 6f72 2061 6c6c 2063 6f6e 7472 6f6c 2074  or all control t
-0000f480: 7970 6573 220a 2020 2020 2020 2020 290a  ypes".        ).
-0000f490: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-0000f4a0: 6f6e 650a 0a20 2020 2064 6566 206f 7665  one..    def ove
-0000f4b0: 7272 6964 655f 7374 6174 6528 7365 6c66  rride_state(self
-0000f4c0: 2920 2d3e 2055 6e69 6f6e 5b6c 642e 4f76  ) -> Union[ld.Ov
-0000f4d0: 6572 7269 6465 5374 6174 652c 204e 6f6e  errideState, Non
-0000f4e0: 655d 3a0a 2020 2020 2020 2020 2222 220a  e]:.        """.
-0000f4f0: 2020 2020 2020 2020 4765 7420 696e 666f          Get info
-0000f500: 726d 6174 696f 6e20 6162 6f75 7420 7468  rmation about th
-0000f510: 6520 6f76 6572 7269 6465 2069 6e66 6f2e  e override info.
-0000f520: 0a20 2020 2020 2020 2052 6571 7569 7265  .        Require
-0000f530: 7320 6163 6365 7373 206c 6576 656c 2060  s access level `
-0000f540: 6044 4e43 6060 2074 6f20 776f 726b 2e0a  `DNC`` to work..
-0000f550: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000f560: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-0000f570: 6c6f 6769 6e28 6c63 2e4c 6f67 696e 2e44  login(lc.Login.D
-0000f580: 4e43 293a 0a20 2020 2020 2020 2020 2020  NC):.           
-0000f590: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
-0000f5a0: 726e 696e 6728 2263 6c6f 756c 6420 6e6f  rning("clould no
-0000f5b0: 7420 6c6f 6720 696e 2061 7320 7573 6572  t log in as user
-0000f5c0: 2044 4e43 2229 0a20 2020 2020 2020 2020   DNC").         
-0000f5d0: 2020 2072 6574 7572 6e20 4e6f 6e65 0a0a     return None..
-0000f5e0: 2020 2020 2020 2020 7061 796c 6f61 6420          payload 
-0000f5f0: 3d20 6279 7465 6172 7261 7928 290a 2020  = bytearray().  
-0000f600: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
-0000f610: 7465 6e64 2873 7472 7563 742e 7061 636b  tend(struct.pack
-0000f620: 2822 2148 222c 206c 632e 5061 7252 5249  ("!H", lc.ParRRI
-0000f630: 2e4f 5645 5252 4944 4529 290a 0a20 2020  .OVERRIDE))..   
-0000f640: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
-0000f650: 6c66 2e5f 7365 6e64 5f72 6563 6976 6528  lf._send_recive(
-0000f660: 6c63 2e43 4d44 2e52 5f52 492c 2070 6179  lc.CMD.R_RI, pay
-0000f670: 6c6f 6164 2c20 6c63 2e52 5350 2e53 5f52  load, lc.RSP.S_R
-0000f680: 4929 0a20 2020 2020 2020 2069 6620 6973  I).        if is
-0000f690: 696e 7374 616e 6365 2872 6573 756c 742c  instance(result,
-0000f6a0: 2028 6279 7465 6172 7261 792c 2929 2061   (bytearray,)) a
-0000f6b0: 6e64 206c 656e 2872 6573 756c 7429 203e  nd len(result) >
-0000f6c0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-0000f6d0: 6f76 6572 7269 6465 5f69 6e66 6f20 3d20  override_info = 
-0000f6e0: 6c6d 2e64 6563 6f64 655f 6f76 6572 7269  lm.decode_overri
-0000f6f0: 6465 5f73 7461 7465 2872 6573 756c 7429  de_state(result)
-0000f700: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000f710: 662e 5f6c 6f67 6765 722e 6465 6275 6728  f._logger.debug(
-0000f720: 2273 7563 6365 7373 6675 6c6c 7920 7265  "successfully re
-0000f730: 6164 206f 7665 7272 6964 6520 696e 666f  ad override info
-0000f740: 3a20 2573 222c 206f 7665 7272 6964 655f  : %s", override_
-0000f750: 696e 666f 290a 2020 2020 2020 2020 2020  info).          
-0000f760: 2020 7265 7475 726e 206f 7665 7272 6964    return overrid
-0000f770: 655f 696e 666f 0a20 2020 2020 2020 2073  e_info.        s
-0000f780: 656c 662e 5f6c 6f67 6765 722e 7761 726e  elf._logger.warn
-0000f790: 696e 6728 0a20 2020 2020 2020 2020 2020  ing(.           
-0000f7a0: 2022 616e 2065 7272 6f72 206f 6363 7572   "an error occur
-0000f7b0: 7265 6420 7768 696c 6520 7175 6572 7969  red while queryi
-0000f7c0: 6e67 2063 7572 7265 6e74 206f 7665 7272  ng current overr
-0000f7d0: 6964 6520 696e 666f 726d 6174 696f 6e2e  ide information.
-0000f7e0: 2054 6869 7320 646f 6573 206e 6f74 2077   This does not w
-0000f7f0: 6f72 6b20 666f 7220 616c 6c20 636f 6e74  ork for all cont
-0000f800: 726f 6c20 7479 7065 7322 0a20 2020 2020  rol types".     
-0000f810: 2020 2029 0a20 2020 2020 2020 2072 6574     ).        ret
-0000f820: 7572 6e20 4e6f 6e65 0a0a 2020 2020 6465  urn None..    de
-0000f830: 6620 6765 745f 6572 726f 725f 6d65 7373  f get_error_mess
-0000f840: 6167 6573 2873 656c 6629 202d 3e20 4c69  ages(self) -> Li
-0000f850: 7374 5b6c 642e 4e43 4572 726f 724d 6573  st[ld.NCErrorMes
-0000f860: 7361 6765 5d3a 0a20 2020 2020 2020 2022  sage]:.        "
-0000f870: 2222 0a20 2020 2020 2020 2047 6574 2069  "".        Get i
-0000f880: 6e66 6f72 6d61 7469 6f6e 2061 626f 7574  nformation about
-0000f890: 2074 6865 2066 6972 7374 206f 7220 6e65   the first or ne
-0000f8a0: 7874 2065 7272 6f72 2064 6973 706c 6179  xt error display
-0000f8b0: 6564 206f 6e20 7468 6520 636f 6e74 726f  ed on the contro
-0000f8c0: 6c0a 2020 2020 2020 2020 5265 7175 6972  l.        Requir
-0000f8d0: 6573 2061 6363 6573 7320 6c65 7665 6c20  es access level 
-0000f8e0: 6060 444e 4360 6020 746f 2077 6f72 6b2e  ``DNC`` to work.
-0000f8f0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0000f900: 2065 7272 6f72 206c 6973 7420 6f66 2065   error list of e
-0000f910: 7272 6f72 206d 6573 7361 6765 730a 2020  rror messages.  
-0000f920: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000f930: 2020 6d65 7373 6167 6573 203d 205b 5d0a    messages = [].
-0000f940: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
-0000f950: 656c 662e 6c6f 6769 6e28 6c63 2e4c 6f67  elf.login(lc.Log
-0000f960: 696e 2e44 4e43 293a 0a20 2020 2020 2020  in.DNC):.       
-0000f970: 2020 2020 2073 656c 662e 5f6c 6f67 6765       self._logge
-0000f980: 722e 7761 726e 696e 6728 2263 6c6f 756c  r.warning("cloul
-0000f990: 6420 6e6f 7420 6c6f 6720 696e 2061 7320  d not log in as 
-0000f9a0: 7573 6572 2044 4e43 2229 0a20 2020 2020  user DNC").     
-0000f9b0: 2020 2020 2020 2072 6574 7572 6e20 5b5d         return []
-0000f9c0: 0a0a 2020 2020 2020 2020 7061 796c 6f61  ..        payloa
-0000f9d0: 6420 3d20 6279 7465 6172 7261 7928 290a  d = bytearray().
-0000f9e0: 2020 2020 2020 2020 7061 796c 6f61 642e          payload.
-0000f9f0: 6578 7465 6e64 2873 7472 7563 742e 7061  extend(struct.pa
-0000fa00: 636b 2822 2148 222c 206c 632e 5061 7252  ck("!H", lc.ParR
-0000fa10: 5249 2e46 4952 5354 5f45 5252 4f52 2929  RI.FIRST_ERROR))
-0000fa20: 0a0a 2020 2020 2020 2020 7265 7375 6c74  ..        result
-0000fa30: 203d 2073 656c 662e 5f73 656e 645f 7265   = self._send_re
-0000fa40: 6369 7665 286c 632e 434d 442e 525f 5249  cive(lc.CMD.R_RI
-0000fa50: 2c20 7061 796c 6f61 642c 206c 632e 5253  , payload, lc.RS
-0000fa60: 502e 535f 5249 290a 2020 2020 2020 2020  P.S_RI).        
-0000fa70: 6966 2069 7369 6e73 7461 6e63 6528 7265  if isinstance(re
-0000fa80: 7375 6c74 2c20 2862 7974 6561 7272 6179  sult, (bytearray
-0000fa90: 2c29 2920 616e 6420 6c65 6e28 7265 7375  ,)) and len(resu
-0000faa0: 6c74 2920 3e20 303a 0a20 2020 2020 2020  lt) > 0:.       
-0000fab0: 2020 2020 206d 6573 7361 6765 732e 6170       messages.ap
-0000fac0: 7065 6e64 286c 6d2e 6465 636f 6465 5f65  pend(lm.decode_e
-0000fad0: 7272 6f72 5f6d 6573 7361 6765 2872 6573  rror_message(res
-0000fae0: 756c 7429 290a 2020 2020 2020 2020 2020  ult)).          
-0000faf0: 2020 7061 796c 6f61 6420 3d20 6279 7465    payload = byte
-0000fb00: 6172 7261 7928 290a 2020 2020 2020 2020  array().        
-0000fb10: 2020 2020 7061 796c 6f61 642e 6578 7465      payload.exte
-0000fb20: 6e64 2873 7472 7563 742e 7061 636b 2822  nd(struct.pack("
-0000fb30: 2148 222c 206c 632e 5061 7252 5249 2e4e  !H", lc.ParRRI.N
-0000fb40: 4558 545f 4552 524f 5229 290a 2020 2020  EXT_ERROR)).    
-0000fb50: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-0000fb60: 2073 656c 662e 5f73 656e 645f 7265 6369   self._send_reci
-0000fb70: 7665 286c 632e 434d 442e 525f 5249 2c20  ve(lc.CMD.R_RI, 
-0000fb80: 7061 796c 6f61 642c 206c 632e 5253 502e  payload, lc.RSP.
-0000fb90: 535f 5249 290a 2020 2020 2020 2020 2020  S_RI).          
-0000fba0: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e64    self._logger.d
-0000fbb0: 6562 7567 2822 7375 6363 6573 7366 756c  ebug("successful
-0000fbc0: 6c79 2072 6561 6420 6669 7273 7420 6572  ly read first er
-0000fbd0: 726f 7220 6275 7420 6675 7274 6865 7220  ror but further 
-0000fbe0: 6572 726f 7273 2229 0a0a 2020 2020 2020  errors")..      
-0000fbf0: 2020 2020 2020 7768 696c 6520 6973 696e        while isin
-0000fc00: 7374 616e 6365 2872 6573 756c 742c 2028  stance(result, (
-0000fc10: 6279 7465 6172 7261 792c 2929 3a0a 2020  bytearray,)):.  
-0000fc20: 2020 2020 2020 2020 2020 2020 2020 6d65                me
-0000fc30: 7373 6167 6573 2e61 7070 656e 6428 6c6d  ssages.append(lm
-0000fc40: 2e64 6563 6f64 655f 6572 726f 725f 6d65  .decode_error_me
-0000fc50: 7373 6167 6528 7265 7375 6c74 2929 0a20  ssage(result)). 
-0000fc60: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000fc70: 6573 756c 7420 3d20 7365 6c66 2e5f 7365  esult = self._se
-0000fc80: 6e64 5f72 6563 6976 6528 6c63 2e43 4d44  nd_recive(lc.CMD
-0000fc90: 2e52 5f52 492c 2070 6179 6c6f 6164 2c20  .R_RI, payload, 
-0000fca0: 6c63 2e52 5350 2e53 5f52 4929 0a0a 2020  lc.RSP.S_RI)..  
-0000fcb0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-0000fcc0: 662e 6c61 7374 5f65 7272 6f72 2069 7320  f.last_error is 
-0000fcd0: 6c63 2e4c 5356 3253 7461 7475 7343 6f64  lc.LSV2StatusCod
-0000fce0: 652e 545f 4552 5f4e 4f5f 4e45 5854 5f45  e.T_ER_NO_NEXT_E
-0000fcf0: 5252 4f52 3a0a 2020 2020 2020 2020 2020  RROR:.          
-0000fd00: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-0000fd10: 6572 2e64 6562 7567 2822 7375 6363 6573  er.debug("succes
-0000fd20: 7366 756c 6c79 2072 6561 6420 616c 6c20  sfully read all 
-0000fd30: 6572 726f 7273 2229 0a20 2020 2020 2020  errors").       
-0000fd40: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0000fd50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000fd60: 5f6c 6f67 6765 722e 7761 726e 696e 6728  _logger.warning(
-0000fd70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fd80: 2020 2020 2022 616e 2065 7272 6f72 206f       "an error o
-0000fd90: 6363 7572 7265 6420 7768 696c 6520 7175  ccurred while qu
-0000fda0: 6572 7969 6e67 2065 7272 6f72 2069 6e66  erying error inf
-0000fdb0: 6f72 6d61 7469 6f6e 2e22 0a20 2020 2020  ormation.".     
-0000fdc0: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-0000fdd0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000fde0: 206d 6573 7361 6765 730a 0a20 2020 2020   messages..     
-0000fdf0: 2020 2069 6620 7365 6c66 2e6c 6173 745f     if self.last_
-0000fe00: 6572 726f 7220 6973 206c 632e 4c53 5632  error is lc.LSV2
-0000fe10: 5374 6174 7573 436f 6465 2e54 5f45 525f  StatusCode.T_ER_
-0000fe20: 4e4f 5f4e 4558 545f 4552 524f 523a 0a20  NO_NEXT_ERROR:. 
-0000fe30: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000fe40: 5f6c 6f67 6765 722e 6465 6275 6728 2273  _logger.debug("s
-0000fe50: 7563 6365 7373 6675 6c6c 7920 7265 6164  uccessfully read
-0000fe60: 2066 6972 7374 2065 7272 6f72 2062 7574   first error but
-0000fe70: 206e 6f20 6572 726f 7220 6163 7469 7665   no error active
-0000fe80: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
-0000fe90: 6574 7572 6e20 6d65 7373 6167 6573 0a0a  eturn messages..
-0000fea0: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
-0000feb0: 6767 6572 2e77 6172 6e69 6e67 280a 2020  gger.warning(.  
-0000fec0: 2020 2020 2020 2020 2020 2261 6e20 6572            "an er
-0000fed0: 726f 7220 6f63 6375 7272 6564 2077 6869  ror occurred whi
-0000fee0: 6c65 2071 7565 7279 696e 6720 6572 726f  le querying erro
-0000fef0: 7220 696e 666f 726d 6174 696f 6e2e 2054  r information. T
-0000ff00: 6869 7320 646f 6573 206e 6f74 2077 6f72  his does not wor
-0000ff10: 6b20 666f 7220 616c 6c20 636f 6e74 726f  k for all contro
-0000ff20: 6c20 7479 7065 7322 0a20 2020 2020 2020  l types".       
-0000ff30: 2029 0a0a 2020 2020 2020 2020 7265 7475   )..        retu
-0000ff40: 726e 205b 5d0a 0a20 2020 2064 6566 205f  rn []..    def _
-0000ff50: 7761 6c6b 5f64 6972 2873 656c 662c 2064  walk_dir(self, d
-0000ff60: 6573 6365 6e64 3a20 626f 6f6c 203d 2054  escend: bool = T
-0000ff70: 7275 6529 202d 3e20 4c69 7374 5b73 7472  rue) -> List[str
-0000ff80: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
-0000ff90: 2020 2020 2020 2068 656c 7065 7220 6675         helper fu
-0000ffa0: 6e63 7469 6f6e 2074 6f20 7265 6375 7273  nction to recurs
-0000ffb0: 6976 656c 7920 7365 6172 6368 2069 6e20  ively search in 
-0000ffc0: 6469 7265 6374 6f72 6965 7320 666f 7220  directories for 
-0000ffd0: 6669 6c65 732e 0a20 2020 2020 2020 2052  files..        R
-0000ffe0: 6571 7569 7265 7320 6163 6365 7373 206c  equires access l
-0000fff0: 6576 656c 2060 6046 494c 4554 5241 4e53  evel ``FILETRANS
-00010000: 4645 5260 6020 746f 2077 6f72 6b2e 0a0a  FER`` to work...
-00010010: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
-00010020: 6573 6365 6e64 3a20 636f 6e74 726f 6c20  escend: control 
-00010030: 6966 2073 6561 7263 6820 7368 6f75 6c64  if search should
-00010040: 2072 756e 2072 6563 7572 7369 7665 6c79   run recursively
-00010050: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010060: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
-00010070: 2e6c 6f67 696e 286c 632e 4c6f 6769 6e2e  .login(lc.Login.
-00010080: 4649 4c45 5452 414e 5346 4552 293a 0a20  FILETRANSFER):. 
-00010090: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000100a0: 5f6c 6f67 6765 722e 7761 726e 696e 6728  _logger.warning(
-000100b0: 2263 6c6f 756c 6420 6e6f 7420 6c6f 6720  "clould not log 
-000100c0: 696e 2061 7320 7573 6572 2046 494c 4522  in as user FILE"
-000100d0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-000100e0: 7475 726e 205b 5d0a 0a20 2020 2020 2020  turn []..       
-000100f0: 2063 7572 7265 6e74 5f70 6174 6820 3d20   current_path = 
-00010100: 7365 6c66 2e64 6972 6563 746f 7279 5f69  self.directory_i
-00010110: 6e66 6f28 292e 7061 7468 0a20 2020 2020  nfo().path.     
-00010120: 2020 2063 6f6e 7465 6e74 203d 205b 5d0a     content = [].
-00010130: 2020 2020 2020 2020 666f 7220 656e 7472          for entr
-00010140: 7920 696e 2073 656c 662e 6469 7265 6374  y in self.direct
-00010150: 6f72 795f 636f 6e74 656e 7428 293a 0a20  ory_content():. 
-00010160: 2020 2020 2020 2020 2020 2069 6620 656e             if en
-00010170: 7472 792e 6e61 6d65 203d 3d20 222e 2220  try.name == "." 
-00010180: 6f72 2065 6e74 7279 2e6e 616d 6520 3d3d  or entry.name ==
-00010190: 2022 2e2e 2220 6f72 2065 6e74 7279 2e6e   ".." or entry.n
-000101a0: 616d 652e 656e 6473 7769 7468 2822 3a22  ame.endswith(":"
-000101b0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-000101c0: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-000101d0: 2020 2020 2020 2020 6375 7272 656e 745f          current_
-000101e0: 6673 5f65 6c65 6d65 6e74 203d 2073 7472  fs_element = str
-000101f0: 2863 7572 7265 6e74 5f70 6174 6820 2b20  (current_path + 
-00010200: 656e 7472 792e 6e61 6d65 292e 7265 706c  entry.name).repl
-00010210: 6163 6528 0a20 2020 2020 2020 2020 2020  ace(.           
-00010220: 2020 2020 2022 2f22 2c20 6c63 2e50 4154       "/", lc.PAT
-00010230: 485f 5345 500a 2020 2020 2020 2020 2020  H_SEP.          
-00010240: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00010250: 6966 2065 6e74 7279 2e69 735f 6469 7265  if entry.is_dire
-00010260: 6374 6f72 7920 6973 2054 7275 6520 616e  ctory is True an
-00010270: 6420 6465 7363 656e 6420 6973 2054 7275  d descend is Tru
-00010280: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00010290: 2020 2069 6620 7365 6c66 2e63 6861 6e67     if self.chang
-000102a0: 655f 6469 7265 6374 6f72 7928 6375 7272  e_directory(curr
-000102b0: 656e 745f 6673 5f65 6c65 6d65 6e74 293a  ent_fs_element):
-000102c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000102d0: 2020 2020 2063 6f6e 7465 6e74 2e65 7874       content.ext
-000102e0: 656e 6428 7365 6c66 2e5f 7761 6c6b 5f64  end(self._walk_d
-000102f0: 6972 2829 290a 2020 2020 2020 2020 2020  ir()).          
-00010300: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00010310: 2020 2020 2020 2020 636f 6e74 656e 742e          content.
-00010320: 6170 7065 6e64 2863 7572 7265 6e74 5f66  append(current_f
-00010330: 735f 656c 656d 656e 7429 0a20 2020 2020  s_element).     
-00010340: 2020 2073 656c 662e 6368 616e 6765 5f64     self.change_d
-00010350: 6972 6563 746f 7279 2863 7572 7265 6e74  irectory(current
-00010360: 5f70 6174 6829 0a20 2020 2020 2020 2072  _path).        r
-00010370: 6574 7572 6e20 636f 6e74 656e 740a 0a20  eturn content.. 
-00010380: 2020 2064 6566 2067 6574 5f66 696c 655f     def get_file_
-00010390: 6c69 7374 280a 2020 2020 2020 2020 7365  list(.        se
-000103a0: 6c66 2c20 7061 7468 3a20 7374 7220 3d20  lf, path: str = 
-000103b0: 2222 2c20 6465 7363 656e 643a 2062 6f6f  "", descend: boo
-000103c0: 6c20 3d20 5472 7565 2c20 7061 7474 6572  l = True, patter
-000103d0: 6e3a 2073 7472 203d 2022 220a 2020 2020  n: str = "".    
-000103e0: 2920 2d3e 204c 6973 745b 7374 725d 3a0a  ) -> List[str]:.
-000103f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00010400: 2020 2020 4765 7420 6c69 7374 206f 6620      Get list of 
-00010410: 6669 6c65 7320 696e 2064 6972 6563 746f  files in directo
-00010420: 7279 2073 7472 7563 7475 7265 2e0a 2020  ry structure..  
-00010430: 2020 2020 2020 5265 7175 6972 6573 2061        Requires a
-00010440: 6363 6573 7320 6c65 7665 6c20 6060 4649  ccess level ``FI
-00010450: 4c45 5452 414e 5346 4552 6060 2074 6f20  LETRANSFER`` to 
-00010460: 776f 726b 2e0a 0a20 2020 2020 2020 203a  work...        :
-00010470: 7061 7261 6d20 7061 7468 3a20 7061 7468  param path: path
-00010480: 206f 6620 7468 6520 6469 7265 6374 6f72   of the director
-00010490: 7920 7768 6572 6520 6669 6c65 7320 7368  y where files sh
-000104a0: 6f75 6c64 2062 6520 7365 6172 6368 6564  ould be searched
-000104b0: 2e20 6966 204e 6f6e 6520 7468 616e 2074  . if None than t
-000104c0: 6865 2063 7572 7265 6e74 2064 6972 6563  he current direc
-000104d0: 746f 7279 2069 7320 7573 6564 0a20 2020  tory is used.   
-000104e0: 2020 2020 203a 7061 7261 6d20 6465 7363       :param desc
-000104f0: 656e 643a 2063 6f6e 7472 6f6c 2069 6620  end: control if 
-00010500: 7365 6172 6368 2073 686f 756c 6420 7275  search should ru
-00010510: 6e20 7265 6375 7273 6976 656c 790a 2020  n recursively.  
-00010520: 2020 2020 2020 3a70 6172 616d 2070 6174        :param pat
-00010530: 7465 726e 3a20 7265 6765 7820 7374 7269  tern: regex stri
-00010540: 6e67 2074 6f20 6669 6c74 6572 2074 6865  ng to filter the
-00010550: 2066 696c 6520 6e61 6d65 730a 2020 2020   file names.    
-00010560: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00010570: 6966 206e 6f74 2073 656c 662e 6c6f 6769  if not self.logi
-00010580: 6e28 6c63 2e4c 6f67 696e 2e46 494c 4554  n(lc.Login.FILET
-00010590: 5241 4e53 4645 5229 3a0a 2020 2020 2020  RANSFER):.      
-000105a0: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-000105b0: 6572 2e77 6172 6e69 6e67 2822 636c 6f75  er.warning("clou
-000105c0: 6c64 206e 6f74 206c 6f67 2069 6e20 6173  ld not log in as
-000105d0: 2075 7365 7220 4649 4c45 2229 0a20 2020   user FILE").   
-000105e0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000105f0: 5b5d 0a0a 2020 2020 2020 2020 6966 2070  []..        if p
-00010600: 6174 6820 6973 206e 6f74 204e 6f6e 653a  ath is not None:
-00010610: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00010620: 7365 6c66 2e63 6861 6e67 655f 6469 7265  self.change_dire
-00010630: 6374 6f72 7928 7061 7468 2920 6973 2046  ctory(path) is F
-00010640: 616c 7365 3a0a 2020 2020 2020 2020 2020  alse:.          
-00010650: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-00010660: 6572 2e77 6172 6e69 6e67 2822 636f 756c  er.warning("coul
-00010670: 6420 6e6f 7420 6368 616e 6765 2074 6f20  d not change to 
-00010680: 6469 7265 6374 6f72 7922 290a 2020 2020  directory").    
-00010690: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000106a0: 726e 205b 5d0a 0a20 2020 2020 2020 2069  rn []..        i
-000106b0: 6620 6c65 6e28 7061 7474 6572 6e29 203d  f len(pattern) =
-000106c0: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
-000106d0: 2066 696c 655f 6c69 7374 203d 2073 656c   file_list = sel
-000106e0: 662e 5f77 616c 6b5f 6469 7228 6465 7363  f._walk_dir(desc
-000106f0: 656e 6429 0a20 2020 2020 2020 2065 6c73  end).        els
-00010700: 653a 0a20 2020 2020 2020 2020 2020 2066  e:.            f
-00010710: 696c 655f 6c69 7374 203d 205b 5d0a 2020  ile_list = [].  
-00010720: 2020 2020 2020 2020 2020 666f 7220 656e            for en
-00010730: 7472 7920 696e 2073 656c 662e 5f77 616c  try in self._wal
-00010740: 6b5f 6469 7228 6465 7363 656e 6429 3a0a  k_dir(descend):.
-00010750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010760: 6669 6c65 5f6e 616d 6520 3d20 656e 7472  file_name = entr
-00010770: 792e 7370 6c69 7428 6c63 2e50 4154 485f  y.split(lc.PATH_
-00010780: 5345 5029 5b2d 315d 0a20 2020 2020 2020  SEP)[-1].       
-00010790: 2020 2020 2020 2020 2069 6620 7265 2e6d           if re.m
-000107a0: 6174 6368 2870 6174 7465 726e 2c20 6669  atch(pattern, fi
-000107b0: 6c65 5f6e 616d 6529 3a0a 2020 2020 2020  le_name):.      
-000107c0: 2020 2020 2020 2020 2020 2020 2020 6669                fi
-000107d0: 6c65 5f6c 6973 742e 6170 7065 6e64 2865  le_list.append(e
-000107e0: 6e74 7279 290a 2020 2020 2020 2020 7265  ntry).        re
-000107f0: 7475 726e 2066 696c 655f 6c69 7374 0a0a  turn file_list..
-00010800: 2020 2020 6465 6620 7265 6164 5f64 6174      def read_dat
-00010810: 615f 7061 7468 2873 656c 662c 2070 6174  a_path(self, pat
-00010820: 683a 2073 7472 2920 2d3e 2055 6e69 6f6e  h: str) -> Union
-00010830: 5b62 6f6f 6c2c 2069 6e74 2c20 666c 6f61  [bool, int, floa
-00010840: 742c 2073 7472 2c20 4e6f 6e65 5d3a 0a20  t, str, None]:. 
-00010850: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00010860: 2020 2052 6561 6420 7661 6c75 6573 2066     Read values f
-00010870: 726f 6d20 636f 6e74 726f 6c20 7669 6120  rom control via 
-00010880: 6461 7461 2070 6174 682e 204f 6e6c 7920  data path. Only 
-00010890: 776f 726b 7320 6f6e 2069 544e 4320 636f  works on iTNC co
-000108a0: 6e74 726f 6c73 2e0a 2020 2020 2020 2020  ntrols..        
-000108b0: 466f 7220 6561 7365 206f 6620 7573 652c  For ease of use,
-000108c0: 2074 6865 2070 6174 6820 6973 2066 6f72   the path is for
-000108d0: 6d61 7474 6564 2062 7920 7265 706c 6163  matted by replac
-000108e0: 696e 6720 2f20 6279 205c 5c20 616e 6420  ing / by \\ and 
-000108f0: 2220 6279 2027 2e0a 2020 2020 2020 2020  " by '..        
-00010900: 5265 7475 726e 7320 6461 7461 2076 616c  Returns data val
-00010910: 7565 2072 6561 6420 6672 6f6d 2063 6f6e  ue read from con
-00010920: 7472 6f6c 2066 6f72 6d61 7474 6564 2069  trol formatted i
-00010930: 6e20 6e61 7469 7620 6461 7461 2074 7970  n nativ data typ
-00010940: 6520 6f72 204e 6f6e 6520 6966 2072 6561  e or None if rea
-00010950: 6469 6e67 0a20 2020 2020 2020 2077 6173  ding.        was
-00010960: 206e 6f74 2073 7563 6365 7373 6675 6c2e   not successful.
-00010970: 0a20 2020 2020 2020 2052 6571 7569 7265  .        Require
-00010980: 7320 6163 6365 7373 206c 6576 656c 2060  s access level `
-00010990: 6044 4154 4160 6020 746f 2077 6f72 6b2e  `DATA`` to work.
-000109a0: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-000109b0: 2070 6174 683a 2064 6174 6120 7061 7468   path: data path
-000109c0: 2066 726f 6d20 7768 6963 6820 746f 2072   from which to r
-000109d0: 6561 6420 7468 6520 7661 6c75 652e 0a0a  ead the value...
-000109e0: 2020 2020 2020 2020 3a72 6169 7365 7320          :raises 
-000109f0: 4c53 5632 5072 6f74 6f63 6f6c 4578 6365  LSV2ProtocolExce
-00010a00: 7074 696f 6e3a 2069 6620 6461 7461 2074  ption: if data t
-00010a10: 7970 6520 636f 756c 6420 6e6f 7420 6265  ype could not be
-00010a20: 2064 6574 6572 6d69 656e 640a 2020 2020   determiend.    
-00010a30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00010a40: 6966 206e 6f74 2073 656c 662e 7665 7273  if not self.vers
-00010a50: 696f 6e73 2e69 735f 6974 6e63 2829 3a0a  ions.is_itnc():.
-00010a60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010a70: 2e5f 6c6f 6767 6572 2e77 6172 6e69 6e67  ._logger.warning
-00010a80: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00010a90: 2020 2252 6561 6469 6e67 2076 616c 7565    "Reading value
-00010aa0: 7320 6672 6f6d 2064 6174 6120 7061 7468  s from data path
-00010ab0: 2064 6f65 7320 6e6f 7420 776f 726b 206f   does not work o
-00010ac0: 6e20 6e6f 6e20 6954 4e43 2063 6f6e 7472  n non iTNC contr
-00010ad0: 6f6c 7321 220a 2020 2020 2020 2020 2020  ols!".          
-00010ae0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00010af0: 7265 7475 726e 204e 6f6e 650a 0a20 2020  return None..   
-00010b00: 2020 2020 2070 6174 6820 3d20 7061 7468       path = path
-00010b10: 2e72 6570 6c61 6365 2822 2f22 2c20 6c63  .replace("/", lc
-00010b20: 2e50 4154 485f 5345 5029 2e72 6570 6c61  .PATH_SEP).repla
-00010b30: 6365 2827 2227 2c20 2227 2229 0a0a 2020  ce('"', "'")..  
-00010b40: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-00010b50: 662e 6c6f 6769 6e28 6c63 2e4c 6f67 696e  f.login(lc.Login
-00010b60: 2e44 4154 4129 3a0a 2020 2020 2020 2020  .DATA):.        
-00010b70: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
-00010b80: 2e77 6172 6e69 6e67 2822 636c 6f75 6c64  .warning("clould
-00010b90: 206e 6f74 206c 6f67 2069 6e20 6173 2075   not log in as u
-00010ba0: 7365 7220 4441 5441 2229 0a20 2020 2020  ser DATA").     
-00010bb0: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-00010bc0: 6e65 0a0a 2020 2020 2020 2020 7061 796c  ne..        payl
-00010bd0: 6f61 6420 3d20 6279 7465 6172 7261 7928  oad = bytearray(
-00010be0: 290a 2020 2020 2020 2020 7061 796c 6f61  ).        payloa
-00010bf0: 642e 6578 7465 6e64 2862 225c 7830 3022  d.extend(b"\x00"
-00010c00: 2920 2023 203c 2d20 3f3f 3f0a 2020 2020  )  # <- ???.    
-00010c10: 2020 2020 7061 796c 6f61 642e 6578 7465      payload.exte
-00010c20: 6e64 2862 225c 7830 3022 2920 2023 203c  nd(b"\x00")  # <
-00010c30: 2d20 3f3f 3f0a 2020 2020 2020 2020 7061  - ???.        pa
-00010c40: 796c 6f61 642e 6578 7465 6e64 2862 225c  yload.extend(b"\
-00010c50: 7830 3022 2920 2023 203c 2d20 3f3f 3f0a  x00")  # <- ???.
-00010c60: 2020 2020 2020 2020 7061 796c 6f61 642e          payload.
-00010c70: 6578 7465 6e64 2862 225c 7830 3022 2920  extend(b"\x00") 
-00010c80: 2023 203c 2d20 3f3f 3f0a 2020 2020 2020   # <- ???.      
-00010c90: 2020 7061 796c 6f61 642e 6578 7465 6e64    payload.extend
-00010ca0: 286c 6d2e 7573 7472 5f74 6f5f 6261 2870  (lm.ustr_to_ba(p
-00010cb0: 6174 6829 290a 0a20 2020 2020 2020 2072  ath))..        r
-00010cc0: 6573 756c 7420 3d20 7365 6c66 2e5f 7365  esult = self._se
-00010cd0: 6e64 5f72 6563 6976 6528 6c63 2e43 4d44  nd_recive(lc.CMD
-00010ce0: 2e52 5f44 502c 2070 6179 6c6f 6164 2c20  .R_DP, payload, 
-00010cf0: 6c63 2e52 5350 2e53 5f44 5029 0a0a 2020  lc.RSP.S_DP)..  
-00010d00: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00010d10: 6e63 6528 7265 7375 6c74 2c20 2862 7974  nce(result, (byt
-00010d20: 6561 7272 6179 2c29 2920 616e 6420 6c65  earray,)) and le
-00010d30: 6e28 7265 7375 6c74 2920 3e20 303a 0a20  n(result) > 0:. 
-00010d40: 2020 2020 2020 2020 2020 2076 616c 7565             value
-00010d50: 5f74 7970 6520 3d20 7374 7275 6374 2e75  _type = struct.u
-00010d60: 6e70 6163 6b28 2221 4c22 2c20 7265 7375  npack("!L", resu
-00010d70: 6c74 5b30 3a34 5d29 5b30 5d0a 2020 2020  lt[0:4])[0].    
-00010d80: 2020 2020 2020 2020 6966 2076 616c 7565          if value
-00010d90: 5f74 7970 6520 3d3d 2032 3a0a 2020 2020  _type == 2:.    
-00010da0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00010db0: 5f76 616c 7565 203d 2073 7472 7563 742e  _value = struct.
-00010dc0: 756e 7061 636b 2822 2168 222c 2072 6573  unpack("!h", res
-00010dd0: 756c 745b 343a 365d 295b 305d 0a20 2020  ult[4:6])[0].   
-00010de0: 2020 2020 2020 2020 2065 6c69 6620 7661           elif va
-00010df0: 6c75 655f 7479 7065 203d 3d20 333a 0a20  lue_type == 3:. 
-00010e00: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00010e10: 6174 615f 7661 6c75 6520 3d20 7374 7275  ata_value = stru
-00010e20: 6374 2e75 6e70 6163 6b28 2221 6c22 2c20  ct.unpack("!l", 
-00010e30: 7265 7375 6c74 5b34 3a38 5d29 5b30 5d0a  result[4:8])[0].
-00010e40: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00010e50: 2076 616c 7565 5f74 7970 6520 3d3d 2035   value_type == 5
-00010e60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00010e70: 2020 6461 7461 5f76 616c 7565 203d 2073    data_value = s
-00010e80: 7472 7563 742e 756e 7061 636b 2822 3c64  truct.unpack("<d
-00010e90: 222c 2072 6573 756c 745b 343a 3132 5d29  ", result[4:12])
-00010ea0: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
-00010eb0: 656c 6966 2076 616c 7565 5f74 7970 6520  elif value_type 
-00010ec0: 3d3d 2038 3a0a 2020 2020 2020 2020 2020  == 8:.          
-00010ed0: 2020 2020 2020 6461 7461 5f76 616c 7565        data_value
-00010ee0: 203d 206c 6d2e 6261 5f74 6f5f 7573 7472   = lm.ba_to_ustr
-00010ef0: 2872 6573 756c 745b 343a 5d29 0a20 2020  (result[4:]).   
-00010f00: 2020 2020 2020 2020 2065 6c69 6620 7661           elif va
-00010f10: 6c75 655f 7479 7065 203d 3d20 3131 3a0a  lue_type == 11:.
-00010f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010f30: 6461 7461 5f76 616c 7565 203d 2073 7472  data_value = str
-00010f40: 7563 742e 756e 7061 636b 2822 213f 222c  uct.unpack("!?",
-00010f50: 2072 6573 756c 745b 343a 355d 295b 305d   result[4:5])[0]
-00010f60: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-00010f70: 6620 7661 6c75 655f 7479 7065 203d 3d20  f value_type == 
-00010f80: 3136 3a0a 2020 2020 2020 2020 2020 2020  16:.            
-00010f90: 2020 2020 6461 7461 5f76 616c 7565 203d      data_value =
-00010fa0: 2073 7472 7563 742e 756e 7061 636b 2822   struct.unpack("
-00010fb0: 2162 222c 2072 6573 756c 745b 343a 355d  !b", result[4:5]
-00010fc0: 295b 305d 0a20 2020 2020 2020 2020 2020  )[0].           
-00010fd0: 2065 6c69 6620 7661 6c75 655f 7479 7065   elif value_type
-00010fe0: 203d 3d20 3137 3a0a 2020 2020 2020 2020   == 17:.        
-00010ff0: 2020 2020 2020 2020 6461 7461 5f76 616c          data_val
-00011000: 7565 203d 2073 7472 7563 742e 756e 7061  ue = struct.unpa
-00011010: 636b 2822 2142 222c 2072 6573 756c 745b  ck("!B", result[
-00011020: 343a 355d 295b 305d 0a20 2020 2020 2020  4:5])[0].       
-00011030: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00011040: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00011050: 204c 5356 3250 726f 746f 636f 6c45 7863   LSV2ProtocolExc
-00011060: 6570 7469 6f6e 280a 2020 2020 2020 2020  eption(.        
-00011070: 2020 2020 2020 2020 2020 2020 2275 6e6b              "unk
-00011080: 6e6f 776e 2072 6574 7572 6e20 7479 7065  nown return type
-00011090: 3a20 2564 2066 6f72 2025 7322 2025 2028  : %d for %s" % (
-000110a0: 7661 6c75 655f 7479 7065 2c20 7265 7375  value_type, resu
-000110b0: 6c74 5b34 3a5d 290a 2020 2020 2020 2020  lt[4:]).        
-000110c0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-000110d0: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
-000110e0: 6765 722e 696e 666f 280a 2020 2020 2020  ger.info(.      
-000110f0: 2020 2020 2020 2020 2020 2273 7563 6365            "succe
-00011100: 7373 6675 6c6c 7920 7265 6164 2064 6174  ssfully read dat
-00011110: 6120 7061 7468 3a20 2573 2061 6e64 2067  a path: %s and g
-00011120: 6f74 2076 616c 7565 2027 2573 2722 2c20  ot value '%s'", 
-00011130: 7061 7468 2c20 6461 7461 5f76 616c 7565  path, data_value
-00011140: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00011150: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00011160: 6e20 6461 7461 5f76 616c 7565 0a20 2020  n data_value.   
-00011170: 2020 2020 2073 656c 662e 5f6c 6f67 6765       self._logge
-00011180: 722e 7761 726e 696e 6728 0a20 2020 2020  r.warning(.     
-00011190: 2020 2020 2020 2022 616e 2065 7272 6f72         "an error
-000111a0: 206f 6363 7572 7265 6420 7768 696c 6520   occurred while 
-000111b0: 7175 6572 7969 6e67 2064 6174 6120 7061  querying data pa
-000111c0: 7468 2027 2573 272e 2054 6869 7320 646f  th '%s'. This do
-000111d0: 6573 206e 6f74 2077 6f72 6b20 666f 7220  es not work for 
-000111e0: 616c 6c20 636f 6e74 726f 6c20 7479 7065  all control type
-000111f0: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
-00011200: 7061 7468 2c0a 2020 2020 2020 2020 290a  path,.        ).
-00011210: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-00011220: 6f6e 650a 0a20 2020 2064 6566 2061 7865  one..    def axe
-00011230: 735f 6c6f 6361 7469 6f6e 2873 656c 6629  s_location(self)
-00011240: 202d 3e20 556e 696f 6e5b 4469 6374 5b73   -> Union[Dict[s
-00011250: 7472 2c20 666c 6f61 745d 2c20 4e6f 6e65  tr, float], None
-00011260: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
-00011270: 2020 2020 2020 2052 6561 6420 6178 6573         Read axes
-00011280: 206c 6f63 6174 696f 6e20 6672 6f6d 2063   location from c
-00011290: 6f6e 7472 6f6c 2e20 4e6f 7420 6675 6c6c  ontrol. Not full
-000112a0: 7920 646f 6375 6d65 6e74 6564 2c20 7661  y documented, va
-000112b0: 6c75 6520 6f66 2066 6972 7374 2062 7974  lue of first byt
-000112c0: 6520 756e 6b6e 6f77 6e2e 0a20 2020 2020  e unknown..     
-000112d0: 2020 2052 6571 7569 7265 7320 6163 6365     Requires acce
-000112e0: 7373 206c 6576 656c 2060 6044 4e43 6060  ss level ``DNC``
-000112f0: 2074 6f20 776f 726b 2e0a 2020 2020 2020   to work..      
-00011300: 2020 5265 7475 726e 7320 6060 4e6f 6e65    Returns ``None
-00011310: 6060 2069 6620 6e6f 2064 6174 6120 7761  `` if no data wa
-00011320: 7320 7265 6365 6976 6564 206f 7220 6469  s received or di
-00011330: 6374 696f 6e61 7279 2077 6974 6820 6b65  ctionary with ke
-00011340: 7920 3d20 6178 6973 206e 616d 652c 2076  y = axis name, v
-00011350: 616c 7565 203d 2070 6f73 6974 696f 6e0a  alue = position.
-00011360: 0a20 2020 2020 2020 203a 7261 6973 6573  .        :raises
-00011370: 204c 5356 3244 6174 6145 7863 6570 7469   LSV2DataExcepti
-00011380: 6f6e 3a20 4572 726f 7220 6475 7269 6e67  on: Error during
-00011390: 2070 6172 7369 6e67 206f 6620 6461 7461   parsing of data
-000113a0: 2076 616c 7565 730a 2020 2020 2020 2020   values.        
-000113b0: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
-000113c0: 6f74 2073 656c 662e 6c6f 6769 6e28 6c63  ot self.login(lc
-000113d0: 2e4c 6f67 696e 2e44 4e43 293a 0a20 2020  .Login.DNC):.   
-000113e0: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
-000113f0: 6f67 6765 722e 7761 726e 696e 6728 2263  ogger.warning("c
-00011400: 6c6f 756c 6420 6e6f 7420 6c6f 6720 696e  lould not log in
-00011410: 2061 7320 7573 6572 2044 4e43 2229 0a20   as user DNC"). 
-00011420: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00011430: 6e20 4e6f 6e65 0a0a 2020 2020 2020 2020  n None..        
-00011440: 7061 796c 6f61 6420 3d20 6279 7465 6172  payload = bytear
-00011450: 7261 7928 290a 2020 2020 2020 2020 7061  ray().        pa
-00011460: 796c 6f61 642e 6578 7465 6e64 2873 7472  yload.extend(str
-00011470: 7563 742e 7061 636b 2822 2148 222c 206c  uct.pack("!H", l
-00011480: 632e 5061 7252 5249 2e41 5849 535f 4c4f  c.ParRRI.AXIS_LO
-00011490: 4341 5449 4f4e 2929 0a0a 2020 2020 2020  CATION))..      
-000114a0: 2020 7265 7375 6c74 203d 2073 656c 662e    result = self.
-000114b0: 5f73 656e 645f 7265 6369 7665 286c 632e  _send_recive(lc.
-000114c0: 434d 442e 525f 5249 2c20 7061 796c 6f61  CMD.R_RI, payloa
-000114d0: 642c 206c 632e 5253 502e 535f 5249 290a  d, lc.RSP.S_RI).
-000114e0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-000114f0: 7461 6e63 6528 7265 7375 6c74 2c20 2862  tance(result, (b
-00011500: 7974 6561 7272 6179 2c29 2920 616e 6420  ytearray,)) and 
-00011510: 6c65 6e28 7265 7375 6c74 2920 3e20 303a  len(result) > 0:
-00011520: 0a20 2020 2020 2020 2020 2020 2061 7865  .            axe
-00011530: 735f 7661 6c75 6573 203d 206c 6d2e 6465  s_values = lm.de
-00011540: 636f 6465 5f61 7869 735f 6c6f 6361 7469  code_axis_locati
-00011550: 6f6e 2872 6573 756c 7429 0a20 2020 2020  on(result).     
-00011560: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
-00011570: 6765 722e 696e 666f 2822 7375 6363 6573  ger.info("succes
-00011580: 7366 756c 6c79 2072 6561 6420 6178 6573  sfully read axes
-00011590: 2076 616c 7565 733a 2025 7322 2c20 6178   values: %s", ax
-000115a0: 6573 5f76 616c 7565 7329 0a20 2020 2020  es_values).     
-000115b0: 2020 2020 2020 2072 6574 7572 6e20 6178         return ax
-000115c0: 6573 5f76 616c 7565 730a 0a20 2020 2020  es_values..     
-000115d0: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
-000115e0: 7761 726e 696e 6728 2261 6e20 6572 726f  warning("an erro
-000115f0: 7220 6f63 6375 7272 6564 2077 6869 6c65  r occurred while
-00011600: 2071 7565 7279 696e 6720 6178 6573 2070   querying axes p
-00011610: 6f73 6974 696f 6e22 290a 2020 2020 2020  osition").      
-00011620: 2020 7265 7475 726e 204e 6f6e 650a 0a20    return None.. 
-00011630: 2020 2064 6566 2067 7261 625f 7363 7265     def grab_scre
-00011640: 656e 5f64 756d 7028 7365 6c66 2c20 696d  en_dump(self, im
-00011650: 6167 655f 7061 7468 3a20 7061 7468 6c69  age_path: pathli
-00011660: 622e 5061 7468 2920 2d3e 2062 6f6f 6c3a  b.Path) -> bool:
-00011670: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00011680: 2020 2020 2043 7265 6174 6520 7363 7265       Create scre
-00011690: 656e 5f64 756d 7020 6f66 2063 7572 7265  en_dump of curre
-000116a0: 6e74 2063 6f6e 7472 6f6c 2073 6372 6565  nt control scree
-000116b0: 6e20 616e 6420 7361 7665 2069 7420 6173  n and save it as
-000116c0: 2062 6974 6d61 702e 0a20 2020 2020 2020   bitmap..       
-000116d0: 2052 6571 7569 7265 7320 6163 6365 7373   Requires access
-000116e0: 206c 6576 656c 2060 6044 4e43 6060 2074   level ``DNC`` t
-000116f0: 6f20 776f 726b 2e0a 2020 2020 2020 2020  o work..        
-00011700: 5265 7475 726e 7320 6060 5472 7565 6060  Returns ``True``
-00011710: 2069 6620 636f 6d70 6c65 7465 6420 7375   if completed su
-00011720: 6363 6573 7366 756c 6c79 2e0a 0a20 2020  ccessfully...   
-00011730: 2020 2020 203a 7061 7261 6d20 696d 6167       :param imag
-00011740: 655f 7061 7468 3a20 7061 7468 206f 6620  e_path: path of 
-00011750: 626d 7020 6669 6c65 2066 6f72 2073 6372  bmp file for scr
-00011760: 6565 6e64 756d 700a 2020 2020 2020 2020  eendump.        
-00011770: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
-00011780: 6f74 2073 656c 662e 6c6f 6769 6e28 6c63  ot self.login(lc
-00011790: 2e4c 6f67 696e 2e46 494c 4554 5241 4e53  .Login.FILETRANS
-000117a0: 4645 5229 3a0a 2020 2020 2020 2020 2020  FER):.          
-000117b0: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e77    self._logger.w
-000117c0: 6172 6e69 6e67 2822 636c 6f75 6c64 206e  arning("clould n
-000117d0: 6f74 206c 6f67 2069 6e20 6173 2075 7365  ot log in as use
-000117e0: 7220 4649 4c45 2229 0a20 2020 2020 2020  r FILE").       
-000117f0: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
-00011800: 650a 0a20 2020 2020 2020 2074 656d 705f  e..        temp_
-00011810: 6669 6c65 5f70 6174 6820 3d20 280a 2020  file_path = (.  
-00011820: 2020 2020 2020 2020 2020 6c63 2e44 7269            lc.Dri
-00011830: 7665 4e61 6d65 2e54 4e43 0a20 2020 2020  veName.TNC.     
-00011840: 2020 2020 2020 202b 206c 632e 5041 5448         + lc.PATH
-00011850: 5f53 4550 0a20 2020 2020 2020 2020 2020  _SEP.           
-00011860: 202b 2022 7363 7265 656e 6475 6d70 5f22   + "screendump_"
-00011870: 0a20 2020 2020 2020 2020 2020 202b 2064  .            + d
-00011880: 6174 6574 696d 652e 6e6f 7728 292e 7374  atetime.now().st
-00011890: 7266 7469 6d65 2822 2559 256d 2564 5f25  rftime("%Y%m%d_%
-000118a0: 4825 4d25 5322 290a 2020 2020 2020 2020  H%M%S").        
-000118b0: 2020 2020 2b20 222e 626d 7022 0a20 2020      + ".bmp".   
-000118c0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-000118d0: 7061 796c 6f61 6420 3d20 6279 7465 6172  payload = bytear
-000118e0: 7261 7928 7374 7275 6374 2e70 6163 6b28  ray(struct.pack(
-000118f0: 2221 4822 2c20 6c63 2e50 6172 4343 432e  "!H", lc.ParCCC.
-00011900: 5343 5245 454e 4455 4d50 2929 0a20 2020  SCREENDUMP)).   
-00011910: 2020 2020 2070 6179 6c6f 6164 2e65 7874       payload.ext
-00011920: 656e 6428 6c6d 2e75 7374 725f 746f 5f62  end(lm.ustr_to_b
-00011930: 6128 7465 6d70 5f66 696c 655f 7061 7468  a(temp_file_path
-00011940: 2929 0a0a 2020 2020 2020 2020 7265 7375  ))..        resu
-00011950: 6c74 203d 2073 656c 662e 5f73 656e 645f  lt = self._send_
-00011960: 7265 6369 7665 286c 632e 434d 442e 435f  recive(lc.CMD.C_
-00011970: 4343 2c20 7061 796c 6f61 642c 206c 632e  CC, payload, lc.
-00011980: 5253 502e 545f 4f4b 290a 0a20 2020 2020  RSP.T_OK)..     
-00011990: 2020 2069 6620 6e6f 7420 2869 7369 6e73     if not (isins
-000119a0: 7461 6e63 6528 7265 7375 6c74 2c20 2862  tance(result, (b
-000119b0: 6f6f 6c2c 2929 2061 6e64 2072 6573 756c  ool,)) and resul
-000119c0: 7420 6973 2054 7275 6529 3a0a 2020 2020  t is True):.    
-000119d0: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
-000119e0: 6767 6572 2e77 6172 6e69 6e67 2822 7363  gger.warning("sc
-000119f0: 7265 656e 2064 756d 7020 7761 7320 6e6f  reen dump was no
-00011a00: 7420 6372 6561 7465 6422 290a 2020 2020  t created").    
-00011a10: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-00011a20: 616c 7365 0a0a 2020 2020 2020 2020 6966  alse..        if
-00011a30: 206e 6f74 2073 656c 662e 7265 6369 7665   not self.recive
-00011a40: 5f66 696c 6528 0a20 2020 2020 2020 2020  _file(.         
-00011a50: 2020 2072 656d 6f74 655f 7061 7468 3d74     remote_path=t
-00011a60: 656d 705f 6669 6c65 5f70 6174 682c 206c  emp_file_path, l
-00011a70: 6f63 616c 5f70 6174 683d 696d 6167 655f  ocal_path=image_
-00011a80: 7061 7468 2c20 6269 6e61 7279 5f6d 6f64  path, binary_mod
-00011a90: 653d 5472 7565 0a20 2020 2020 2020 2029  e=True.        )
-00011aa0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00011ab0: 6c66 2e5f 6c6f 6767 6572 2e77 6172 6e69  lf._logger.warni
-00011ac0: 6e67 2822 636f 756c 6420 6e6f 7420 646f  ng("could not do
-00011ad0: 776e 6c6f 6164 2073 6372 6565 6e20 6475  wnload screen du
-00011ae0: 6d70 2066 726f 6d20 636f 6e74 726f 6c22  mp from control"
-00011af0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00011b00: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
-00011b10: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-00011b20: 6465 6c65 7465 5f66 696c 6528 7465 6d70  delete_file(temp
-00011b30: 5f66 696c 655f 7061 7468 293a 0a20 2020  _file_path):.   
-00011b40: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
-00011b50: 6f67 6765 722e 7761 726e 696e 6728 2263  ogger.warning("c
-00011b60: 6c6f 756c 6420 6e6f 7420 6465 6c65 7465  lould not delete
-00011b70: 2074 656d 706f 7261 7279 2066 696c 6520   temporary file 
-00011b80: 6f6e 2063 6f6e 7472 6f6c 2229 0a20 2020  on control").   
-00011b90: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00011ba0: 4661 6c73 650a 0a20 2020 2020 2020 2073  False..        s
-00011bb0: 656c 662e 5f6c 6f67 6765 722e 6465 6275  elf._logger.debu
-00011bc0: 6728 2273 7563 6365 7373 6675 6c6c 7920  g("successfully 
-00011bd0: 7265 6365 6976 6564 2073 6372 6565 6e20  received screen 
-00011be0: 6475 6d70 2229 0a20 2020 2020 2020 2072  dump").        r
-00011bf0: 6574 7572 6e20 5472 7565 0a0a 2020 2020  eturn True..    
-00011c00: 6465 6620 6765 745f 7265 6d6f 7465 5f64  def get_remote_d
-00011c10: 6174 6574 696d 6528 7365 6c66 2920 2d3e  atetime(self) ->
-00011c20: 2064 6174 6574 696d 653a 0a20 2020 2020   datetime:.     
-00011c30: 2020 2022 2222 0a20 2020 2020 2020 2052     """.        R
-00011c40: 6561 6420 6375 7272 656e 7420 7469 6d65  ead current time
-00011c50: 2061 6e64 2064 6174 6520 6672 6f6d 2063   and date from c
-00011c60: 6f6e 7472 6f6c 0a20 2020 2020 2020 2022  ontrol.        "
-00011c70: 2222 0a20 2020 2020 2020 2069 6620 6e6f  "".        if no
-00011c80: 7420 7365 6c66 2e6c 6f67 696e 286c 632e  t self.login(lc.
-00011c90: 4c6f 6769 6e2e 4449 4147 293a 0a20 2020  Login.DIAG):.   
-00011ca0: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
-00011cb0: 6f67 6765 722e 7761 726e 696e 6728 2263  ogger.warning("c
-00011cc0: 6c6f 756c 6420 6e6f 7420 6c6f 6720 696e  lould not log in
-00011cd0: 2061 7320 7573 6572 2066 6f72 2044 4941   as user for DIA
-00011ce0: 474e 4f53 5449 4353 2066 756e 6374 696f  GNOSTICS functio
-00011cf0: 6e22 290a 2020 2020 2020 2020 2020 2020  n").            
-00011d00: 7265 7475 726e 2064 6174 6574 696d 652e  return datetime.
-00011d10: 6672 6f6d 7469 6d65 7374 616d 7028 3029  fromtimestamp(0)
-00011d20: 0a0a 2020 2020 2020 2020 7265 7375 6c74  ..        result
-00011d30: 203d 2073 656c 662e 5f73 656e 645f 7265   = self._send_re
-00011d40: 6369 7665 286c 632e 434d 442e 525f 4454  cive(lc.CMD.R_DT
-00011d50: 2c20 4e6f 6e65 2c20 6c63 2e52 5350 2e53  , None, lc.RSP.S
-00011d60: 5f44 5429 0a20 2020 2020 2020 2069 6620  _DT).        if 
-00011d70: 6973 696e 7374 616e 6365 2872 6573 756c  isinstance(resul
-00011d80: 742c 2028 6279 7465 6172 7261 792c 2929  t, (bytearray,))
-00011d90: 2061 6e64 206c 656e 2872 6573 756c 7429   and len(result)
-00011da0: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
-00011db0: 2020 7473 203d 206c 6d2e 6465 636f 6465    ts = lm.decode
-00011dc0: 5f74 696d 6573 7461 6d70 2872 6573 756c  _timestamp(resul
-00011dd0: 7429 0a20 2020 2020 2020 2020 2020 2073  t).            s
-00011de0: 656c 662e 5f6c 6f67 6765 722e 6465 6275  elf._logger.debu
-00011df0: 6728 2254 696d 6520 6f6e 2043 6f6e 7472  g("Time on Contr
-00011e00: 6f6c 2069 7320 2573 222c 2074 732e 6973  ol is %s", ts.is
-00011e10: 6f66 6f72 6d61 7428 2929 0a20 2020 2020  oformat()).     
-00011e20: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00011e30: 2020 2020 2072 6169 7365 204c 5356 3250       raise LSV2P
-00011e40: 726f 746f 636f 6c45 7863 6570 7469 6f6e  rotocolException
-00011e50: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00011e60: 2020 2273 6f6d 6574 6869 6e67 2077 656e    "something wen
-00011e70: 7420 7772 6f6e 6720 7768 696c 6520 7265  t wrong while re
-00011e80: 6164 696e 6720 6375 7272 656e 7420 7469  ading current ti
-00011e90: 6d65 2061 6e64 2064 6174 6522 0a20 2020  me and date".   
-00011ea0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00011eb0: 2020 2072 6574 7572 6e20 7473 0a0a 2020     return ts..  
-00011ec0: 2020 6465 6620 7265 6164 5f73 636f 7065    def read_scope
-00011ed0: 5f73 6967 6e61 6c73 2873 656c 6629 202d  _signals(self) -
-00011ee0: 3e20 4c69 7374 5b6c 642e 5363 6f70 6553  > List[ld.ScopeS
-00011ef0: 6967 6e61 6c5d 3a0a 2020 2020 2020 2020  ignal]:.        
-00011f00: 2222 220a 2020 2020 2020 2020 5265 6164  """.        Read
-00011f10: 2061 7661 696c 6162 6c65 2073 636f 7065   available scope
-00011f20: 2063 6861 6e6e 656c 7320 616e 6420 7369   channels and si
-00011f30: 676e 616c 732e 204f 6e6c 7920 776f 726b  gnals. Only work
-00011f40: 7320 666f 7220 6954 4e43 2035 3330 2e0a  s for iTNC 530..
-00011f50: 2020 2020 2020 2020 5265 7175 6972 6573          Requires
-00011f60: 2061 6363 6573 7320 6c65 7665 6c20 6060   access level ``
-00011f70: 5343 4f50 4560 6020 746f 2077 6f72 6b2e  SCOPE`` to work.
-00011f80: 0a20 2020 2020 2020 2072 6574 7572 6e73  .        returns
-00011f90: 206c 6973 7420 6f66 203a 7079 3a63 6c61   list of :py:cla
-00011fa0: 7373 3a60 7e70 794c 5356 322e 4c53 5632  ss:`~pyLSV2.LSV2
-00011fb0: 2e53 636f 7065 5369 676e 616c 6020 666f  .ScopeSignal` fo
-00011fc0: 7220 6561 6368 2073 6967 6e61 6c0a 2020  r each signal.  
-00011fd0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00011fe0: 2020 6966 206e 6f74 2073 656c 662e 7665    if not self.ve
-00011ff0: 7273 696f 6e73 2e69 735f 6974 6e63 2829  rsions.is_itnc()
-00012000: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00012010: 6c66 2e5f 6c6f 6767 6572 2e77 6172 6e69  lf._logger.warni
-00012020: 6e67 2822 6f6e 6c79 2077 6f72 6b73 2066  ng("only works f
-00012030: 6f72 2069 544e 4335 3330 2229 0a20 2020  or iTNC530").   
-00012040: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00012050: 6c69 7374 2829 0a0a 2020 2020 2020 2020  list()..        
-00012060: 6966 206e 6f74 2073 656c 662e 6c6f 6769  if not self.logi
-00012070: 6e28 6c63 2e4c 6f67 696e 2e53 434f 5045  n(lc.Login.SCOPE
-00012080: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
-00012090: 656c 662e 5f6c 6f67 6765 722e 7761 726e  elf._logger.warn
-000120a0: 696e 6728 2263 6c6f 756c 6420 6e6f 7420  ing("clould not 
-000120b0: 6c6f 6720 696e 2061 7320 7573 6572 2066  log in as user f
-000120c0: 6f72 2073 636f 7065 2066 756e 6374 696f  or scope functio
-000120d0: 6e22 290a 2020 2020 2020 2020 2020 2020  n").            
-000120e0: 7265 7475 726e 206c 6973 7428 290a 0a20  return list().. 
-000120f0: 2020 2020 2020 2063 6861 6e6e 656c 5f6c         channel_l
-00012100: 6973 7420 3d20 6c69 7374 2829 0a0a 2020  ist = list()..  
-00012110: 2020 2020 2020 636f 6e74 656e 7420 3d20        content = 
-00012120: 7365 6c66 2e5f 6c6c 636f 6d2e 7465 6c65  self._llcom.tele
-00012130: 6772 616d 286c 632e 434d 442e 525f 4f43  gram(lc.CMD.R_OC
-00012140: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-00012150: 662e 5f6c 6c63 6f6d 2e6c 6173 745f 7265  f._llcom.last_re
-00012160: 7370 6f6e 7365 2069 6e20 6c63 2e52 5350  sponse in lc.RSP
-00012170: 2e53 5f4f 433a 0a20 2020 2020 2020 2020  .S_OC:.         
-00012180: 2020 2063 6861 6e6e 656c 5f6c 6973 742e     channel_list.
-00012190: 6578 7465 6e64 286c 6d73 2e64 6563 6f64  extend(lms.decod
-000121a0: 655f 7369 676e 616c 5f64 6573 6372 6970  e_signal_descrip
-000121b0: 7469 6f6e 2863 6f6e 7465 6e74 2929 0a0a  tion(content))..
-000121c0: 2020 2020 2020 2020 2020 2020 7768 696c              whil
-000121d0: 6520 5472 7565 3a0a 2020 2020 2020 2020  e True:.        
-000121e0: 2020 2020 2020 2020 636f 6e74 656e 7420          content 
-000121f0: 3d20 7365 6c66 2e5f 6c6c 636f 6d2e 7465  = self._llcom.te
-00012200: 6c65 6772 616d 286c 632e 5253 502e 545f  legram(lc.RSP.T_
-00012210: 4f4b 290a 0a20 2020 2020 2020 2020 2020  OK)..           
-00012220: 2020 2020 2069 6620 7365 6c66 2e5f 6c6c       if self._ll
-00012230: 636f 6d2e 6c61 7374 5f72 6573 706f 6e73  com.last_respons
-00012240: 6520 696e 206c 632e 5253 502e 535f 4f43  e in lc.RSP.S_OC
-00012250: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012260: 2020 2020 2020 6368 616e 6e65 6c5f 6c69        channel_li
-00012270: 7374 2e65 7874 656e 6428 6c6d 732e 6465  st.extend(lms.de
-00012280: 636f 6465 5f73 6967 6e61 6c5f 6465 7363  code_signal_desc
-00012290: 7269 7074 696f 6e28 636f 6e74 656e 7429  ription(content)
-000122a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000122b0: 2020 656c 6966 2073 656c 662e 5f6c 6c63    elif self._llc
-000122c0: 6f6d 2e6c 6173 745f 7265 7370 6f6e 7365  om.last_response
-000122d0: 2069 6e20 6c63 2e52 5350 2e54 5f46 443a   in lc.RSP.T_FD:
-000122e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000122f0: 2020 2020 2073 656c 662e 5f6c 6f67 6765       self._logge
-00012300: 722e 696e 666f 280a 2020 2020 2020 2020  r.info(.        
-00012310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012320: 2266 696e 6973 6865 6420 6c6f 6164 696e  "finished loadin
-00012330: 6720 616e 6420 7061 7273 696e 6720 6461  g and parsing da
-00012340: 7461 2066 6f72 2061 6c6c 2073 636f 7065  ta for all scope
-00012350: 2073 6967 6e61 6c73 220a 2020 2020 2020   signals".      
-00012360: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000dba0: 2020 7265 7475 726e 205b 5d0a 2020 2020    return [].    
+0000dbb0: 2020 2020 2020 2020 6c6f 6767 696e 672e          logging.
+0000dbc0: 6465 6275 6728 2272 6561 6420 6120 746f  debug("read a to
+0000dbd0: 7461 6c20 6f66 2025 6420 7661 6c75 6528  tal of %d value(
+0000dbe0: 7329 222c 206c 656e 2870 6c63 5f76 616c  s)", len(plc_val
+0000dbf0: 7565 7329 290a 2020 2020 2020 2020 6966  ues)).        if
+0000dc00: 206c 656e 2870 6c63 5f76 616c 7565 7329   len(plc_values)
+0000dc10: 2021 3d20 6e75 6d62 6572 5f6f 665f 656c   != number_of_el
+0000dc20: 656d 656e 7473 3a0a 2020 2020 2020 2020  ements:.        
+0000dc30: 2020 2020 7261 6973 6520 4c53 5632 4461      raise LSV2Da
+0000dc40: 7461 4578 6365 7074 696f 6e28 0a20 2020  taException(.   
+0000dc50: 2020 2020 2020 2020 2020 2020 2022 6e75               "nu
+0000dc60: 6d62 6572 206f 6620 7265 6365 6976 6564  mber of received
+0000dc70: 2076 616c 7565 7320 2564 2069 7320 6e6f   values %d is no
+0000dc80: 7420 6571 7561 6c20 746f 206e 756d 6265  t equal to numbe
+0000dc90: 7220 6f66 2072 6571 7565 7374 6564 2025  r of requested %
+0000dca0: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
+0000dcb0: 2020 2025 2028 6c65 6e28 706c 635f 7661     % (len(plc_va
+0000dcc0: 6c75 6573 292c 206e 756d 6265 725f 6f66  lues), number_of
+0000dcd0: 5f65 6c65 6d65 6e74 7329 0a20 2020 2020  _elements).     
+0000dce0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000dcf0: 2072 6574 7572 6e20 706c 635f 7661 6c75   return plc_valu
+0000dd00: 6573 0a0a 2020 2020 6465 6620 7365 745f  es..    def set_
+0000dd10: 6b65 7962 6f61 7264 5f61 6363 6573 7328  keyboard_access(
+0000dd20: 7365 6c66 2c20 756e 6c6f 636b 6564 3a20  self, unlocked: 
+0000dd30: 626f 6f6c 2920 2d3e 2062 6f6f 6c3a 0a20  bool) -> bool:. 
+0000dd40: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000dd50: 2020 2045 6e61 626c 6520 6f72 2064 6973     Enable or dis
+0000dd60: 6162 6c65 2074 6865 206b 6579 626f 6172  able the keyboar
+0000dd70: 6420 6f6e 2074 6865 2063 6f6e 7472 6f6c  d on the control
+0000dd80: 2e0a 2020 2020 2020 2020 5265 7175 6972  ..        Requir
+0000dd90: 6573 2061 6363 6573 7320 6c65 7665 6c20  es access level 
+0000dda0: 6060 4d4f 4e49 544f 5260 6020 746f 2077  ``MONITOR`` to w
+0000ddb0: 6f72 6b2e 0a20 2020 2020 2020 2052 6574  ork..        Ret
+0000ddc0: 7572 6e73 2060 6054 7275 6560 6020 6966  urns ``True`` if
+0000ddd0: 2063 6f6d 706c 6574 6564 2073 7563 6365   completed succe
+0000dde0: 7373 6675 6c6c 792e 0a0a 2020 2020 2020  ssfully...      
+0000ddf0: 2020 3a70 6172 616d 2075 6e6c 6f63 6b65    :param unlocke
+0000de00: 643a 2069 6620 6060 5472 7565 6060 2075  d: if ``True`` u
+0000de10: 6e6c 6f63 6b73 2074 6865 206b 6579 626f  nlocks the keybo
+0000de20: 6172 6420 736f 2069 7420 6361 6e20 6265  ard so it can be
+0000de30: 2075 7365 642e 2049 6620 6060 4661 6c73   used. If ``Fals
+0000de40: 6560 602c 2069 6e70 7574 2069 7320 7365  e``, input is se
+0000de50: 7420 746f 206c 6f63 6b65 640a 2020 2020  t to locked.    
+0000de60: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000de70: 6966 2073 656c 662e 7665 7273 696f 6e73  if self.versions
+0000de80: 2e69 735f 746e 6337 2829 3a0a 2020 2020  .is_tnc7():.    
+0000de90: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
+0000dea0: 6767 6572 2e77 6172 6e69 6e67 2822 7468  gger.warning("th
+0000deb0: 6973 2066 756e 6374 696f 6e20 6d69 6768  is function migh
+0000dec0: 7420 6e6f 7420 6265 2073 7570 706f 7274  t not be support
+0000ded0: 6564 206f 6e20 544e 4337 2229 0a0a 2020  ed on TNC7")..  
+0000dee0: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
+0000def0: 662e 6c6f 6769 6e28 6c63 2e4c 6f67 696e  f.login(lc.Login
+0000df00: 2e4d 4f4e 4954 4f52 293a 0a20 2020 2020  .MONITOR):.     
+0000df10: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+0000df20: 6765 722e 7761 726e 696e 6728 2263 6c6f  ger.warning("clo
+0000df30: 756c 6420 6e6f 7420 6c6f 6720 696e 2061  uld not log in a
+0000df40: 7320 7573 6572 204d 4f4e 4954 4f52 2229  s user MONITOR")
+0000df50: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0000df60: 7572 6e20 4661 6c73 650a 0a20 2020 2020  urn False..     
+0000df70: 2020 2070 6179 6c6f 6164 203d 2062 7974     payload = byt
+0000df80: 6561 7272 6179 2829 0a20 2020 2020 2020  earray().       
+0000df90: 2069 6620 756e 6c6f 636b 6564 3a0a 2020   if unlocked:.  
+0000dfa0: 2020 2020 2020 2020 2020 7061 796c 6f61            payloa
+0000dfb0: 642e 6578 7465 6e64 2873 7472 7563 742e  d.extend(struct.
+0000dfc0: 7061 636b 2822 2142 222c 2030 7830 3029  pack("!B", 0x00)
+0000dfd0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+0000dfe0: 2020 2020 2020 2020 2020 2020 7061 796c              payl
+0000dff0: 6f61 642e 6578 7465 6e64 2873 7472 7563  oad.extend(struc
+0000e000: 742e 7061 636b 2822 2142 222c 2030 7830  t.pack("!B", 0x0
+0000e010: 3129 290a 0a20 2020 2020 2020 2072 6573  1))..        res
+0000e020: 756c 7420 3d20 7365 6c66 2e5f 7365 6e64  ult = self._send
+0000e030: 5f72 6563 6976 6528 6c63 2e43 4d44 2e43  _recive(lc.CMD.C
+0000e040: 5f4c 4b2c 2070 6179 6c6f 6164 2c20 6c63  _LK, payload, lc
+0000e050: 2e52 5350 2e54 5f4f 4b29 0a20 2020 2020  .RSP.T_OK).     
+0000e060: 2020 2069 6620 7265 7375 6c74 3a0a 2020     if result:.  
+0000e070: 2020 2020 2020 2020 2020 6966 2075 6e6c            if unl
+0000e080: 6f63 6b65 643a 0a20 2020 2020 2020 2020  ocked:.         
+0000e090: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+0000e0a0: 6765 722e 6465 6275 6728 2263 6f6d 6d61  ger.debug("comma
+0000e0b0: 6e64 2074 6f20 756e 6c6f 636b 206b 6579  nd to unlock key
+0000e0c0: 626f 6172 6420 7761 7320 7375 6363 6573  board was succes
+0000e0d0: 7366 756c 2229 0a20 2020 2020 2020 2020  sful").         
+0000e0e0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000e0f0: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
+0000e100: 6f67 6765 722e 6465 6275 6728 2263 6f6d  ogger.debug("com
+0000e110: 6d61 6e64 2074 6f20 6c6f 636b 206b 6579  mand to lock key
+0000e120: 626f 6172 6420 7761 7320 7375 6363 6573  board was succes
+0000e130: 7366 756c 2229 0a20 2020 2020 2020 2020  sful").         
+0000e140: 2020 2072 6574 7572 6e20 5472 7565 0a20     return True. 
+0000e150: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+0000e160: 6765 722e 7761 726e 696e 6728 0a20 2020  ger.warning(.   
+0000e170: 2020 2020 2020 2020 2022 616e 2065 7272           "an err
+0000e180: 6f72 206f 6363 7572 7265 6420 6368 616e  or occurred chan
+0000e190: 6769 6e67 2074 6865 2073 7461 7465 206f  ging the state o
+0000e1a0: 6620 7468 6520 6b65 7962 6f61 7264 206c  f the keyboard l
+0000e1b0: 6f63 6b22 0a20 2020 2020 2020 2029 0a20  ock".        ). 
+0000e1c0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+0000e1d0: 6c73 650a 0a20 2020 2064 6566 2067 6574  lse..    def get
+0000e1e0: 5f6d 6163 6869 6e65 5f70 6172 616d 6574  _machine_paramet
+0000e1f0: 6572 2873 656c 662c 206e 616d 653a 2073  er(self, name: s
+0000e200: 7472 2920 2d3e 2073 7472 3a0a 2020 2020  tr) -> str:.    
+0000e210: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000e220: 5265 6164 206d 6163 6869 6e65 2070 6172  Read machine par
+0000e230: 616d 6574 6572 2066 726f 6d20 636f 6e74  ameter from cont
+0000e240: 726f 6c2e 0a20 2020 2020 2020 2052 6571  rol..        Req
+0000e250: 7569 7265 7320 6163 6365 7373 206c 6576  uires access lev
+0000e260: 656c 2060 6049 4e53 5045 4354 6060 206c  el ``INSPECT`` l
+0000e270: 6576 656c 2074 6f20 776f 726b 2e0a 0a20  evel to work... 
+0000e280: 2020 2020 2020 203a 7061 7261 6d20 6e61         :param na
+0000e290: 6d65 3a20 6e61 6d65 206f 6620 7468 6520  me: name of the 
+0000e2a0: 6d61 6368 696e 6520 7061 7261 6d65 7465  machine paramete
+0000e2b0: 722e 0a20 2020 2020 2020 2022 2222 0a20  r..        """. 
+0000e2c0: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
+0000e2d0: 6c66 2e6c 6f67 696e 286c 632e 4c6f 6769  lf.login(lc.Logi
+0000e2e0: 6e2e 494e 5350 4543 5429 3a0a 2020 2020  n.INSPECT):.    
+0000e2f0: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
+0000e300: 6767 6572 2e77 6172 6e69 6e67 2822 636c  gger.warning("cl
+0000e310: 6f75 6c64 206e 6f74 206c 6f67 2069 6e20  ould not log in 
+0000e320: 6173 2075 7365 7220 494e 5350 4543 5422  as user INSPECT"
+0000e330: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+0000e340: 7475 726e 2022 220a 0a20 2020 2020 2020  turn ""..       
+0000e350: 2069 6620 6973 696e 7374 616e 6365 286e   if isinstance(n
+0000e360: 616d 652c 2028 696e 742c 2929 3a0a 2020  ame, (int,)):.  
+0000e370: 2020 2020 2020 2020 2020 6e61 6d65 203d            name =
+0000e380: 2073 7472 286e 616d 6529 0a0a 2020 2020   str(name)..    
+0000e390: 2020 2020 7061 796c 6f61 6420 3d20 6c6d      payload = lm
+0000e3a0: 2e75 7374 725f 746f 5f62 6128 6e61 6d65  .ustr_to_ba(name
+0000e3b0: 290a 0a20 2020 2020 2020 2072 6573 756c  )..        resul
+0000e3c0: 7420 3d20 7365 6c66 2e5f 7365 6e64 5f72  t = self._send_r
+0000e3d0: 6563 6976 6528 6c63 2e43 4d44 2e52 5f4d  ecive(lc.CMD.R_M
+0000e3e0: 432c 2070 6179 6c6f 6164 2c20 6c63 2e52  C, payload, lc.R
+0000e3f0: 5350 2e53 5f4d 4329 0a20 2020 2020 2020  SP.S_MC).       
+0000e400: 2069 6620 6973 696e 7374 616e 6365 2872   if isinstance(r
+0000e410: 6573 756c 742c 2028 6279 7465 6172 7261  esult, (bytearra
+0000e420: 792c 2929 2061 6e64 206c 656e 2872 6573  y,)) and len(res
+0000e430: 756c 7429 203e 2030 3a0a 2020 2020 2020  ult) > 0:.      
+0000e440: 2020 2020 2020 7661 6c75 6520 3d20 6c6d        value = lm
+0000e450: 2e62 615f 746f 5f75 7374 7228 7265 7375  .ba_to_ustr(resu
+0000e460: 6c74 290a 2020 2020 2020 2020 2020 2020  lt).            
+0000e470: 7365 6c66 2e5f 6c6f 6767 6572 2e64 6562  self._logger.deb
+0000e480: 7567 2822 6d61 6368 696e 6520 7061 7261  ug("machine para
+0000e490: 6d65 7465 7220 2573 2068 6173 2076 616c  meter %s has val
+0000e4a0: 7565 2025 7322 2c20 6e61 6d65 2c20 7661  ue %s", name, va
+0000e4b0: 6c75 6529 0a20 2020 2020 2020 2020 2020  lue).           
+0000e4c0: 2072 6574 7572 6e20 7661 6c75 650a 0a20   return value.. 
+0000e4d0: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+0000e4e0: 6765 722e 7761 726e 696e 6728 0a20 2020  ger.warning(.   
+0000e4f0: 2020 2020 2020 2020 2022 616e 2065 7272           "an err
+0000e500: 6f72 206f 6363 7572 7265 6420 7768 696c  or occurred whil
+0000e510: 6520 7265 6164 696e 6720 6d61 6368 696e  e reading machin
+0000e520: 6520 7061 7261 6d65 7465 7220 2573 222c  e parameter %s",
+0000e530: 206e 616d 650a 2020 2020 2020 2020 290a   name.        ).
+0000e540: 2020 2020 2020 2020 7265 7475 726e 2022          return "
+0000e550: 220a 0a20 2020 2064 6566 2073 6574 5f6d  "..    def set_m
+0000e560: 6163 6869 6e65 5f70 6172 616d 6574 6572  achine_parameter
+0000e570: 280a 2020 2020 2020 2020 7365 6c66 2c20  (.        self, 
+0000e580: 6e61 6d65 3a20 7374 722c 2076 616c 7565  name: str, value
+0000e590: 3a20 7374 722c 2073 6166 655f 746f 5f64  : str, safe_to_d
+0000e5a0: 6973 6b3a 2062 6f6f 6c20 3d20 4661 6c73  isk: bool = Fals
+0000e5b0: 650a 2020 2020 2920 2d3e 2062 6f6f 6c3a  e.    ) -> bool:
+0000e5c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000e5d0: 2020 2020 2053 6574 206d 6163 6869 6e65       Set machine
+0000e5e0: 2070 6172 616d 6574 6572 206f 6e20 636f   parameter on co
+0000e5f0: 6e74 726f 6c2e 2057 7269 7469 6e67 2061  ntrol. Writing a
+0000e600: 2070 6172 616d 6574 6572 2074 616b 6573   parameter takes
+0000e610: 2073 6f6d 6520 7469 6d65 2c20 6d61 6b65   some time, make
+0000e620: 2073 7572 6520 746f 2073 6574 2074 696d   sure to set tim
+0000e630: 656f 7574 0a20 2020 2020 2020 2073 7566  eout.        suf
+0000e640: 6669 6369 656e 746c 7920 6869 6768 210a  ficiently high!.
+0000e650: 2020 2020 2020 2020 5265 7175 6972 6573          Requires
+0000e660: 2061 6363 6573 7320 6060 504c 4344 4542   access ``PLCDEB
+0000e670: 5547 6060 206c 6576 656c 2074 6f20 776f  UG`` level to wo
+0000e680: 726b 2e0a 2020 2020 2020 2020 5265 7475  rk..        Retu
+0000e690: 726e 7320 6060 5472 7565 6060 2069 6620  rns ``True`` if 
+0000e6a0: 636f 6d70 6c65 7465 6420 7375 6363 6573  completed succes
+0000e6b0: 7366 756c 6c79 2e0a 0a20 2020 2020 2020  sfully...       
+0000e6c0: 203a 7061 7261 6d20 6e61 6d65 3a20 6e61   :param name: na
+0000e6d0: 6d65 206f 6620 7468 6520 6d61 6368 696e  me of the machin
+0000e6e0: 6520 7061 7261 6d65 7465 722e 2046 6f72  e parameter. For
+0000e6f0: 2069 544e 4320 7468 6520 7061 7261 6d65   iTNC the parame
+0000e700: 7465 7220 6e75 6d62 6572 2068 6173 6520  ter number hase 
+0000e710: 746f 2062 6520 636f 6e76 6572 7465 6420  to be converted 
+0000e720: 746f 2073 7472 696e 670a 2020 2020 2020  to string.      
+0000e730: 2020 3a70 6172 616d 2076 616c 7565 3a20    :param value: 
+0000e740: 6e65 7720 7661 6c75 6520 6f66 2074 6865  new value of the
+0000e750: 206d 6163 6869 6e65 2070 6172 616d 6574   machine paramet
+0000e760: 6572 2e20 5468 6572 6520 6973 206e 6f20  er. There is no 
+0000e770: 7479 7065 2063 6865 636b 696e 672c 2069  type checking, i
+0000e780: 6620 7468 6520 7661 6c75 6520 6361 6e20  f the value can 
+0000e790: 6e6f 7420 6265 0a20 2020 2020 2020 2020  not be.         
+0000e7a0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0000e7b0: 6f6e 7665 7274 6564 2062 7920 7468 6520  onverted by the 
+0000e7c0: 636f 6e74 726f 6c20 616e 2065 7272 6f72  control an error
+0000e7d0: 2077 696c 6c20 6265 2073 656e 742e 0a20   will be sent.. 
+0000e7e0: 2020 2020 2020 203a 7061 7261 6d20 7361         :param sa
+0000e7f0: 6665 5f74 6f5f 6469 736b 3a20 4966 2054  fe_to_disk: If T
+0000e800: 7275 6520 7468 6520 6e65 7720 7661 6c75  rue the new valu
+0000e810: 6520 7769 6c6c 2062 6520 7772 6974 7465  e will be writte
+0000e820: 6e20 746f 2074 6865 2068 6172 6464 6973  n to the harddis
+0000e830: 6b20 616e 6420 7374 6179 2070 6572 6d61  k and stay perma
+0000e840: 6e65 6e74 2e0a 2020 2020 2020 2020 2020  nent..          
+0000e850: 2020 2020 2020 2020 2020 2020 2020 4966                If
+0000e860: 2046 616c 7365 2028 6465 6661 756c 7429   False (default)
+0000e870: 2074 6865 2076 616c 7565 2077 696c 6c20   the value will 
+0000e880: 6f6e 6c79 2062 6520 6176 6169 6c61 626c  only be availabl
+0000e890: 6520 756e 7469 6c20 7468 6520 6e65 7874  e until the next
+0000e8a0: 2072 6562 6f6f 742e 0a20 2020 2020 2020   reboot..       
+0000e8b0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0000e8c0: 6e6f 7420 7365 6c66 2e6c 6f67 696e 286c  not self.login(l
+0000e8d0: 632e 4c6f 6769 6e2e 504c 4344 4542 5547  c.Login.PLCDEBUG
+0000e8e0: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
+0000e8f0: 656c 662e 5f6c 6f67 6765 722e 7761 726e  elf._logger.warn
+0000e900: 696e 6728 2263 6c6f 756c 6420 6e6f 7420  ing("clould not 
+0000e910: 6c6f 6720 696e 2061 7320 7573 6572 2050  log in as user P
+0000e920: 4c43 4445 4255 4722 290a 2020 2020 2020  LCDEBUG").      
+0000e930: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+0000e940: 7365 0a0a 2020 2020 2020 2020 7061 796c  se..        payl
+0000e950: 6f61 6420 3d20 6279 7465 6172 7261 7928  oad = bytearray(
+0000e960: 290a 2020 2020 2020 2020 6966 2073 6166  ).        if saf
+0000e970: 655f 746f 5f64 6973 6b3a 0a20 2020 2020  e_to_disk:.     
+0000e980: 2020 2020 2020 2070 6179 6c6f 6164 2e65         payload.e
+0000e990: 7874 656e 6428 7374 7275 6374 2e70 6163  xtend(struct.pac
+0000e9a0: 6b28 2221 4c22 2c20 3078 3030 2929 0a20  k("!L", 0x00)). 
+0000e9b0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000e9c0: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
+0000e9d0: 2e65 7874 656e 6428 7374 7275 6374 2e70  .extend(struct.p
+0000e9e0: 6163 6b28 2221 4c22 2c20 3078 3031 2929  ack("!L", 0x01))
+0000e9f0: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
+0000ea00: 2e65 7874 656e 6428 6c6d 2e75 7374 725f  .extend(lm.ustr_
+0000ea10: 746f 5f62 6128 6e61 6d65 2929 0a20 2020  to_ba(name)).   
+0000ea20: 2020 2020 2070 6179 6c6f 6164 2e65 7874       payload.ext
+0000ea30: 656e 6428 6c6d 2e75 7374 725f 746f 5f62  end(lm.ustr_to_b
+0000ea40: 6128 7661 6c75 6529 290a 0a20 2020 2020  a(value))..     
+0000ea50: 2020 2072 6573 756c 7420 3d20 7365 6c66     result = self
+0000ea60: 2e5f 7365 6e64 5f72 6563 6976 6528 6c63  ._send_recive(lc
+0000ea70: 2e43 4d44 2e43 5f4d 432c 2070 6179 6c6f  .CMD.C_MC, paylo
+0000ea80: 6164 2c20 6c63 2e52 5350 2e54 5f4f 4b29  ad, lc.RSP.T_OK)
+0000ea90: 0a20 2020 2020 2020 2069 6620 7265 7375  .        if resu
+0000eaa0: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
+0000eab0: 7365 6c66 2e5f 6c6f 6767 6572 2e64 6562  self._logger.deb
+0000eac0: 7567 280a 2020 2020 2020 2020 2020 2020  ug(.            
+0000ead0: 2020 2020 2273 6574 7469 6e67 206f 6620      "setting of 
+0000eae0: 6d61 6368 696e 6520 7061 7261 6d65 7465  machine paramete
+0000eaf0: 7220 2573 2074 6f20 7661 6c75 6520 2573  r %s to value %s
+0000eb00: 2077 6173 2073 7563 6365 7373 6675 6c22   was successful"
+0000eb10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000eb20: 2020 6e61 6d65 2c0a 2020 2020 2020 2020    name,.        
+0000eb30: 2020 2020 2020 2020 7661 6c75 652c 0a20          value,. 
+0000eb40: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0000eb50: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0000eb60: 5472 7565 0a0a 2020 2020 2020 2020 7365  True..        se
+0000eb70: 6c66 2e5f 6c6f 6767 6572 2e77 6172 6e69  lf._logger.warni
+0000eb80: 6e67 280a 2020 2020 2020 2020 2020 2020  ng(.            
+0000eb90: 2261 6e20 6572 726f 7220 6f63 6375 7272  "an error occurr
+0000eba0: 6564 2077 6869 6c65 2073 6574 7469 6e67  ed while setting
+0000ebb0: 206d 6163 6869 6e65 2070 6172 616d 6574   machine paramet
+0000ebc0: 6572 2025 7320 746f 2076 616c 7565 2025  er %s to value %
+0000ebd0: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
+0000ebe0: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+0000ebf0: 2020 7661 6c75 652c 0a20 2020 2020 2020    value,.       
+0000ec00: 2029 0a20 2020 2020 2020 2072 6574 7572   ).        retur
+0000ec10: 6e20 4661 6c73 650a 0a20 2020 2064 6566  n False..    def
+0000ec20: 2073 656e 645f 6b65 795f 636f 6465 2873   send_key_code(s
+0000ec30: 656c 662c 206b 6579 5f63 6f64 653a 2055  elf, key_code: U
+0000ec40: 6e69 6f6e 5b6c 632e 4b65 7943 6f64 652c  nion[lc.KeyCode,
+0000ec50: 206c 632e 4f6c 644b 6579 436f 6465 5d29   lc.OldKeyCode])
+0000ec60: 202d 3e20 626f 6f6c 3a0a 2020 2020 2020   -> bool:.      
+0000ec70: 2020 2222 220a 2020 2020 2020 2020 5365    """.        Se
+0000ec80: 6e64 206b 6579 2063 6f64 6520 746f 2063  nd key code to c
+0000ec90: 6f6e 7472 6f6c 2e20 4265 6861 7665 7320  ontrol. Behaves 
+0000eca0: 6173 2069 6620 7468 6520 6173 736f 6369  as if the associ
+0000ecb0: 6174 6564 206b 6579 2077 6173 2070 7265  ated key was pre
+0000ecc0: 7373 6564 206f 6e20 7468 6520 6b65 7962  ssed on the keyb
+0000ecd0: 6f61 7264 2e0a 2020 2020 2020 2020 5265  oard..        Re
+0000ece0: 7175 6972 6573 2061 6363 6573 7320 6060  quires access ``
+0000ecf0: 4d4f 4e49 544f 5260 6020 6c65 7665 6c20  MONITOR`` level 
+0000ed00: 746f 2077 6f72 6b2e 0a20 2020 2020 2020  to work..       
+0000ed10: 2054 6f20 776f 726b 2063 6f72 7265 6374   To work correct
+0000ed20: 6c79 2079 6f75 2066 6972 7374 2068 6176  ly you first hav
+0000ed30: 6520 746f 206c 6f63 6b20 7468 6520 6b65  e to lock the ke
+0000ed40: 7962 6f61 7264 2061 6e64 2075 6e6c 6f63  yboard and unloc
+0000ed50: 6b20 6974 2061 6674 6572 7761 7264 7321  k it afterwards!
+0000ed60: 3a0a 0a20 2020 2020 2020 202e 2e20 636f  :..        .. co
+0000ed70: 6465 2d62 6c6f 636b 3a3a 2070 7974 686f  de-block:: pytho
+0000ed80: 6e0a 0a20 2020 2020 2020 2020 2020 2073  n..            s
+0000ed90: 6574 5f6b 6579 626f 6172 645f 6163 6365  et_keyboard_acce
+0000eda0: 7373 2846 616c 7365 290a 2020 2020 2020  ss(False).      
+0000edb0: 2020 2020 2020 7365 6e64 5f6b 6579 5f63        send_key_c
+0000edc0: 6f64 6528 4b65 7943 6f64 652e 4345 290a  ode(KeyCode.CE).
+0000edd0: 2020 2020 2020 2020 2020 2020 7365 745f              set_
+0000ede0: 6b65 7962 6f61 7264 5f61 6363 6573 7328  keyboard_access(
+0000edf0: 5472 7565 290a 0a20 2020 2020 2020 2052  True)..        R
+0000ee00: 6574 7572 6e73 2060 6054 7275 6560 6020  eturns ``True`` 
+0000ee10: 6966 2063 6f6d 706c 6574 6564 2073 7563  if completed suc
+0000ee20: 6365 7373 6675 6c6c 792e 0a0a 2020 2020  cessfully...    
+0000ee30: 2020 2020 3a70 6172 616d 206b 6579 5f63      :param key_c
+0000ee40: 6f64 653a 2063 6f64 6520 6e75 6d62 6572  ode: code number
+0000ee50: 206f 6620 7468 6520 6b65 7962 6f61 7264   of the keyboard
+0000ee60: 206b 6579 0a20 2020 2020 2020 2022 2222   key.        """
+0000ee70: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0000ee80: 2e76 6572 7369 6f6e 732e 6973 5f74 6e63  .versions.is_tnc
+0000ee90: 3728 293a 0a20 2020 2020 2020 2020 2020  7():.           
+0000eea0: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
+0000eeb0: 726e 696e 6728 2274 6869 7320 6675 6e63  rning("this func
+0000eec0: 7469 6f6e 206d 6967 6874 206e 6f74 2062  tion might not b
+0000eed0: 6520 7375 7070 6f72 7465 6420 6f6e 2054  e supported on T
+0000eee0: 4e43 3722 290a 0a20 2020 2020 2020 2069  NC7")..        i
+0000eef0: 6620 6e6f 7420 7365 6c66 2e6c 6f67 696e  f not self.login
+0000ef00: 286c 632e 4c6f 6769 6e2e 4d4f 4e49 544f  (lc.Login.MONITO
+0000ef10: 5229 3a0a 2020 2020 2020 2020 2020 2020  R):.            
+0000ef20: 7365 6c66 2e5f 6c6f 6767 6572 2e77 6172  self._logger.war
+0000ef30: 6e69 6e67 2822 636c 6f75 6c64 206e 6f74  ning("clould not
+0000ef40: 206c 6f67 2069 6e20 6173 2075 7365 7220   log in as user 
+0000ef50: 4d4f 4e49 544f 5222 290a 2020 2020 2020  MONITOR").      
+0000ef60: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+0000ef70: 7365 0a0a 2020 2020 2020 2020 7061 796c  se..        payl
+0000ef80: 6f61 6420 3d20 6279 7465 6172 7261 7928  oad = bytearray(
+0000ef90: 290a 2020 2020 2020 2020 7061 796c 6f61  ).        payloa
+0000efa0: 642e 6578 7465 6e64 2873 7472 7563 742e  d.extend(struct.
+0000efb0: 7061 636b 2822 2148 222c 206b 6579 5f63  pack("!H", key_c
+0000efc0: 6f64 6529 290a 0a20 2020 2020 2020 2072  ode))..        r
+0000efd0: 6573 756c 7420 3d20 7365 6c66 2e5f 7365  esult = self._se
+0000efe0: 6e64 5f72 6563 6976 6528 6c63 2e43 4d44  nd_recive(lc.CMD
+0000eff0: 2e43 5f45 4b2c 2070 6179 6c6f 6164 2c20  .C_EK, payload, 
+0000f000: 6c63 2e52 5350 2e54 5f4f 4b29 0a20 2020  lc.RSP.T_OK).   
+0000f010: 2020 2020 2069 6620 7265 7375 6c74 3a0a       if result:.
+0000f020: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000f030: 2e5f 6c6f 6767 6572 2e64 6562 7567 2822  ._logger.debug("
+0000f040: 7365 6e64 696e 6720 7468 6520 6b65 7920  sending the key 
+0000f050: 636f 6465 2025 6420 7761 7320 7375 6363  code %d was succ
+0000f060: 6573 7366 756c 222c 206b 6579 5f63 6f64  essful", key_cod
+0000f070: 6529 0a20 2020 2020 2020 2020 2020 2072  e).            r
+0000f080: 6574 7572 6e20 5472 7565 0a0a 2020 2020  eturn True..    
+0000f090: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
+0000f0a0: 2e77 6172 6e69 6e67 280a 2020 2020 2020  .warning(.      
+0000f0b0: 2020 2020 2020 2261 6e20 6572 726f 7220        "an error 
+0000f0c0: 6f63 6375 7272 6564 2077 6869 6c65 2073  occurred while s
+0000f0d0: 656e 6469 6e67 2074 6865 206b 6579 2063  ending the key c
+0000f0e0: 6f64 6520 2564 222c 206b 6579 5f63 6f64  ode %d", key_cod
+0000f0f0: 650a 2020 2020 2020 2020 290a 2020 2020  e.        ).    
+0000f100: 2020 2020 7265 7475 726e 2046 616c 7365      return False
+0000f110: 0a0a 2020 2020 6465 6620 7370 696e 646c  ..    def spindl
+0000f120: 655f 746f 6f6c 5f73 7461 7475 7328 7365  e_tool_status(se
+0000f130: 6c66 2920 2d3e 2055 6e69 6f6e 5b6c 642e  lf) -> Union[ld.
+0000f140: 546f 6f6c 496e 666f 726d 6174 696f 6e2c  ToolInformation,
+0000f150: 204e 6f6e 655d 3a0a 2020 2020 2020 2020   None]:.        
+0000f160: 2222 220a 2020 2020 2020 2020 4765 7420  """.        Get 
+0000f170: 696e 666f 726d 6174 696f 6e20 6162 6f75  information abou
+0000f180: 7420 7468 6520 746f 6f6c 2063 7572 7265  t the tool curre
+0000f190: 6e74 6c79 2069 6e20 7468 6520 7370 696e  ntly in the spin
+0000f1a0: 646c 650a 2020 2020 2020 2020 5265 7175  dle.        Requ
+0000f1b0: 6972 6573 2061 6363 6573 7320 6c65 7665  ires access leve
+0000f1c0: 6c20 6060 444e 4360 6020 746f 2077 6f72  l ``DNC`` to wor
+0000f1d0: 6b2e 0a20 2020 2020 2020 2022 2222 0a20  k..        """. 
+0000f1e0: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
+0000f1f0: 6c66 2e6c 6f67 696e 286c 632e 4c6f 6769  lf.login(lc.Logi
+0000f200: 6e2e 444e 4329 3a0a 2020 2020 2020 2020  n.DNC):.        
+0000f210: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
+0000f220: 2e77 6172 6e69 6e67 2822 636c 6f75 6c64  .warning("clould
+0000f230: 206e 6f74 206c 6f67 2069 6e20 6173 2075   not log in as u
+0000f240: 7365 7220 444e 4322 290a 2020 2020 2020  ser DNC").      
+0000f250: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+0000f260: 650a 0a20 2020 2020 2020 2070 6179 6c6f  e..        paylo
+0000f270: 6164 203d 2062 7974 6561 7272 6179 2829  ad = bytearray()
+0000f280: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
+0000f290: 2e65 7874 656e 6428 7374 7275 6374 2e70  .extend(struct.p
+0000f2a0: 6163 6b28 2221 4822 2c20 6c63 2e50 6172  ack("!H", lc.Par
+0000f2b0: 5252 492e 4355 5252 454e 545f 544f 4f4c  RRI.CURRENT_TOOL
+0000f2c0: 2929 0a0a 2020 2020 2020 2020 7265 7375  ))..        resu
+0000f2d0: 6c74 203d 2073 656c 662e 5f73 656e 645f  lt = self._send_
+0000f2e0: 7265 6369 7665 286c 632e 434d 442e 525f  recive(lc.CMD.R_
+0000f2f0: 5249 2c20 7061 796c 6f61 642c 206c 632e  RI, payload, lc.
+0000f300: 5253 502e 535f 5249 290a 2020 2020 2020  RSP.S_RI).      
+0000f310: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+0000f320: 7265 7375 6c74 2c20 2862 7974 6561 7272  result, (bytearr
+0000f330: 6179 2c29 2920 616e 6420 6c65 6e28 7265  ay,)) and len(re
+0000f340: 7375 6c74 2920 3e20 303a 0a20 2020 2020  sult) > 0:.     
+0000f350: 2020 2020 2020 2074 6f6f 6c5f 696e 666f         tool_info
+0000f360: 203d 206c 6d2e 6465 636f 6465 5f74 6f6f   = lm.decode_too
+0000f370: 6c5f 696e 666f 2872 6573 756c 7429 0a20  l_info(result). 
+0000f380: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000f390: 5f6c 6f67 6765 722e 6465 6275 6728 2273  _logger.debug("s
+0000f3a0: 7563 6365 7373 6675 6c6c 7920 7265 6164  uccessfully read
+0000f3b0: 2069 6e66 6f20 6f6e 2063 7572 7265 6e74   info on current
+0000f3c0: 2074 6f6f 6c3a 2025 7322 2c20 746f 6f6c   tool: %s", tool
+0000f3d0: 5f69 6e66 6f29 0a20 2020 2020 2020 2020  _info).         
+0000f3e0: 2020 2072 6574 7572 6e20 746f 6f6c 5f69     return tool_i
+0000f3f0: 6e66 6f0a 2020 2020 2020 2020 7365 6c66  nfo.        self
+0000f400: 2e5f 6c6f 6767 6572 2e77 6172 6e69 6e67  ._logger.warning
+0000f410: 280a 2020 2020 2020 2020 2020 2020 2261  (.            "a
+0000f420: 6e20 6572 726f 7220 6f63 6375 7272 6564  n error occurred
+0000f430: 2077 6869 6c65 2071 7565 7279 696e 6720   while querying 
+0000f440: 6375 7272 656e 7420 746f 6f6c 2069 6e66  current tool inf
+0000f450: 6f72 6d61 7469 6f6e 2e20 5468 6973 2064  ormation. This d
+0000f460: 6f65 7320 6e6f 7420 776f 726b 2066 6f72  oes not work for
+0000f470: 2061 6c6c 2063 6f6e 7472 6f6c 2074 7970   all control typ
+0000f480: 6573 220a 2020 2020 2020 2020 290a 2020  es".        ).  
+0000f490: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+0000f4a0: 650a 0a20 2020 2064 6566 206f 7665 7272  e..    def overr
+0000f4b0: 6964 655f 7374 6174 6528 7365 6c66 2920  ide_state(self) 
+0000f4c0: 2d3e 2055 6e69 6f6e 5b6c 642e 4f76 6572  -> Union[ld.Over
+0000f4d0: 7269 6465 5374 6174 652c 204e 6f6e 655d  rideState, None]
+0000f4e0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000f4f0: 2020 2020 2020 4765 7420 696e 666f 726d        Get inform
+0000f500: 6174 696f 6e20 6162 6f75 7420 7468 6520  ation about the 
+0000f510: 6f76 6572 7269 6465 2069 6e66 6f2e 0a20  override info.. 
+0000f520: 2020 2020 2020 2052 6571 7569 7265 7320         Requires 
+0000f530: 6163 6365 7373 206c 6576 656c 2060 6044  access level ``D
+0000f540: 4e43 6060 2074 6f20 776f 726b 2e0a 2020  NC`` to work..  
+0000f550: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000f560: 2020 6966 206e 6f74 2073 656c 662e 6c6f    if not self.lo
+0000f570: 6769 6e28 6c63 2e4c 6f67 696e 2e44 4e43  gin(lc.Login.DNC
+0000f580: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
+0000f590: 656c 662e 5f6c 6f67 6765 722e 7761 726e  elf._logger.warn
+0000f5a0: 696e 6728 2263 6c6f 756c 6420 6e6f 7420  ing("clould not 
+0000f5b0: 6c6f 6720 696e 2061 7320 7573 6572 2044  log in as user D
+0000f5c0: 4e43 2229 0a20 2020 2020 2020 2020 2020  NC").           
+0000f5d0: 2072 6574 7572 6e20 4e6f 6e65 0a0a 2020   return None..  
+0000f5e0: 2020 2020 2020 7061 796c 6f61 6420 3d20        payload = 
+0000f5f0: 6279 7465 6172 7261 7928 290a 2020 2020  bytearray().    
+0000f600: 2020 2020 7061 796c 6f61 642e 6578 7465      payload.exte
+0000f610: 6e64 2873 7472 7563 742e 7061 636b 2822  nd(struct.pack("
+0000f620: 2148 222c 206c 632e 5061 7252 5249 2e4f  !H", lc.ParRRI.O
+0000f630: 5645 5252 4944 4529 290a 0a20 2020 2020  VERRIDE))..     
+0000f640: 2020 2072 6573 756c 7420 3d20 7365 6c66     result = self
+0000f650: 2e5f 7365 6e64 5f72 6563 6976 6528 6c63  ._send_recive(lc
+0000f660: 2e43 4d44 2e52 5f52 492c 2070 6179 6c6f  .CMD.R_RI, paylo
+0000f670: 6164 2c20 6c63 2e52 5350 2e53 5f52 4929  ad, lc.RSP.S_RI)
+0000f680: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+0000f690: 7374 616e 6365 2872 6573 756c 742c 2028  stance(result, (
+0000f6a0: 6279 7465 6172 7261 792c 2929 2061 6e64  bytearray,)) and
+0000f6b0: 206c 656e 2872 6573 756c 7429 203e 2030   len(result) > 0
+0000f6c0: 3a0a 2020 2020 2020 2020 2020 2020 6f76  :.            ov
+0000f6d0: 6572 7269 6465 5f69 6e66 6f20 3d20 6c6d  erride_info = lm
+0000f6e0: 2e64 6563 6f64 655f 6f76 6572 7269 6465  .decode_override
+0000f6f0: 5f73 7461 7465 2872 6573 756c 7429 0a20  _state(result). 
+0000f700: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000f710: 5f6c 6f67 6765 722e 6465 6275 6728 2273  _logger.debug("s
+0000f720: 7563 6365 7373 6675 6c6c 7920 7265 6164  uccessfully read
+0000f730: 206f 7665 7272 6964 6520 696e 666f 3a20   override info: 
+0000f740: 2573 222c 206f 7665 7272 6964 655f 696e  %s", override_in
+0000f750: 666f 290a 2020 2020 2020 2020 2020 2020  fo).            
+0000f760: 7265 7475 726e 206f 7665 7272 6964 655f  return override_
+0000f770: 696e 666f 0a20 2020 2020 2020 2073 656c  info.        sel
+0000f780: 662e 5f6c 6f67 6765 722e 7761 726e 696e  f._logger.warnin
+0000f790: 6728 0a20 2020 2020 2020 2020 2020 2022  g(.            "
+0000f7a0: 616e 2065 7272 6f72 206f 6363 7572 7265  an error occurre
+0000f7b0: 6420 7768 696c 6520 7175 6572 7969 6e67  d while querying
+0000f7c0: 2063 7572 7265 6e74 206f 7665 7272 6964   current overrid
+0000f7d0: 6520 696e 666f 726d 6174 696f 6e2e 2054  e information. T
+0000f7e0: 6869 7320 646f 6573 206e 6f74 2077 6f72  his does not wor
+0000f7f0: 6b20 666f 7220 616c 6c20 636f 6e74 726f  k for all contro
+0000f800: 6c20 7479 7065 7322 0a20 2020 2020 2020  l types".       
+0000f810: 2029 0a20 2020 2020 2020 2072 6574 7572   ).        retur
+0000f820: 6e20 4e6f 6e65 0a0a 2020 2020 6465 6620  n None..    def 
+0000f830: 6765 745f 6572 726f 725f 6d65 7373 6167  get_error_messag
+0000f840: 6573 2873 656c 6629 202d 3e20 4c69 7374  es(self) -> List
+0000f850: 5b6c 642e 4e43 4572 726f 724d 6573 7361  [ld.NCErrorMessa
+0000f860: 6765 5d3a 0a20 2020 2020 2020 2022 2222  ge]:.        """
+0000f870: 0a20 2020 2020 2020 2047 6574 2069 6e66  .        Get inf
+0000f880: 6f72 6d61 7469 6f6e 2061 626f 7574 2074  ormation about t
+0000f890: 6865 2066 6972 7374 206f 7220 6e65 7874  he first or next
+0000f8a0: 2065 7272 6f72 2064 6973 706c 6179 6564   error displayed
+0000f8b0: 206f 6e20 7468 6520 636f 6e74 726f 6c0a   on the control.
+0000f8c0: 2020 2020 2020 2020 5265 7175 6972 6573          Requires
+0000f8d0: 2061 6363 6573 7320 6c65 7665 6c20 6060   access level ``
+0000f8e0: 444e 4360 6020 746f 2077 6f72 6b2e 0a20  DNC`` to work.. 
+0000f8f0: 2020 2020 2020 2052 6574 7572 6e73 2065         Returns e
+0000f900: 7272 6f72 206c 6973 7420 6f66 2065 7272  rror list of err
+0000f910: 6f72 206d 6573 7361 6765 730a 2020 2020  or messages.    
+0000f920: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000f930: 6d65 7373 6167 6573 203d 205b 5d0a 2020  messages = [].  
+0000f940: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
+0000f950: 662e 6c6f 6769 6e28 6c63 2e4c 6f67 696e  f.login(lc.Login
+0000f960: 2e44 4e43 293a 0a20 2020 2020 2020 2020  .DNC):.         
+0000f970: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
+0000f980: 7761 726e 696e 6728 2263 6c6f 756c 6420  warning("clould 
+0000f990: 6e6f 7420 6c6f 6720 696e 2061 7320 7573  not log in as us
+0000f9a0: 6572 2044 4e43 2229 0a20 2020 2020 2020  er DNC").       
+0000f9b0: 2020 2020 2072 6574 7572 6e20 5b5d 0a0a       return []..
+0000f9c0: 2020 2020 2020 2020 7061 796c 6f61 6420          payload 
+0000f9d0: 3d20 6279 7465 6172 7261 7928 290a 2020  = bytearray().  
+0000f9e0: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
+0000f9f0: 7465 6e64 2873 7472 7563 742e 7061 636b  tend(struct.pack
+0000fa00: 2822 2148 222c 206c 632e 5061 7252 5249  ("!H", lc.ParRRI
+0000fa10: 2e46 4952 5354 5f45 5252 4f52 2929 0a0a  .FIRST_ERROR))..
+0000fa20: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0000fa30: 2073 656c 662e 5f73 656e 645f 7265 6369   self._send_reci
+0000fa40: 7665 286c 632e 434d 442e 525f 5249 2c20  ve(lc.CMD.R_RI, 
+0000fa50: 7061 796c 6f61 642c 206c 632e 5253 502e  payload, lc.RSP.
+0000fa60: 535f 5249 290a 2020 2020 2020 2020 6966  S_RI).        if
+0000fa70: 2069 7369 6e73 7461 6e63 6528 7265 7375   isinstance(resu
+0000fa80: 6c74 2c20 2862 7974 6561 7272 6179 2c29  lt, (bytearray,)
+0000fa90: 2920 616e 6420 6c65 6e28 7265 7375 6c74  ) and len(result
+0000faa0: 2920 3e20 303a 0a20 2020 2020 2020 2020  ) > 0:.         
+0000fab0: 2020 206d 6573 7361 6765 732e 6170 7065     messages.appe
+0000fac0: 6e64 286c 6d2e 6465 636f 6465 5f65 7272  nd(lm.decode_err
+0000fad0: 6f72 5f6d 6573 7361 6765 2872 6573 756c  or_message(resul
+0000fae0: 7429 290a 2020 2020 2020 2020 2020 2020  t)).            
+0000faf0: 7061 796c 6f61 6420 3d20 6279 7465 6172  payload = bytear
+0000fb00: 7261 7928 290a 2020 2020 2020 2020 2020  ray().          
+0000fb10: 2020 7061 796c 6f61 642e 6578 7465 6e64    payload.extend
+0000fb20: 2873 7472 7563 742e 7061 636b 2822 2148  (struct.pack("!H
+0000fb30: 222c 206c 632e 5061 7252 5249 2e4e 4558  ", lc.ParRRI.NEX
+0000fb40: 545f 4552 524f 5229 290a 2020 2020 2020  T_ERROR)).      
+0000fb50: 2020 2020 2020 7265 7375 6c74 203d 2073        result = s
+0000fb60: 656c 662e 5f73 656e 645f 7265 6369 7665  elf._send_recive
+0000fb70: 286c 632e 434d 442e 525f 5249 2c20 7061  (lc.CMD.R_RI, pa
+0000fb80: 796c 6f61 642c 206c 632e 5253 502e 535f  yload, lc.RSP.S_
+0000fb90: 5249 290a 2020 2020 2020 2020 2020 2020  RI).            
+0000fba0: 7365 6c66 2e5f 6c6f 6767 6572 2e64 6562  self._logger.deb
+0000fbb0: 7567 2822 7375 6363 6573 7366 756c 6c79  ug("successfully
+0000fbc0: 2072 6561 6420 6669 7273 7420 6572 726f   read first erro
+0000fbd0: 7220 6275 7420 6675 7274 6865 7220 6572  r but further er
+0000fbe0: 726f 7273 2229 0a0a 2020 2020 2020 2020  rors")..        
+0000fbf0: 2020 2020 7768 696c 6520 6973 696e 7374      while isinst
+0000fc00: 616e 6365 2872 6573 756c 742c 2028 6279  ance(result, (by
+0000fc10: 7465 6172 7261 792c 2929 3a0a 2020 2020  tearray,)):.    
+0000fc20: 2020 2020 2020 2020 2020 2020 6d65 7373              mess
+0000fc30: 6167 6573 2e61 7070 656e 6428 6c6d 2e64  ages.append(lm.d
+0000fc40: 6563 6f64 655f 6572 726f 725f 6d65 7373  ecode_error_mess
+0000fc50: 6167 6528 7265 7375 6c74 2929 0a20 2020  age(result)).   
+0000fc60: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0000fc70: 756c 7420 3d20 7365 6c66 2e5f 7365 6e64  ult = self._send
+0000fc80: 5f72 6563 6976 6528 6c63 2e43 4d44 2e52  _recive(lc.CMD.R
+0000fc90: 5f52 492c 2070 6179 6c6f 6164 2c20 6c63  _RI, payload, lc
+0000fca0: 2e52 5350 2e53 5f52 4929 0a0a 2020 2020  .RSP.S_RI)..    
+0000fcb0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0000fcc0: 6c61 7374 5f65 7272 6f72 2069 7320 6c63  last_error is lc
+0000fcd0: 2e4c 5356 3253 7461 7475 7343 6f64 652e  .LSV2StatusCode.
+0000fce0: 545f 4552 5f4e 4f5f 4e45 5854 5f45 5252  T_ER_NO_NEXT_ERR
+0000fcf0: 4f52 3a0a 2020 2020 2020 2020 2020 2020  OR:.            
+0000fd00: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
+0000fd10: 2e64 6562 7567 2822 7375 6363 6573 7366  .debug("successf
+0000fd20: 756c 6c79 2072 6561 6420 616c 6c20 6572  ully read all er
+0000fd30: 726f 7273 2229 0a20 2020 2020 2020 2020  rors").         
+0000fd40: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000fd50: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
+0000fd60: 6f67 6765 722e 7761 726e 696e 6728 0a20  ogger.warning(. 
+0000fd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fd80: 2020 2022 616e 2065 7272 6f72 206f 6363     "an error occ
+0000fd90: 7572 7265 6420 7768 696c 6520 7175 6572  urred while quer
+0000fda0: 7969 6e67 2065 7272 6f72 2069 6e66 6f72  ying error infor
+0000fdb0: 6d61 7469 6f6e 2e22 0a20 2020 2020 2020  mation.".       
+0000fdc0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+0000fdd0: 2020 2020 2020 2020 7265 7475 726e 206d          return m
+0000fde0: 6573 7361 6765 730a 0a20 2020 2020 2020  essages..       
+0000fdf0: 2069 6620 7365 6c66 2e6c 6173 745f 6572   if self.last_er
+0000fe00: 726f 7220 6973 206c 632e 4c53 5632 5374  ror is lc.LSV2St
+0000fe10: 6174 7573 436f 6465 2e54 5f45 525f 4e4f  atusCode.T_ER_NO
+0000fe20: 5f4e 4558 545f 4552 524f 523a 0a20 2020  _NEXT_ERROR:.   
+0000fe30: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
+0000fe40: 6f67 6765 722e 6465 6275 6728 2273 7563  ogger.debug("suc
+0000fe50: 6365 7373 6675 6c6c 7920 7265 6164 2066  cessfully read f
+0000fe60: 6972 7374 2065 7272 6f72 2062 7574 206e  irst error but n
+0000fe70: 6f20 6572 726f 7220 6163 7469 7665 2229  o error active")
+0000fe80: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0000fe90: 7572 6e20 6d65 7373 6167 6573 0a0a 2020  urn messages..  
+0000fea0: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
+0000feb0: 6572 2e77 6172 6e69 6e67 280a 2020 2020  er.warning(.    
+0000fec0: 2020 2020 2020 2020 2261 6e20 6572 726f          "an erro
+0000fed0: 7220 6f63 6375 7272 6564 2077 6869 6c65  r occurred while
+0000fee0: 2071 7565 7279 696e 6720 6572 726f 7220   querying error 
+0000fef0: 696e 666f 726d 6174 696f 6e2e 2054 6869  information. Thi
+0000ff00: 7320 646f 6573 206e 6f74 2077 6f72 6b20  s does not work 
+0000ff10: 666f 7220 616c 6c20 636f 6e74 726f 6c20  for all control 
+0000ff20: 7479 7065 7322 0a20 2020 2020 2020 2029  types".        )
+0000ff30: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0000ff40: 205b 5d0a 0a20 2020 2064 6566 205f 7761   []..    def _wa
+0000ff50: 6c6b 5f64 6972 2873 656c 662c 2064 6573  lk_dir(self, des
+0000ff60: 6365 6e64 3a20 626f 6f6c 203d 2054 7275  cend: bool = Tru
+0000ff70: 6529 202d 3e20 4c69 7374 5b73 7472 5d3a  e) -> List[str]:
+0000ff80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000ff90: 2020 2020 2068 656c 7065 7220 6675 6e63       helper func
+0000ffa0: 7469 6f6e 2074 6f20 7265 6375 7273 6976  tion to recursiv
+0000ffb0: 656c 7920 7365 6172 6368 2069 6e20 6469  ely search in di
+0000ffc0: 7265 6374 6f72 6965 7320 666f 7220 6669  rectories for fi
+0000ffd0: 6c65 732e 0a20 2020 2020 2020 2052 6571  les..        Req
+0000ffe0: 7569 7265 7320 6163 6365 7373 206c 6576  uires access lev
+0000fff0: 656c 2060 6046 494c 4554 5241 4e53 4645  el ``FILETRANSFE
+00010000: 5260 6020 746f 2077 6f72 6b2e 0a0a 2020  R`` to work...  
+00010010: 2020 2020 2020 3a70 6172 616d 2064 6573        :param des
+00010020: 6365 6e64 3a20 636f 6e74 726f 6c20 6966  cend: control if
+00010030: 2073 6561 7263 6820 7368 6f75 6c64 2072   search should r
+00010040: 756e 2072 6563 7572 7369 7665 6c79 0a20  un recursively. 
+00010050: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010060: 2020 2069 6620 6e6f 7420 7365 6c66 2e6c     if not self.l
+00010070: 6f67 696e 286c 632e 4c6f 6769 6e2e 4649  ogin(lc.Login.FI
+00010080: 4c45 5452 414e 5346 4552 293a 0a20 2020  LETRANSFER):.   
+00010090: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
+000100a0: 6f67 6765 722e 7761 726e 696e 6728 2263  ogger.warning("c
+000100b0: 6c6f 756c 6420 6e6f 7420 6c6f 6720 696e  lould not log in
+000100c0: 2061 7320 7573 6572 2046 494c 4522 290a   as user FILE").
+000100d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000100e0: 726e 205b 5d0a 0a20 2020 2020 2020 2063  rn []..        c
+000100f0: 7572 7265 6e74 5f70 6174 6820 3d20 7365  urrent_path = se
+00010100: 6c66 2e64 6972 6563 746f 7279 5f69 6e66  lf.directory_inf
+00010110: 6f28 292e 7061 7468 0a20 2020 2020 2020  o().path.       
+00010120: 2063 6f6e 7465 6e74 203d 205b 5d0a 2020   content = [].  
+00010130: 2020 2020 2020 666f 7220 656e 7472 7920        for entry 
+00010140: 696e 2073 656c 662e 6469 7265 6374 6f72  in self.director
+00010150: 795f 636f 6e74 656e 7428 293a 0a20 2020  y_content():.   
+00010160: 2020 2020 2020 2020 2069 6620 656e 7472           if entr
+00010170: 792e 6e61 6d65 203d 3d20 222e 2220 6f72  y.name == "." or
+00010180: 2065 6e74 7279 2e6e 616d 6520 3d3d 2022   entry.name == "
+00010190: 2e2e 2220 6f72 2065 6e74 7279 2e6e 616d  .." or entry.nam
+000101a0: 652e 656e 6473 7769 7468 2822 3a22 293a  e.endswith(":"):
+000101b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000101c0: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+000101d0: 2020 2020 2020 6375 7272 656e 745f 6673        current_fs
+000101e0: 5f65 6c65 6d65 6e74 203d 2073 7472 2863  _element = str(c
+000101f0: 7572 7265 6e74 5f70 6174 6820 2b20 656e  urrent_path + en
+00010200: 7472 792e 6e61 6d65 292e 7265 706c 6163  try.name).replac
+00010210: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
+00010220: 2020 2022 2f22 2c20 6c63 2e50 4154 485f     "/", lc.PATH_
+00010230: 5345 500a 2020 2020 2020 2020 2020 2020  SEP.            
+00010240: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+00010250: 2065 6e74 7279 2e69 735f 6469 7265 6374   entry.is_direct
+00010260: 6f72 7920 6973 2054 7275 6520 616e 6420  ory is True and 
+00010270: 6465 7363 656e 6420 6973 2054 7275 653a  descend is True:
+00010280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010290: 2069 6620 7365 6c66 2e63 6861 6e67 655f   if self.change_
+000102a0: 6469 7265 6374 6f72 7928 6375 7272 656e  directory(curren
+000102b0: 745f 6673 5f65 6c65 6d65 6e74 293a 0a20  t_fs_element):. 
+000102c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000102d0: 2020 2063 6f6e 7465 6e74 2e65 7874 656e     content.exten
+000102e0: 6428 7365 6c66 2e5f 7761 6c6b 5f64 6972  d(self._walk_dir
+000102f0: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+00010300: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00010310: 2020 2020 2020 636f 6e74 656e 742e 6170        content.ap
+00010320: 7065 6e64 2863 7572 7265 6e74 5f66 735f  pend(current_fs_
+00010330: 656c 656d 656e 7429 0a20 2020 2020 2020  element).       
+00010340: 2073 656c 662e 6368 616e 6765 5f64 6972   self.change_dir
+00010350: 6563 746f 7279 2863 7572 7265 6e74 5f70  ectory(current_p
+00010360: 6174 6829 0a20 2020 2020 2020 2072 6574  ath).        ret
+00010370: 7572 6e20 636f 6e74 656e 740a 0a20 2020  urn content..   
+00010380: 2064 6566 2067 6574 5f66 696c 655f 6c69   def get_file_li
+00010390: 7374 280a 2020 2020 2020 2020 7365 6c66  st(.        self
+000103a0: 2c20 7061 7468 3a20 7374 7220 3d20 2222  , path: str = ""
+000103b0: 2c20 6465 7363 656e 643a 2062 6f6f 6c20  , descend: bool 
+000103c0: 3d20 5472 7565 2c20 7061 7474 6572 6e3a  = True, pattern:
+000103d0: 2073 7472 203d 2022 220a 2020 2020 2920   str = "".    ) 
+000103e0: 2d3e 204c 6973 745b 7374 725d 3a0a 2020  -> List[str]:.  
+000103f0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00010400: 2020 4765 7420 6c69 7374 206f 6620 6669    Get list of fi
+00010410: 6c65 7320 696e 2064 6972 6563 746f 7279  les in directory
+00010420: 2073 7472 7563 7475 7265 2e0a 2020 2020   structure..    
+00010430: 2020 2020 5265 7175 6972 6573 2061 6363      Requires acc
+00010440: 6573 7320 6c65 7665 6c20 6060 4649 4c45  ess level ``FILE
+00010450: 5452 414e 5346 4552 6060 2074 6f20 776f  TRANSFER`` to wo
+00010460: 726b 2e0a 0a20 2020 2020 2020 203a 7061  rk...        :pa
+00010470: 7261 6d20 7061 7468 3a20 7061 7468 206f  ram path: path o
+00010480: 6620 7468 6520 6469 7265 6374 6f72 7920  f the directory 
+00010490: 7768 6572 6520 6669 6c65 7320 7368 6f75  where files shou
+000104a0: 6c64 2062 6520 7365 6172 6368 6564 2e20  ld be searched. 
+000104b0: 6966 204e 6f6e 6520 7468 616e 2074 6865  if None than the
+000104c0: 2063 7572 7265 6e74 2064 6972 6563 746f   current directo
+000104d0: 7279 2069 7320 7573 6564 0a20 2020 2020  ry is used.     
+000104e0: 2020 203a 7061 7261 6d20 6465 7363 656e     :param descen
+000104f0: 643a 2063 6f6e 7472 6f6c 2069 6620 7365  d: control if se
+00010500: 6172 6368 2073 686f 756c 6420 7275 6e20  arch should run 
+00010510: 7265 6375 7273 6976 656c 790a 2020 2020  recursively.    
+00010520: 2020 2020 3a70 6172 616d 2070 6174 7465      :param patte
+00010530: 726e 3a20 7265 6765 7820 7374 7269 6e67  rn: regex string
+00010540: 2074 6f20 6669 6c74 6572 2074 6865 2066   to filter the f
+00010550: 696c 6520 6e61 6d65 730a 2020 2020 2020  ile names.      
+00010560: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+00010570: 206e 6f74 2073 656c 662e 6c6f 6769 6e28   not self.login(
+00010580: 6c63 2e4c 6f67 696e 2e46 494c 4554 5241  lc.Login.FILETRA
+00010590: 4e53 4645 5229 3a0a 2020 2020 2020 2020  NSFER):.        
+000105a0: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
+000105b0: 2e77 6172 6e69 6e67 2822 636c 6f75 6c64  .warning("clould
+000105c0: 206e 6f74 206c 6f67 2069 6e20 6173 2075   not log in as u
+000105d0: 7365 7220 4649 4c45 2229 0a20 2020 2020  ser FILE").     
+000105e0: 2020 2020 2020 2072 6574 7572 6e20 5b5d         return []
+000105f0: 0a0a 2020 2020 2020 2020 6966 2070 6174  ..        if pat
+00010600: 6820 6973 206e 6f74 204e 6f6e 653a 0a20  h is not None:. 
+00010610: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+00010620: 6c66 2e63 6861 6e67 655f 6469 7265 6374  lf.change_direct
+00010630: 6f72 7928 7061 7468 2920 6973 2046 616c  ory(path) is Fal
+00010640: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00010650: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
+00010660: 2e77 6172 6e69 6e67 2822 636f 756c 6420  .warning("could 
+00010670: 6e6f 7420 6368 616e 6765 2074 6f20 6469  not change to di
+00010680: 7265 6374 6f72 7922 290a 2020 2020 2020  rectory").      
+00010690: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000106a0: 205b 5d0a 0a20 2020 2020 2020 2069 6620   []..        if 
+000106b0: 6c65 6e28 7061 7474 6572 6e29 203d 3d20  len(pattern) == 
+000106c0: 303a 0a20 2020 2020 2020 2020 2020 2066  0:.            f
+000106d0: 696c 655f 6c69 7374 203d 2073 656c 662e  ile_list = self.
+000106e0: 5f77 616c 6b5f 6469 7228 6465 7363 656e  _walk_dir(descen
+000106f0: 6429 0a20 2020 2020 2020 2065 6c73 653a  d).        else:
+00010700: 0a20 2020 2020 2020 2020 2020 2066 696c  .            fil
+00010710: 655f 6c69 7374 203d 205b 5d0a 2020 2020  e_list = [].    
+00010720: 2020 2020 2020 2020 666f 7220 656e 7472          for entr
+00010730: 7920 696e 2073 656c 662e 5f77 616c 6b5f  y in self._walk_
+00010740: 6469 7228 6465 7363 656e 6429 3a0a 2020  dir(descend):.  
+00010750: 2020 2020 2020 2020 2020 2020 2020 6669                fi
+00010760: 6c65 5f6e 616d 6520 3d20 656e 7472 792e  le_name = entry.
+00010770: 7370 6c69 7428 6c63 2e50 4154 485f 5345  split(lc.PATH_SE
+00010780: 5029 5b2d 315d 0a20 2020 2020 2020 2020  P)[-1].         
+00010790: 2020 2020 2020 2069 6620 7265 2e6d 6174         if re.mat
+000107a0: 6368 2870 6174 7465 726e 2c20 6669 6c65  ch(pattern, file
+000107b0: 5f6e 616d 6529 3a0a 2020 2020 2020 2020  _name):.        
+000107c0: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+000107d0: 5f6c 6973 742e 6170 7065 6e64 2865 6e74  _list.append(ent
+000107e0: 7279 290a 2020 2020 2020 2020 7265 7475  ry).        retu
+000107f0: 726e 2066 696c 655f 6c69 7374 0a0a 2020  rn file_list..  
+00010800: 2020 6465 6620 7265 6164 5f64 6174 615f    def read_data_
+00010810: 7061 7468 2873 656c 662c 2070 6174 683a  path(self, path:
+00010820: 2073 7472 2920 2d3e 2055 6e69 6f6e 5b62   str) -> Union[b
+00010830: 6f6f 6c2c 2069 6e74 2c20 666c 6f61 742c  ool, int, float,
+00010840: 2073 7472 2c20 4e6f 6e65 5d3a 0a20 2020   str, None]:.   
+00010850: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00010860: 2052 6561 6420 7661 6c75 6573 2066 726f   Read values fro
+00010870: 6d20 636f 6e74 726f 6c20 7669 6120 6461  m control via da
+00010880: 7461 2070 6174 682e 204f 6e6c 7920 776f  ta path. Only wo
+00010890: 726b 7320 6f6e 2069 544e 4320 636f 6e74  rks on iTNC cont
+000108a0: 726f 6c73 2e0a 2020 2020 2020 2020 466f  rols..        Fo
+000108b0: 7220 6561 7365 206f 6620 7573 652c 2074  r ease of use, t
+000108c0: 6865 2070 6174 6820 6973 2066 6f72 6d61  he path is forma
+000108d0: 7474 6564 2062 7920 7265 706c 6163 696e  tted by replacin
+000108e0: 6720 2f20 6279 205c 5c20 616e 6420 2220  g / by \\ and " 
+000108f0: 6279 2027 2e0a 2020 2020 2020 2020 5265  by '..        Re
+00010900: 7475 726e 7320 6461 7461 2076 616c 7565  turns data value
+00010910: 2072 6561 6420 6672 6f6d 2063 6f6e 7472   read from contr
+00010920: 6f6c 2066 6f72 6d61 7474 6564 2069 6e20  ol formatted in 
+00010930: 6e61 7469 7620 6461 7461 2074 7970 6520  nativ data type 
+00010940: 6f72 204e 6f6e 6520 6966 2072 6561 6469  or None if readi
+00010950: 6e67 0a20 2020 2020 2020 2077 6173 206e  ng.        was n
+00010960: 6f74 2073 7563 6365 7373 6675 6c2e 0a20  ot successful.. 
+00010970: 2020 2020 2020 2052 6571 7569 7265 7320         Requires 
+00010980: 6163 6365 7373 206c 6576 656c 2060 6044  access level ``D
+00010990: 4154 4160 6020 746f 2077 6f72 6b2e 0a0a  ATA`` to work...
+000109a0: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
+000109b0: 6174 683a 2064 6174 6120 7061 7468 2066  ath: data path f
+000109c0: 726f 6d20 7768 6963 6820 746f 2072 6561  rom which to rea
+000109d0: 6420 7468 6520 7661 6c75 652e 0a0a 2020  d the value...  
+000109e0: 2020 2020 2020 3a72 6169 7365 7320 4c53        :raises LS
+000109f0: 5632 5072 6f74 6f63 6f6c 4578 6365 7074  V2ProtocolExcept
+00010a00: 696f 6e3a 2069 6620 6461 7461 2074 7970  ion: if data typ
+00010a10: 6520 636f 756c 6420 6e6f 7420 6265 2064  e could not be d
+00010a20: 6574 6572 6d69 656e 640a 2020 2020 2020  etermiend.      
+00010a30: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+00010a40: 206e 6f74 2073 656c 662e 7665 7273 696f   not self.versio
+00010a50: 6e73 2e69 735f 6974 6e63 2829 3a0a 2020  ns.is_itnc():.  
+00010a60: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
+00010a70: 6c6f 6767 6572 2e77 6172 6e69 6e67 280a  logger.warning(.
+00010a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a90: 2252 6561 6469 6e67 2076 616c 7565 7320  "Reading values 
+00010aa0: 6672 6f6d 2064 6174 6120 7061 7468 2064  from data path d
+00010ab0: 6f65 7320 6e6f 7420 776f 726b 206f 6e20  oes not work on 
+00010ac0: 6e6f 6e20 6954 4e43 2063 6f6e 7472 6f6c  non iTNC control
+00010ad0: 7321 220a 2020 2020 2020 2020 2020 2020  s!".            
+00010ae0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+00010af0: 7475 726e 204e 6f6e 650a 0a20 2020 2020  turn None..     
+00010b00: 2020 2070 6174 6820 3d20 7061 7468 2e72     path = path.r
+00010b10: 6570 6c61 6365 2822 2f22 2c20 6c63 2e50  eplace("/", lc.P
+00010b20: 4154 485f 5345 5029 2e72 6570 6c61 6365  ATH_SEP).replace
+00010b30: 2827 2227 2c20 2227 2229 0a0a 2020 2020  ('"', "'")..    
+00010b40: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
+00010b50: 6c6f 6769 6e28 6c63 2e4c 6f67 696e 2e44  login(lc.Login.D
+00010b60: 4154 4129 3a0a 2020 2020 2020 2020 2020  ATA):.          
+00010b70: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e77    self._logger.w
+00010b80: 6172 6e69 6e67 2822 636c 6f75 6c64 206e  arning("clould n
+00010b90: 6f74 206c 6f67 2069 6e20 6173 2075 7365  ot log in as use
+00010ba0: 7220 4441 5441 2229 0a20 2020 2020 2020  r DATA").       
+00010bb0: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
+00010bc0: 0a0a 2020 2020 2020 2020 7061 796c 6f61  ..        payloa
+00010bd0: 6420 3d20 6279 7465 6172 7261 7928 290a  d = bytearray().
+00010be0: 2020 2020 2020 2020 7061 796c 6f61 642e          payload.
+00010bf0: 6578 7465 6e64 2862 225c 7830 3022 2920  extend(b"\x00") 
+00010c00: 2023 203c 2d20 3f3f 3f0a 2020 2020 2020   # <- ???.      
+00010c10: 2020 7061 796c 6f61 642e 6578 7465 6e64    payload.extend
+00010c20: 2862 225c 7830 3022 2920 2023 203c 2d20  (b"\x00")  # <- 
+00010c30: 3f3f 3f0a 2020 2020 2020 2020 7061 796c  ???.        payl
+00010c40: 6f61 642e 6578 7465 6e64 2862 225c 7830  oad.extend(b"\x0
+00010c50: 3022 2920 2023 203c 2d20 3f3f 3f0a 2020  0")  # <- ???.  
+00010c60: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
+00010c70: 7465 6e64 2862 225c 7830 3022 2920 2023  tend(b"\x00")  #
+00010c80: 203c 2d20 3f3f 3f0a 2020 2020 2020 2020   <- ???.        
+00010c90: 7061 796c 6f61 642e 6578 7465 6e64 286c  payload.extend(l
+00010ca0: 6d2e 7573 7472 5f74 6f5f 6261 2870 6174  m.ustr_to_ba(pat
+00010cb0: 6829 290a 0a20 2020 2020 2020 2072 6573  h))..        res
+00010cc0: 756c 7420 3d20 7365 6c66 2e5f 7365 6e64  ult = self._send
+00010cd0: 5f72 6563 6976 6528 6c63 2e43 4d44 2e52  _recive(lc.CMD.R
+00010ce0: 5f44 502c 2070 6179 6c6f 6164 2c20 6c63  _DP, payload, lc
+00010cf0: 2e52 5350 2e53 5f44 5029 0a0a 2020 2020  .RSP.S_DP)..    
+00010d00: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00010d10: 6528 7265 7375 6c74 2c20 2862 7974 6561  e(result, (bytea
+00010d20: 7272 6179 2c29 2920 616e 6420 6c65 6e28  rray,)) and len(
+00010d30: 7265 7375 6c74 2920 3e20 303a 0a20 2020  result) > 0:.   
+00010d40: 2020 2020 2020 2020 2076 616c 7565 5f74           value_t
+00010d50: 7970 6520 3d20 7374 7275 6374 2e75 6e70  ype = struct.unp
+00010d60: 6163 6b28 2221 4c22 2c20 7265 7375 6c74  ack("!L", result
+00010d70: 5b30 3a34 5d29 5b30 5d0a 2020 2020 2020  [0:4])[0].      
+00010d80: 2020 2020 2020 6966 2076 616c 7565 5f74        if value_t
+00010d90: 7970 6520 3d3d 2032 3a0a 2020 2020 2020  ype == 2:.      
+00010da0: 2020 2020 2020 2020 2020 6461 7461 5f76            data_v
+00010db0: 616c 7565 203d 2073 7472 7563 742e 756e  alue = struct.un
+00010dc0: 7061 636b 2822 2168 222c 2072 6573 756c  pack("!h", resul
+00010dd0: 745b 343a 365d 295b 305d 0a20 2020 2020  t[4:6])[0].     
+00010de0: 2020 2020 2020 2065 6c69 6620 7661 6c75         elif valu
+00010df0: 655f 7479 7065 203d 3d20 333a 0a20 2020  e_type == 3:.   
+00010e00: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00010e10: 615f 7661 6c75 6520 3d20 7374 7275 6374  a_value = struct
+00010e20: 2e75 6e70 6163 6b28 2221 6c22 2c20 7265  .unpack("!l", re
+00010e30: 7375 6c74 5b34 3a38 5d29 5b30 5d0a 2020  sult[4:8])[0].  
+00010e40: 2020 2020 2020 2020 2020 656c 6966 2076            elif v
+00010e50: 616c 7565 5f74 7970 6520 3d3d 2035 3a0a  alue_type == 5:.
+00010e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010e70: 6461 7461 5f76 616c 7565 203d 2073 7472  data_value = str
+00010e80: 7563 742e 756e 7061 636b 2822 3c64 222c  uct.unpack("<d",
+00010e90: 2072 6573 756c 745b 343a 3132 5d29 5b30   result[4:12])[0
+00010ea0: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
+00010eb0: 6966 2076 616c 7565 5f74 7970 6520 3d3d  if value_type ==
+00010ec0: 2038 3a0a 2020 2020 2020 2020 2020 2020   8:.            
+00010ed0: 2020 2020 6461 7461 5f76 616c 7565 203d      data_value =
+00010ee0: 206c 6d2e 6261 5f74 6f5f 7573 7472 2872   lm.ba_to_ustr(r
+00010ef0: 6573 756c 745b 343a 5d29 0a20 2020 2020  esult[4:]).     
+00010f00: 2020 2020 2020 2065 6c69 6620 7661 6c75         elif valu
+00010f10: 655f 7479 7065 203d 3d20 3131 3a0a 2020  e_type == 11:.  
+00010f20: 2020 2020 2020 2020 2020 2020 2020 6461                da
+00010f30: 7461 5f76 616c 7565 203d 2073 7472 7563  ta_value = struc
+00010f40: 742e 756e 7061 636b 2822 213f 222c 2072  t.unpack("!?", r
+00010f50: 6573 756c 745b 343a 355d 295b 305d 0a20  esult[4:5])[0]. 
+00010f60: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00010f70: 7661 6c75 655f 7479 7065 203d 3d20 3136  value_type == 16
+00010f80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010f90: 2020 6461 7461 5f76 616c 7565 203d 2073    data_value = s
+00010fa0: 7472 7563 742e 756e 7061 636b 2822 2162  truct.unpack("!b
+00010fb0: 222c 2072 6573 756c 745b 343a 355d 295b  ", result[4:5])[
+00010fc0: 305d 0a20 2020 2020 2020 2020 2020 2065  0].            e
+00010fd0: 6c69 6620 7661 6c75 655f 7479 7065 203d  lif value_type =
+00010fe0: 3d20 3137 3a0a 2020 2020 2020 2020 2020  = 17:.          
+00010ff0: 2020 2020 2020 6461 7461 5f76 616c 7565        data_value
+00011000: 203d 2073 7472 7563 742e 756e 7061 636b   = struct.unpack
+00011010: 2822 2142 222c 2072 6573 756c 745b 343a  ("!B", result[4:
+00011020: 355d 295b 305d 0a20 2020 2020 2020 2020  5])[0].         
+00011030: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00011040: 2020 2020 2020 2020 2072 6169 7365 204c           raise L
+00011050: 5356 3250 726f 746f 636f 6c45 7863 6570  SV2ProtocolExcep
+00011060: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
+00011070: 2020 2020 2020 2020 2020 2275 6e6b 6e6f            "unkno
+00011080: 776e 2072 6574 7572 6e20 7479 7065 3a20  wn return type: 
+00011090: 2564 2066 6f72 2025 7322 2025 2028 7661  %d for %s" % (va
+000110a0: 6c75 655f 7479 7065 2c20 7265 7375 6c74  lue_type, result
+000110b0: 5b34 3a5d 290a 2020 2020 2020 2020 2020  [4:]).          
+000110c0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+000110d0: 2020 2020 2073 656c 662e 5f6c 6f67 6765       self._logge
+000110e0: 722e 696e 666f 280a 2020 2020 2020 2020  r.info(.        
+000110f0: 2020 2020 2020 2020 2273 7563 6365 7373          "success
+00011100: 6675 6c6c 7920 7265 6164 2064 6174 6120  fully read data 
+00011110: 7061 7468 3a20 2573 2061 6e64 2067 6f74  path: %s and got
+00011120: 2076 616c 7565 2027 2573 2722 2c20 7061   value '%s'", pa
+00011130: 7468 2c20 6461 7461 5f76 616c 7565 0a20  th, data_value. 
+00011140: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00011150: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00011160: 6461 7461 5f76 616c 7565 0a20 2020 2020  data_value.     
+00011170: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
+00011180: 7761 726e 696e 6728 0a20 2020 2020 2020  warning(.       
+00011190: 2020 2020 2022 616e 2065 7272 6f72 206f       "an error o
+000111a0: 6363 7572 7265 6420 7768 696c 6520 7175  ccurred while qu
+000111b0: 6572 7969 6e67 2064 6174 6120 7061 7468  erying data path
+000111c0: 2027 2573 272e 2054 6869 7320 646f 6573   '%s'. This does
+000111d0: 206e 6f74 2077 6f72 6b20 666f 7220 616c   not work for al
+000111e0: 6c20 636f 6e74 726f 6c20 7479 7065 7322  l control types"
+000111f0: 2c0a 2020 2020 2020 2020 2020 2020 7061  ,.            pa
+00011200: 7468 2c0a 2020 2020 2020 2020 290a 2020  th,.        ).  
+00011210: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+00011220: 650a 0a20 2020 2064 6566 2061 7865 735f  e..    def axes_
+00011230: 6c6f 6361 7469 6f6e 2873 656c 6629 202d  location(self) -
+00011240: 3e20 556e 696f 6e5b 4469 6374 5b73 7472  > Union[Dict[str
+00011250: 2c20 666c 6f61 745d 2c20 4e6f 6e65 5d3a  , float], None]:
+00011260: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00011270: 2020 2020 2052 6561 6420 6178 6573 206c       Read axes l
+00011280: 6f63 6174 696f 6e20 6672 6f6d 2063 6f6e  ocation from con
+00011290: 7472 6f6c 2e20 4e6f 7420 6675 6c6c 7920  trol. Not fully 
+000112a0: 646f 6375 6d65 6e74 6564 2c20 7661 6c75  documented, valu
+000112b0: 6520 6f66 2066 6972 7374 2062 7974 6520  e of first byte 
+000112c0: 756e 6b6e 6f77 6e2e 0a20 2020 2020 2020  unknown..       
+000112d0: 2052 6571 7569 7265 7320 6163 6365 7373   Requires access
+000112e0: 206c 6576 656c 2060 6044 4e43 6060 2074   level ``DNC`` t
+000112f0: 6f20 776f 726b 2e0a 2020 2020 2020 2020  o work..        
+00011300: 5265 7475 726e 7320 6060 4e6f 6e65 6060  Returns ``None``
+00011310: 2069 6620 6e6f 2064 6174 6120 7761 7320   if no data was 
+00011320: 7265 6365 6976 6564 206f 7220 6469 6374  received or dict
+00011330: 696f 6e61 7279 2077 6974 6820 6b65 7920  ionary with key 
+00011340: 3d20 6178 6973 206e 616d 652c 2076 616c  = axis name, val
+00011350: 7565 203d 2070 6f73 6974 696f 6e0a 0a20  ue = position.. 
+00011360: 2020 2020 2020 203a 7261 6973 6573 204c         :raises L
+00011370: 5356 3244 6174 6145 7863 6570 7469 6f6e  SV2DataException
+00011380: 3a20 4572 726f 7220 6475 7269 6e67 2070  : Error during p
+00011390: 6172 7369 6e67 206f 6620 6461 7461 2076  arsing of data v
+000113a0: 616c 7565 730a 2020 2020 2020 2020 2222  alues.        ""
+000113b0: 220a 2020 2020 2020 2020 6966 206e 6f74  ".        if not
+000113c0: 2073 656c 662e 6c6f 6769 6e28 6c63 2e4c   self.login(lc.L
+000113d0: 6f67 696e 2e44 4e43 293a 0a20 2020 2020  ogin.DNC):.     
+000113e0: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+000113f0: 6765 722e 7761 726e 696e 6728 2263 6c6f  ger.warning("clo
+00011400: 756c 6420 6e6f 7420 6c6f 6720 696e 2061  uld not log in a
+00011410: 7320 7573 6572 2044 4e43 2229 0a20 2020  s user DNC").   
+00011420: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00011430: 4e6f 6e65 0a0a 2020 2020 2020 2020 7061  None..        pa
+00011440: 796c 6f61 6420 3d20 6279 7465 6172 7261  yload = bytearra
+00011450: 7928 290a 2020 2020 2020 2020 7061 796c  y().        payl
+00011460: 6f61 642e 6578 7465 6e64 2873 7472 7563  oad.extend(struc
+00011470: 742e 7061 636b 2822 2148 222c 206c 632e  t.pack("!H", lc.
+00011480: 5061 7252 5249 2e41 5849 535f 4c4f 4341  ParRRI.AXIS_LOCA
+00011490: 5449 4f4e 2929 0a0a 2020 2020 2020 2020  TION))..        
+000114a0: 7265 7375 6c74 203d 2073 656c 662e 5f73  result = self._s
+000114b0: 656e 645f 7265 6369 7665 286c 632e 434d  end_recive(lc.CM
+000114c0: 442e 525f 5249 2c20 7061 796c 6f61 642c  D.R_RI, payload,
+000114d0: 206c 632e 5253 502e 535f 5249 290a 2020   lc.RSP.S_RI).  
+000114e0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+000114f0: 6e63 6528 7265 7375 6c74 2c20 2862 7974  nce(result, (byt
+00011500: 6561 7272 6179 2c29 2920 616e 6420 6c65  earray,)) and le
+00011510: 6e28 7265 7375 6c74 2920 3e20 303a 0a20  n(result) > 0:. 
+00011520: 2020 2020 2020 2020 2020 2061 7865 735f             axes_
+00011530: 7661 6c75 6573 203d 206c 6d2e 6465 636f  values = lm.deco
+00011540: 6465 5f61 7869 735f 6c6f 6361 7469 6f6e  de_axis_location
+00011550: 2872 6573 756c 7429 0a20 2020 2020 2020  (result).       
+00011560: 2020 2020 2073 656c 662e 5f6c 6f67 6765       self._logge
+00011570: 722e 696e 666f 2822 7375 6363 6573 7366  r.info("successf
+00011580: 756c 6c79 2072 6561 6420 6178 6573 2076  ully read axes v
+00011590: 616c 7565 733a 2025 7322 2c20 6178 6573  alues: %s", axes
+000115a0: 5f76 616c 7565 7329 0a20 2020 2020 2020  _values).       
+000115b0: 2020 2020 2072 6574 7572 6e20 6178 6573       return axes
+000115c0: 5f76 616c 7565 730a 0a20 2020 2020 2020  _values..       
+000115d0: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
+000115e0: 726e 696e 6728 2261 6e20 6572 726f 7220  rning("an error 
+000115f0: 6f63 6375 7272 6564 2077 6869 6c65 2071  occurred while q
+00011600: 7565 7279 696e 6720 6178 6573 2070 6f73  uerying axes pos
+00011610: 6974 696f 6e22 290a 2020 2020 2020 2020  ition").        
+00011620: 7265 7475 726e 204e 6f6e 650a 0a20 2020  return None..   
+00011630: 2064 6566 2067 7261 625f 7363 7265 656e   def grab_screen
+00011640: 5f64 756d 7028 7365 6c66 2c20 696d 6167  _dump(self, imag
+00011650: 655f 7061 7468 3a20 7061 7468 6c69 622e  e_path: pathlib.
+00011660: 5061 7468 2920 2d3e 2062 6f6f 6c3a 0a20  Path) -> bool:. 
+00011670: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00011680: 2020 2043 7265 6174 6520 7363 7265 656e     Create screen
+00011690: 5f64 756d 7020 6f66 2063 7572 7265 6e74  _dump of current
+000116a0: 2063 6f6e 7472 6f6c 2073 6372 6565 6e20   control screen 
+000116b0: 616e 6420 7361 7665 2069 7420 6173 2062  and save it as b
+000116c0: 6974 6d61 702e 0a20 2020 2020 2020 2052  itmap..        R
+000116d0: 6571 7569 7265 7320 6163 6365 7373 206c  equires access l
+000116e0: 6576 656c 2060 6044 4e43 6060 2074 6f20  evel ``DNC`` to 
+000116f0: 776f 726b 2e0a 2020 2020 2020 2020 5265  work..        Re
+00011700: 7475 726e 7320 6060 5472 7565 6060 2069  turns ``True`` i
+00011710: 6620 636f 6d70 6c65 7465 6420 7375 6363  f completed succ
+00011720: 6573 7366 756c 6c79 2e0a 0a20 2020 2020  essfully...     
+00011730: 2020 203a 7061 7261 6d20 696d 6167 655f     :param image_
+00011740: 7061 7468 3a20 7061 7468 206f 6620 626d  path: path of bm
+00011750: 7020 6669 6c65 2066 6f72 2073 6372 6565  p file for scree
+00011760: 6e64 756d 700a 2020 2020 2020 2020 2222  ndump.        ""
+00011770: 220a 2020 2020 2020 2020 6966 206e 6f74  ".        if not
+00011780: 2073 656c 662e 6c6f 6769 6e28 6c63 2e4c   self.login(lc.L
+00011790: 6f67 696e 2e46 494c 4554 5241 4e53 4645  ogin.FILETRANSFE
+000117a0: 5229 3a0a 2020 2020 2020 2020 2020 2020  R):.            
+000117b0: 7365 6c66 2e5f 6c6f 6767 6572 2e77 6172  self._logger.war
+000117c0: 6e69 6e67 2822 636c 6f75 6c64 206e 6f74  ning("clould not
+000117d0: 206c 6f67 2069 6e20 6173 2075 7365 7220   log in as user 
+000117e0: 4649 4c45 2229 0a20 2020 2020 2020 2020  FILE").         
+000117f0: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
+00011800: 0a20 2020 2020 2020 2074 656d 705f 6669  .        temp_fi
+00011810: 6c65 5f70 6174 6820 3d20 280a 2020 2020  le_path = (.    
+00011820: 2020 2020 2020 2020 6c63 2e44 7269 7665          lc.Drive
+00011830: 4e61 6d65 2e54 4e43 0a20 2020 2020 2020  Name.TNC.       
+00011840: 2020 2020 202b 206c 632e 5041 5448 5f53       + lc.PATH_S
+00011850: 4550 0a20 2020 2020 2020 2020 2020 202b  EP.            +
+00011860: 2022 7363 7265 656e 6475 6d70 5f22 0a20   "screendump_". 
+00011870: 2020 2020 2020 2020 2020 202b 2064 6174             + dat
+00011880: 6574 696d 652e 6e6f 7728 292e 7374 7266  etime.now().strf
+00011890: 7469 6d65 2822 2559 256d 2564 5f25 4825  time("%Y%m%d_%H%
+000118a0: 4d25 5322 290a 2020 2020 2020 2020 2020  M%S").          
+000118b0: 2020 2b20 222e 626d 7022 0a20 2020 2020    + ".bmp".     
+000118c0: 2020 2029 0a0a 2020 2020 2020 2020 7061     )..        pa
+000118d0: 796c 6f61 6420 3d20 6279 7465 6172 7261  yload = bytearra
+000118e0: 7928 7374 7275 6374 2e70 6163 6b28 2221  y(struct.pack("!
+000118f0: 4822 2c20 6c63 2e50 6172 4343 432e 5343  H", lc.ParCCC.SC
+00011900: 5245 454e 4455 4d50 2929 0a20 2020 2020  REENDUMP)).     
+00011910: 2020 2070 6179 6c6f 6164 2e65 7874 656e     payload.exten
+00011920: 6428 6c6d 2e75 7374 725f 746f 5f62 6128  d(lm.ustr_to_ba(
+00011930: 7465 6d70 5f66 696c 655f 7061 7468 2929  temp_file_path))
+00011940: 0a0a 2020 2020 2020 2020 7265 7375 6c74  ..        result
+00011950: 203d 2073 656c 662e 5f73 656e 645f 7265   = self._send_re
+00011960: 6369 7665 286c 632e 434d 442e 435f 4343  cive(lc.CMD.C_CC
+00011970: 2c20 7061 796c 6f61 642c 206c 632e 5253  , payload, lc.RS
+00011980: 502e 545f 4f4b 290a 0a20 2020 2020 2020  P.T_OK)..       
+00011990: 2069 6620 6e6f 7420 2869 7369 6e73 7461   if not (isinsta
+000119a0: 6e63 6528 7265 7375 6c74 2c20 2862 6f6f  nce(result, (boo
+000119b0: 6c2c 2929 2061 6e64 2072 6573 756c 7420  l,)) and result 
+000119c0: 6973 2054 7275 6529 3a0a 2020 2020 2020  is True):.      
+000119d0: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
+000119e0: 6572 2e77 6172 6e69 6e67 2822 7363 7265  er.warning("scre
+000119f0: 656e 2064 756d 7020 7761 7320 6e6f 7420  en dump was not 
+00011a00: 6372 6561 7465 6422 290a 2020 2020 2020  created").      
+00011a10: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+00011a20: 7365 0a0a 2020 2020 2020 2020 6966 206e  se..        if n
+00011a30: 6f74 2073 656c 662e 7265 6369 7665 5f66  ot self.recive_f
+00011a40: 696c 6528 0a20 2020 2020 2020 2020 2020  ile(.           
+00011a50: 2072 656d 6f74 655f 7061 7468 3d74 656d   remote_path=tem
+00011a60: 705f 6669 6c65 5f70 6174 682c 206c 6f63  p_file_path, loc
+00011a70: 616c 5f70 6174 683d 696d 6167 655f 7061  al_path=image_pa
+00011a80: 7468 2c20 6269 6e61 7279 5f6d 6f64 653d  th, binary_mode=
+00011a90: 5472 7565 0a20 2020 2020 2020 2029 3a0a  True.        ):.
+00011aa0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00011ab0: 2e5f 6c6f 6767 6572 2e77 6172 6e69 6e67  ._logger.warning
+00011ac0: 2822 636f 756c 6420 6e6f 7420 646f 776e  ("could not down
+00011ad0: 6c6f 6164 2073 6372 6565 6e20 6475 6d70  load screen dump
+00011ae0: 2066 726f 6d20 636f 6e74 726f 6c22 290a   from control").
+00011af0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00011b00: 726e 2046 616c 7365 0a0a 2020 2020 2020  rn False..      
+00011b10: 2020 6966 206e 6f74 2073 656c 662e 6465    if not self.de
+00011b20: 6c65 7465 5f66 696c 6528 7465 6d70 5f66  lete_file(temp_f
+00011b30: 696c 655f 7061 7468 293a 0a20 2020 2020  ile_path):.     
+00011b40: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+00011b50: 6765 722e 7761 726e 696e 6728 2263 6c6f  ger.warning("clo
+00011b60: 756c 6420 6e6f 7420 6465 6c65 7465 2074  uld not delete t
+00011b70: 656d 706f 7261 7279 2066 696c 6520 6f6e  emporary file on
+00011b80: 2063 6f6e 7472 6f6c 2229 0a20 2020 2020   control").     
+00011b90: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+00011ba0: 6c73 650a 0a20 2020 2020 2020 2073 656c  lse..        sel
+00011bb0: 662e 5f6c 6f67 6765 722e 6465 6275 6728  f._logger.debug(
+00011bc0: 2273 7563 6365 7373 6675 6c6c 7920 7265  "successfully re
+00011bd0: 6365 6976 6564 2073 6372 6565 6e20 6475  ceived screen du
+00011be0: 6d70 2229 0a20 2020 2020 2020 2072 6574  mp").        ret
+00011bf0: 7572 6e20 5472 7565 0a0a 2020 2020 6465  urn True..    de
+00011c00: 6620 6765 745f 7265 6d6f 7465 5f64 6174  f get_remote_dat
+00011c10: 6574 696d 6528 7365 6c66 2920 2d3e 2064  etime(self) -> d
+00011c20: 6174 6574 696d 653a 0a20 2020 2020 2020  atetime:.       
+00011c30: 2022 2222 0a20 2020 2020 2020 2052 6561   """.        Rea
+00011c40: 6420 6375 7272 656e 7420 7469 6d65 2061  d current time a
+00011c50: 6e64 2064 6174 6520 6672 6f6d 2063 6f6e  nd date from con
+00011c60: 7472 6f6c 0a20 2020 2020 2020 2022 2222  trol.        """
+00011c70: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+00011c80: 7365 6c66 2e6c 6f67 696e 286c 632e 4c6f  self.login(lc.Lo
+00011c90: 6769 6e2e 4449 4147 293a 0a20 2020 2020  gin.DIAG):.     
+00011ca0: 2020 2020 2020 2073 656c 662e 5f6c 6f67         self._log
+00011cb0: 6765 722e 7761 726e 696e 6728 2263 6c6f  ger.warning("clo
+00011cc0: 756c 6420 6e6f 7420 6c6f 6720 696e 2061  uld not log in a
+00011cd0: 7320 7573 6572 2066 6f72 2044 4941 474e  s user for DIAGN
+00011ce0: 4f53 5449 4353 2066 756e 6374 696f 6e22  OSTICS function"
+00011cf0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+00011d00: 7475 726e 2064 6174 6574 696d 652e 6672  turn datetime.fr
+00011d10: 6f6d 7469 6d65 7374 616d 7028 3029 0a0a  omtimestamp(0)..
+00011d20: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+00011d30: 2073 656c 662e 5f73 656e 645f 7265 6369   self._send_reci
+00011d40: 7665 286c 632e 434d 442e 525f 4454 2c20  ve(lc.CMD.R_DT, 
+00011d50: 4e6f 6e65 2c20 6c63 2e52 5350 2e53 5f44  None, lc.RSP.S_D
+00011d60: 5429 0a20 2020 2020 2020 2069 6620 6973  T).        if is
+00011d70: 696e 7374 616e 6365 2872 6573 756c 742c  instance(result,
+00011d80: 2028 6279 7465 6172 7261 792c 2929 2061   (bytearray,)) a
+00011d90: 6e64 206c 656e 2872 6573 756c 7429 203e  nd len(result) >
+00011da0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+00011db0: 7473 203d 206c 6d2e 6465 636f 6465 5f74  ts = lm.decode_t
+00011dc0: 696d 6573 7461 6d70 2872 6573 756c 7429  imestamp(result)
+00011dd0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00011de0: 662e 5f6c 6f67 6765 722e 6465 6275 6728  f._logger.debug(
+00011df0: 2254 696d 6520 6f6e 2043 6f6e 7472 6f6c  "Time on Control
+00011e00: 2069 7320 2573 222c 2074 732e 6973 6f66   is %s", ts.isof
+00011e10: 6f72 6d61 7428 2929 0a20 2020 2020 2020  ormat()).       
+00011e20: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00011e30: 2020 2072 6169 7365 204c 5356 3250 726f     raise LSV2Pro
+00011e40: 746f 636f 6c45 7863 6570 7469 6f6e 280a  tocolException(.
+00011e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011e60: 2273 6f6d 6574 6869 6e67 2077 656e 7420  "something went 
+00011e70: 7772 6f6e 6720 7768 696c 6520 7265 6164  wrong while read
+00011e80: 696e 6720 6375 7272 656e 7420 7469 6d65  ing current time
+00011e90: 2061 6e64 2064 6174 6522 0a20 2020 2020   and date".     
+00011ea0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00011eb0: 2072 6574 7572 6e20 7473 0a0a 2020 2020   return ts..    
+00011ec0: 6465 6620 7265 6164 5f73 636f 7065 5f73  def read_scope_s
+00011ed0: 6967 6e61 6c73 2873 656c 6629 202d 3e20  ignals(self) -> 
+00011ee0: 4c69 7374 5b6c 642e 5363 6f70 6553 6967  List[ld.ScopeSig
+00011ef0: 6e61 6c5d 3a0a 2020 2020 2020 2020 2222  nal]:.        ""
+00011f00: 220a 2020 2020 2020 2020 5265 6164 2061  ".        Read a
+00011f10: 7661 696c 6162 6c65 2073 636f 7065 2063  vailable scope c
+00011f20: 6861 6e6e 656c 7320 616e 6420 7369 676e  hannels and sign
+00011f30: 616c 732e 204f 6e6c 7920 776f 726b 7320  als. Only works 
+00011f40: 666f 7220 6954 4e43 2035 3330 2e0a 2020  for iTNC 530..  
+00011f50: 2020 2020 2020 5265 7175 6972 6573 2061        Requires a
+00011f60: 6363 6573 7320 6c65 7665 6c20 6060 5343  ccess level ``SC
+00011f70: 4f50 4560 6020 746f 2077 6f72 6b2e 0a20  OPE`` to work.. 
+00011f80: 2020 2020 2020 2072 6574 7572 6e73 206c         returns l
+00011f90: 6973 7420 6f66 203a 7079 3a63 6c61 7373  ist of :py:class
+00011fa0: 3a60 7e70 794c 5356 322e 4c53 5632 2e53  :`~pyLSV2.LSV2.S
+00011fb0: 636f 7065 5369 676e 616c 6020 666f 7220  copeSignal` for 
+00011fc0: 6561 6368 2073 6967 6e61 6c0a 2020 2020  each signal.    
+00011fd0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00011fe0: 6966 206e 6f74 2073 656c 662e 7665 7273  if not self.vers
+00011ff0: 696f 6e73 2e69 735f 6974 6e63 2829 3a0a  ions.is_itnc():.
+00012000: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012010: 2e5f 6c6f 6767 6572 2e77 6172 6e69 6e67  ._logger.warning
+00012020: 2822 6f6e 6c79 2077 6f72 6b73 2066 6f72  ("only works for
+00012030: 2069 544e 4335 3330 2229 0a20 2020 2020   iTNC530").     
+00012040: 2020 2020 2020 2072 6574 7572 6e20 6c69         return li
+00012050: 7374 2829 0a0a 2020 2020 2020 2020 6966  st()..        if
+00012060: 206e 6f74 2073 656c 662e 6c6f 6769 6e28   not self.login(
+00012070: 6c63 2e4c 6f67 696e 2e53 434f 5045 293a  lc.Login.SCOPE):
+00012080: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00012090: 662e 5f6c 6f67 6765 722e 7761 726e 696e  f._logger.warnin
+000120a0: 6728 2263 6c6f 756c 6420 6e6f 7420 6c6f  g("clould not lo
+000120b0: 6720 696e 2061 7320 7573 6572 2066 6f72  g in as user for
+000120c0: 2073 636f 7065 2066 756e 6374 696f 6e22   scope function"
+000120d0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+000120e0: 7475 726e 206c 6973 7428 290a 0a20 2020  turn list()..   
+000120f0: 2020 2020 2063 6861 6e6e 656c 5f6c 6973       channel_lis
+00012100: 7420 3d20 6c69 7374 2829 0a0a 2020 2020  t = list()..    
+00012110: 2020 2020 636f 6e74 656e 7420 3d20 7365      content = se
+00012120: 6c66 2e5f 6c6c 636f 6d2e 7465 6c65 6772  lf._llcom.telegr
+00012130: 616d 286c 632e 434d 442e 525f 4f43 290a  am(lc.CMD.R_OC).
+00012140: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00012150: 5f6c 6c63 6f6d 2e6c 6173 745f 7265 7370  _llcom.last_resp
+00012160: 6f6e 7365 2069 6e20 6c63 2e52 5350 2e53  onse in lc.RSP.S
+00012170: 5f4f 433a 0a20 2020 2020 2020 2020 2020  _OC:.           
+00012180: 2063 6861 6e6e 656c 5f6c 6973 742e 6578   channel_list.ex
+00012190: 7465 6e64 286c 6d73 2e64 6563 6f64 655f  tend(lms.decode_
+000121a0: 7369 676e 616c 5f64 6573 6372 6970 7469  signal_descripti
+000121b0: 6f6e 2863 6f6e 7465 6e74 2929 0a0a 2020  on(content))..  
+000121c0: 2020 2020 2020 2020 2020 7768 696c 6520            while 
+000121d0: 5472 7565 3a0a 2020 2020 2020 2020 2020  True:.          
+000121e0: 2020 2020 2020 636f 6e74 656e 7420 3d20        content = 
+000121f0: 7365 6c66 2e5f 6c6c 636f 6d2e 7465 6c65  self._llcom.tele
+00012200: 6772 616d 286c 632e 5253 502e 545f 4f4b  gram(lc.RSP.T_OK
+00012210: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00012220: 2020 2069 6620 7365 6c66 2e5f 6c6c 636f     if self._llco
+00012230: 6d2e 6c61 7374 5f72 6573 706f 6e73 6520  m.last_response 
+00012240: 696e 206c 632e 5253 502e 535f 4f43 3a0a  in lc.RSP.S_OC:.
+00012250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012260: 2020 2020 6368 616e 6e65 6c5f 6c69 7374      channel_list
+00012270: 2e65 7874 656e 6428 6c6d 732e 6465 636f  .extend(lms.deco
+00012280: 6465 5f73 6967 6e61 6c5f 6465 7363 7269  de_signal_descri
+00012290: 7074 696f 6e28 636f 6e74 656e 7429 290a  ption(content)).
+000122a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122b0: 656c 6966 2073 656c 662e 5f6c 6c63 6f6d  elif self._llcom
+000122c0: 2e6c 6173 745f 7265 7370 6f6e 7365 2069  .last_response i
+000122d0: 6e20 6c63 2e52 5350 2e54 5f46 443a 0a20  n lc.RSP.T_FD:. 
+000122e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122f0: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
+00012300: 696e 666f 280a 2020 2020 2020 2020 2020  info(.          
+00012310: 2020 2020 2020 2020 2020 2020 2020 2266                "f
+00012320: 696e 6973 6865 6420 6c6f 6164 696e 6720  inished loading 
+00012330: 616e 6420 7061 7273 696e 6720 6461 7461  and parsing data
+00012340: 2066 6f72 2061 6c6c 2073 636f 7065 2073   for all scope s
+00012350: 6967 6e61 6c73 220a 2020 2020 2020 2020  ignals".        
+00012360: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
 00012370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012380: 2020 2020 6272 6561 6b0a 2020 2020 2020      break.      
-00012390: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00012380: 2020 6272 6561 6b0a 2020 2020 2020 2020    break.        
+00012390: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
 000123a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000123b0: 2020 2020 7365 6c66 2e5f 6c6f 6767 6572      self._logger
-000123c0: 2e65 7272 6f72 280a 2020 2020 2020 2020  .error(.        
-000123d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000123e0: 2273 6f6d 6574 6869 6e67 2077 656e 7420  "something went 
-000123f0: 7772 6f6e 6720 7768 696c 6520 7265 6164  wrong while read
-00012400: 696e 6720 7363 6f70 6520 7369 676e 616c  ing scope signal
-00012410: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00012420: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00012430: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00012440: 6520 4c53 5632 5072 6f74 6f63 6f6c 4578  e LSV2ProtocolEx
-00012450: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
-00012460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012470: 2022 6469 6420 6e6f 7420 7265 6365 6976   "did not receiv
-00012480: 6564 2065 7870 6563 7465 6420 7265 7370  ed expected resp
-00012490: 6f6e 7365 2077 6869 6c65 2072 6561 6469  onse while readi
-000124a0: 6e67 2064 6174 6120 666f 7220 7363 6f70  ng data for scop
-000124b0: 6520 7369 676e 616c 7322 0a20 2020 2020  e signals".     
-000124c0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-000124d0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-000124e0: 2063 6861 6e6e 656c 5f6c 6973 740a 0a20   channel_list.. 
-000124f0: 2020 2064 6566 2072 6561 6c5f 7469 6d65     def real_time
-00012500: 5f72 6561 6469 6e67 7328 0a20 2020 2020  _readings(.     
-00012510: 2020 2073 656c 662c 2073 6967 6e61 6c5f     self, signal_
-00012520: 6c69 7374 3a20 4c69 7374 5b6c 642e 5363  list: List[ld.Sc
-00012530: 6f70 6553 6967 6e61 6c5d 2c20 6475 7261  opeSignal], dura
-00012540: 7469 6f6e 3a20 696e 742c 2069 6e74 6572  tion: int, inter
-00012550: 7661 6c3a 2069 6e74 0a20 2020 2029 3a0a  val: int.    ):.
-00012560: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00012570: 2020 2020 5265 6164 2073 6967 6e61 6c20      Read signal 
-00012580: 7265 6164 696e 6773 2066 726f 6d20 636f  readings from co
-00012590: 6e74 726f 6c20 696e 2072 6561 6c20 7469  ntrol in real ti
-000125a0: 6d65 2e20 4f6e 6c79 2077 6f72 6b73 2066  me. Only works f
-000125b0: 6f72 2069 544e 4320 3533 302e 0a20 2020  or iTNC 530..   
-000125c0: 2020 2020 2042 6566 6f72 6520 7265 6164       Before read
-000125d0: 696e 6720 6461 7461 2c20 7468 6520 7369  ing data, the si
-000125e0: 676e 616c 2064 6573 6372 6970 7469 6f6e  gnal description
-000125f0: 2069 7320 7570 6461 7465 6420 7769 7468   is updated with
-00012600: 2069 6e66 6f72 6d61 7469 6f6e 2072 6567   information reg
-00012610: 6172 6469 6e66 206f 6666 7365 7420 616e  ardinf offset an
-00012620: 6420 6661 6374 6f72 2e0a 2020 2020 2020  d factor..      
-00012630: 2020 5265 7175 6972 6573 2061 6363 6573    Requires acces
-00012640: 7320 6c65 7665 6c20 6060 5343 4f50 4560  s level ``SCOPE`
-00012650: 6020 746f 2077 6f72 6b2e 0a0a 2020 2020  ` to work...    
-00012660: 2020 2020 3a70 6172 616d 2073 6967 6e61      :param signa
-00012670: 6c5f 6c69 7374 3a20 6c69 7374 206f 6620  l_list: list of 
-00012680: 3a70 793a 636c 6173 733a 607e 7079 4c53  :py:class:`~pyLS
-00012690: 5632 2e4c 5356 322e 5363 6f70 6553 6967  V2.LSV2.ScopeSig
-000126a0: 6e61 6c60 2077 6869 6368 2073 686f 756c  nal` which shoul
-000126b0: 6420 6265 2072 6561 6420 6672 6f6d 2063  d be read from c
-000126c0: 6f6e 7472 6f6c 0a20 2020 2020 2020 203a  ontrol.        :
-000126d0: 7061 7261 6d20 6475 7261 7469 6f6e 3a20  param duration: 
-000126e0: 6e75 6d62 6572 206f 6620 7365 636f 6e64  number of second
-000126f0: 7320 666f 7220 7768 6963 6820 6461 7461  s for which data
-00012700: 2073 686f 756c 6420 6265 2072 6561 640a   should be read.
-00012710: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
-00012720: 6e74 6572 7661 6c3a 2069 6e74 6572 7661  nterval: interva
-00012730: 6c20 696e 20c2 b573 2062 6574 7765 656e  l in ..s between
-00012740: 2072 6561 6469 6e67 730a 0a20 2020 2020   readings..     
-00012750: 2020 203a 7261 6973 6573 204c 5356 3250     :raises LSV2P
-00012760: 726f 746f 636f 6c45 7863 6570 7469 6f6e  rotocolException
-00012770: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00012780: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-00012790: 662e 7665 7273 696f 6e73 2e69 735f 6974  f.versions.is_it
-000127a0: 6e63 2829 3a0a 2020 2020 2020 2020 2020  nc():.          
-000127b0: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e77    self._logger.w
-000127c0: 6172 6e69 6e67 2822 6f6e 6c79 2077 6f72  arning("only wor
-000127d0: 6b73 2066 6f72 2069 544e 4335 3330 2229  ks for iTNC530")
-000127e0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000127f0: 7572 6e20 6c69 7374 2829 0a0a 2020 2020  urn list()..    
-00012800: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-00012810: 6c6f 6769 6e28 6c63 2e4c 6f67 696e 2e53  login(lc.Login.S
-00012820: 434f 5045 293a 0a20 2020 2020 2020 2020  COPE):.         
-00012830: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
-00012840: 7761 726e 696e 6728 2263 6c6f 756c 6420  warning("clould 
-00012850: 6e6f 7420 6c6f 6720 696e 2061 7320 7573  not log in as us
-00012860: 6572 2066 6f72 2073 636f 7065 2066 756e  er for scope fun
-00012870: 6374 696f 6e22 290a 2020 2020 2020 2020  ction").        
-00012880: 2020 2020 7265 7475 726e 206c 6973 7428      return list(
-00012890: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-000128a0: 5f6c 6f67 6765 722e 6465 6275 6728 0a20  _logger.debug(. 
-000128b0: 2020 2020 2020 2020 2020 2022 7374 6172             "star
-000128c0: 7420 7265 636f 6469 6e67 2025 6420 7265  t recoding %d re
-000128d0: 6164 696e 6773 2077 6974 6820 696e 7465  adings with inte
-000128e0: 7276 616c 206f 6620 2564 20c2 b573 222c  rval of %d ..s",
-000128f0: 0a20 2020 2020 2020 2020 2020 2064 7572  .            dur
-00012900: 6174 696f 6e2c 0a20 2020 2020 2020 2020  ation,.         
-00012910: 2020 2069 6e74 6572 7661 6c2c 0a20 2020     interval,.   
-00012920: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-00012930: 2320 7365 7420 696e 7465 7276 616c 2061  # set interval a
-00012940: 6e64 2073 656c 6563 7420 7369 676e 616c  nd select signal
-00012950: 730a 2020 2020 2020 2020 7061 796c 6f61  s.        payloa
-00012960: 6420 3d20 6279 7465 6172 7261 7928 290a  d = bytearray().
-00012970: 2020 2020 2020 2020 7061 796c 6f61 642e          payload.
-00012980: 6578 7465 6e64 2873 7472 7563 742e 7061  extend(struct.pa
-00012990: 636b 2822 214c 222c 2069 6e74 6572 7661  ck("!L", interva
-000129a0: 6c29 290a 2020 2020 2020 2020 666f 7220  l)).        for 
-000129b0: 7369 676e 616c 2069 6e20 7369 676e 616c  signal in signal
-000129c0: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
-000129d0: 2020 2069 6620 7369 676e 616c 2e6d 696e     if signal.min
-000129e0: 5f69 6e74 6572 7661 6c20 3e20 696e 7465  _interval > inte
-000129f0: 7276 616c 3a0a 2020 2020 2020 2020 2020  rval:.          
-00012a00: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-00012a10: 6572 2e77 6172 6e69 6e67 280a 2020 2020  er.warning(.    
+000123b0: 2020 7365 6c66 2e5f 6c6f 6767 6572 2e65    self._logger.e
+000123c0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+000123d0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+000123e0: 6f6d 6574 6869 6e67 2077 656e 7420 7772  omething went wr
+000123f0: 6f6e 6720 7768 696c 6520 7265 6164 696e  ong while readin
+00012400: 6720 7363 6f70 6520 7369 676e 616c 220a  g scope signal".
+00012410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012420: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00012430: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00012440: 4c53 5632 5072 6f74 6f63 6f6c 4578 6365  LSV2ProtocolExce
+00012450: 7074 696f 6e28 0a20 2020 2020 2020 2020  ption(.         
+00012460: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00012470: 6469 6420 6e6f 7420 7265 6365 6976 6564  did not received
+00012480: 2065 7870 6563 7465 6420 7265 7370 6f6e   expected respon
+00012490: 7365 2077 6869 6c65 2072 6561 6469 6e67  se while reading
+000124a0: 2064 6174 6120 666f 7220 7363 6f70 6520   data for scope 
+000124b0: 7369 676e 616c 7322 0a20 2020 2020 2020  signals".       
+000124c0: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
+000124d0: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+000124e0: 6861 6e6e 656c 5f6c 6973 740a 0a20 2020  hannel_list..   
+000124f0: 2064 6566 2072 6561 6c5f 7469 6d65 5f72   def real_time_r
+00012500: 6561 6469 6e67 7328 0a20 2020 2020 2020  eadings(.       
+00012510: 2073 656c 662c 2073 6967 6e61 6c5f 6c69   self, signal_li
+00012520: 7374 3a20 4c69 7374 5b6c 642e 5363 6f70  st: List[ld.Scop
+00012530: 6553 6967 6e61 6c5d 2c20 6475 7261 7469  eSignal], durati
+00012540: 6f6e 3a20 696e 742c 2069 6e74 6572 7661  on: int, interva
+00012550: 6c3a 2069 6e74 0a20 2020 2029 3a0a 2020  l: int.    ):.  
+00012560: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00012570: 2020 5265 6164 2073 6967 6e61 6c20 7265    Read signal re
+00012580: 6164 696e 6773 2066 726f 6d20 636f 6e74  adings from cont
+00012590: 726f 6c20 696e 2072 6561 6c20 7469 6d65  rol in real time
+000125a0: 2e20 4f6e 6c79 2077 6f72 6b73 2066 6f72  . Only works for
+000125b0: 2069 544e 4320 3533 302e 0a20 2020 2020   iTNC 530..     
+000125c0: 2020 2042 6566 6f72 6520 7265 6164 696e     Before readin
+000125d0: 6720 6461 7461 2c20 7468 6520 7369 676e  g data, the sign
+000125e0: 616c 2064 6573 6372 6970 7469 6f6e 2069  al description i
+000125f0: 7320 7570 6461 7465 6420 7769 7468 2069  s updated with i
+00012600: 6e66 6f72 6d61 7469 6f6e 2072 6567 6172  nformation regar
+00012610: 6469 6e66 206f 6666 7365 7420 616e 6420  dinf offset and 
+00012620: 6661 6374 6f72 2e0a 2020 2020 2020 2020  factor..        
+00012630: 5265 7175 6972 6573 2061 6363 6573 7320  Requires access 
+00012640: 6c65 7665 6c20 6060 5343 4f50 4560 6020  level ``SCOPE`` 
+00012650: 746f 2077 6f72 6b2e 0a0a 2020 2020 2020  to work...      
+00012660: 2020 3a70 6172 616d 2073 6967 6e61 6c5f    :param signal_
+00012670: 6c69 7374 3a20 6c69 7374 206f 6620 3a70  list: list of :p
+00012680: 793a 636c 6173 733a 607e 7079 4c53 5632  y:class:`~pyLSV2
+00012690: 2e4c 5356 322e 5363 6f70 6553 6967 6e61  .LSV2.ScopeSigna
+000126a0: 6c60 2077 6869 6368 2073 686f 756c 6420  l` which should 
+000126b0: 6265 2072 6561 6420 6672 6f6d 2063 6f6e  be read from con
+000126c0: 7472 6f6c 0a20 2020 2020 2020 203a 7061  trol.        :pa
+000126d0: 7261 6d20 6475 7261 7469 6f6e 3a20 6e75  ram duration: nu
+000126e0: 6d62 6572 206f 6620 7365 636f 6e64 7320  mber of seconds 
+000126f0: 666f 7220 7768 6963 6820 6461 7461 2073  for which data s
+00012700: 686f 756c 6420 6265 2072 6561 640a 2020  hould be read.  
+00012710: 2020 2020 2020 3a70 6172 616d 2069 6e74        :param int
+00012720: 6572 7661 6c3a 2069 6e74 6572 7661 6c20  erval: interval 
+00012730: 696e 20c2 b573 2062 6574 7765 656e 2072  in ..s between r
+00012740: 6561 6469 6e67 730a 0a20 2020 2020 2020  eadings..       
+00012750: 203a 7261 6973 6573 204c 5356 3250 726f   :raises LSV2Pro
+00012760: 746f 636f 6c45 7863 6570 7469 6f6e 3a0a  tocolException:.
+00012770: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00012780: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
+00012790: 7665 7273 696f 6e73 2e69 735f 6974 6e63  versions.is_itnc
+000127a0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+000127b0: 7365 6c66 2e5f 6c6f 6767 6572 2e77 6172  self._logger.war
+000127c0: 6e69 6e67 2822 6f6e 6c79 2077 6f72 6b73  ning("only works
+000127d0: 2066 6f72 2069 544e 4335 3330 2229 0a20   for iTNC530"). 
+000127e0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000127f0: 6e20 6c69 7374 2829 0a0a 2020 2020 2020  n list()..      
+00012800: 2020 6966 206e 6f74 2073 656c 662e 6c6f    if not self.lo
+00012810: 6769 6e28 6c63 2e4c 6f67 696e 2e53 434f  gin(lc.Login.SCO
+00012820: 5045 293a 0a20 2020 2020 2020 2020 2020  PE):.           
+00012830: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
+00012840: 726e 696e 6728 2263 6c6f 756c 6420 6e6f  rning("clould no
+00012850: 7420 6c6f 6720 696e 2061 7320 7573 6572  t log in as user
+00012860: 2066 6f72 2073 636f 7065 2066 756e 6374   for scope funct
+00012870: 696f 6e22 290a 2020 2020 2020 2020 2020  ion").          
+00012880: 2020 7265 7475 726e 206c 6973 7428 290a    return list().
+00012890: 0a20 2020 2020 2020 2073 656c 662e 5f6c  .        self._l
+000128a0: 6f67 6765 722e 6465 6275 6728 0a20 2020  ogger.debug(.   
+000128b0: 2020 2020 2020 2020 2022 7374 6172 7420           "start 
+000128c0: 7265 636f 6469 6e67 2025 6420 7265 6164  recoding %d read
+000128d0: 696e 6773 2077 6974 6820 696e 7465 7276  ings with interv
+000128e0: 616c 206f 6620 2564 20c2 b573 222c 0a20  al of %d ..s",. 
+000128f0: 2020 2020 2020 2020 2020 2064 7572 6174             durat
+00012900: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+00012910: 2069 6e74 6572 7661 6c2c 0a20 2020 2020   interval,.     
+00012920: 2020 2029 0a0a 2020 2020 2020 2020 2320     )..        # 
+00012930: 7365 7420 696e 7465 7276 616c 2061 6e64  set interval and
+00012940: 2073 656c 6563 7420 7369 676e 616c 730a   select signals.
+00012950: 2020 2020 2020 2020 7061 796c 6f61 6420          payload 
+00012960: 3d20 6279 7465 6172 7261 7928 290a 2020  = bytearray().  
+00012970: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
+00012980: 7465 6e64 2873 7472 7563 742e 7061 636b  tend(struct.pack
+00012990: 2822 214c 222c 2069 6e74 6572 7661 6c29  ("!L", interval)
+000129a0: 290a 2020 2020 2020 2020 666f 7220 7369  ).        for si
+000129b0: 676e 616c 2069 6e20 7369 676e 616c 5f6c  gnal in signal_l
+000129c0: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
+000129d0: 2069 6620 696e 7465 7276 616c 206e 6f74   if interval not
+000129e0: 2069 6e20 5b36 3030 2c20 3330 3030 2c20   in [600, 3000, 
+000129f0: 3231 3030 305d 3a0a 2020 2020 2020 2020  21000]:.        
+00012a00: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
+00012a10: 6767 6572 2e77 6172 6e69 6e67 280a 2020  gger.warning(.  
 00012a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a30: 2274 6865 2073 656c 6563 7465 6420 696e  "the selected in
-00012a40: 7465 7276 616c 2069 7320 746f 2073 6d61  terval is to sma
-00012a50: 6c6c 2066 6f72 2073 6967 6e61 6c20 2573  ll for signal %s
-00012a60: 2025 7320 2564 7573 222c 0a20 2020 2020   %s %dus",.     
-00012a70: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012a80: 6967 6e61 6c2e 6368 616e 6e65 6c5f 6e61  ignal.channel_na
-00012a90: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-00012aa0: 2020 2020 2020 2020 7369 676e 616c 2e73          signal.s
-00012ab0: 6967 6e61 6c5f 6e61 6d65 2c0a 2020 2020  ignal_name,.    
-00012ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012ad0: 7369 676e 616c 2e6d 696e 5f69 6e74 6572  signal.min_inter
-00012ae0: 7661 6c2c 0a20 2020 2020 2020 2020 2020  val,.           
-00012af0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-00012b00: 2020 2020 2020 2072 6169 7365 204c 5356         raise LSV
-00012b10: 3250 726f 746f 636f 6c45 7863 6570 7469  2ProtocolExcepti
-00012b20: 6f6e 2822 7468 6520 7365 6c65 6374 6564  on("the selected
-00012b30: 2069 6e74 6572 7661 6c20 6973 2074 6f20   interval is to 
-00012b40: 736d 616c 6c22 290a 2020 2020 2020 2020  small").        
-00012b50: 2020 2020 7061 796c 6f61 642e 6578 7465      payload.exte
-00012b60: 6e64 2873 6967 6e61 6c2e 746f 5f62 6128  nd(signal.to_ba(
-00012b70: 2929 0a0a 2020 2020 2020 2020 7265 7375  ))..        resu
-00012b80: 6c74 203d 2073 656c 662e 5f73 656e 645f  lt = self._send_
-00012b90: 7265 6369 7665 286c 632e 434d 442e 525f  recive(lc.CMD.R_
-00012ba0: 4f50 2c20 7061 796c 6f61 642c 206c 632e  OP, payload, lc.
-00012bb0: 5253 502e 535f 4f50 290a 2020 2020 2020  RSP.S_OP).      
-00012bc0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00012bd0: 7265 7375 6c74 2c20 2862 7974 6561 7272  result, (bytearr
-00012be0: 6179 2c29 2920 616e 6420 6c65 6e28 7265  ay,)) and len(re
-00012bf0: 7375 6c74 2920 3e20 303a 0a20 2020 2020  sult) > 0:.     
-00012c00: 2020 2020 2020 2073 6967 6e61 6c5f 6c69         signal_li
-00012c10: 7374 203d 206c 6d73 2e64 6563 6f64 655f  st = lms.decode_
-00012c20: 7369 676e 616c 5f64 6574 6169 6c73 2873  signal_details(s
-00012c30: 6967 6e61 6c5f 6c69 7374 2c20 7265 7375  ignal_list, resu
-00012c40: 6c74 290a 2020 2020 2020 2020 656c 7365  lt).        else
-00012c50: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00012c60: 2073 656c 662e 6c61 7374 5f65 7272 6f72   self.last_error
-00012c70: 2e65 5f63 6f64 6520 3d3d 2038 353a 0a20  .e_code == 85:. 
-00012c80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012c90: 656c 662e 5f6c 6f67 6765 722e 7761 726e  elf._logger.warn
-00012ca0: 696e 6728 2274 6f6f 206d 616e 7920 7369  ing("too many si
-00012cb0: 676e 616c 7320 7365 6c65 6374 6564 3a20  gnals selected: 
-00012cc0: 2564 222c 206c 656e 2873 6967 6e61 6c5f  %d", len(signal_
-00012cd0: 6c69 7374 2929 0a20 2020 2020 2020 2020  list)).         
-00012ce0: 2020 2020 2020 2072 6169 7365 204c 5356         raise LSV
-00012cf0: 3250 726f 746f 636f 6c45 7863 6570 7469  2ProtocolExcepti
-00012d00: 6f6e 2822 746f 6f20 6d61 6e79 2073 6967  on("too many sig
-00012d10: 6e61 6c73 2073 656c 6563 7465 643f 3f3f  nals selected???
-00012d20: 2229 0a20 2020 2020 2020 2020 2020 2069  ").            i
-00012d30: 6620 7365 6c66 2e6c 6173 745f 6572 726f  f self.last_erro
-00012d40: 722e 655f 636f 6465 203d 3d20 6c63 2e4c  r.e_code == lc.L
-00012d50: 5356 3253 7461 7475 7343 6f64 652e 545f  SV2StatusCode.T_
-00012d60: 4552 5f4f 535a 495f 4348 5345 4c3a 0a20  ER_OSZI_CHSEL:. 
-00012d70: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012d80: 656c 662e 5f6c 6f67 6765 722e 7761 726e  elf._logger.warn
-00012d90: 696e 6728 2245 7272 6f72 2073 6574 7469  ing("Error setti
-00012da0: 6e67 2075 7020 7468 6520 6368 616e 6e65  ng up the channe
-00012db0: 6c73 2229 0a20 2020 2020 2020 2020 2020  ls").           
-00012dc0: 2020 2020 2072 6169 7365 204c 5356 3250       raise LSV2P
-00012dd0: 726f 746f 636f 6c45 7863 6570 7469 6f6e  rotocolException
-00012de0: 2822 4572 726f 7220 7365 7474 696e 6720  ("Error setting 
-00012df0: 7570 2074 6865 2063 6861 6e6e 656c 7322  up the channels"
-00012e00: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00012e10: 6c66 2e5f 6c6f 6767 6572 2e77 6172 6e69  lf._logger.warni
-00012e20: 6e67 2822 4572 726f 7220 7768 696c 6520  ng("Error while 
-00012e30: 636f 6e66 6967 7572 696e 6720 696e 7465  configuring inte
-00012e40: 7276 616c 2061 6e64 2073 6967 6e61 6c73  rval and signals
-00012e50: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
-00012e60: 6169 7365 204c 5356 3250 726f 746f 636f  aise LSV2Protoco
-00012e70: 6c45 7863 6570 7469 6f6e 2822 4572 726f  lException("Erro
-00012e80: 7220 7768 696c 6520 636f 6e66 6967 7572  r while configur
-00012e90: 696e 6720 696e 7465 7276 616c 2061 6e64  ing interval and
-00012ea0: 2073 6967 6e61 6c73 2229 0a0a 2020 2020   signals")..    
-00012eb0: 2020 2020 2320 7365 7475 7020 7472 6967      # setup trig
-00012ec0: 6765 7220 616e 6420 7265 6164 2064 6174  ger and read dat
-00012ed0: 6120 6672 6f6d 2063 6f6e 7472 6f6c 0a20  a from control. 
-00012ee0: 2020 2020 2020 2070 6179 6c6f 6164 203d         payload =
-00012ef0: 2062 7974 6561 7272 6179 2829 0a20 2020   bytearray().   
-00012f00: 2020 2020 2070 6179 6c6f 6164 2e65 7874       payload.ext
-00012f10: 656e 6428 7374 7275 6374 2e70 6163 6b28  end(struct.pack(
-00012f20: 2221 4822 2c20 3629 2920 2023 2074 7269  "!H", 6))  # tri
-00012f30: 6767 6572 2063 6861 6e6e 656c 3f0a 2020  gger channel?.  
-00012f40: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
-00012f50: 7465 6e64 2873 7472 7563 742e 7061 636b  tend(struct.pack
-00012f60: 2822 2148 222c 2036 3535 3335 2929 2020  ("!H", 65535))  
-00012f70: 2320 7472 6967 6765 7220 6d6f 6465 3f0a  # trigger mode?.
-00012f80: 2020 2020 2020 2020 7061 796c 6f61 642e          payload.
-00012f90: 6578 7465 6e64 2873 7472 7563 742e 7061  extend(struct.pa
-00012fa0: 636b 2822 214c 222c 2030 2929 2020 2320  ck("!L", 0))  # 
-00012fb0: 7472 6967 6765 7220 6c65 7665 6c3f 0a20  trigger level?. 
-00012fc0: 2020 2020 2020 2070 6179 6c6f 6164 2e65         payload.e
-00012fd0: 7874 656e 6428 7374 7275 6374 2e70 6163  xtend(struct.pac
-00012fe0: 6b28 2221 4c22 2c20 3029 2920 2023 2070  k("!L", 0))  # p
-00012ff0: 7265 2074 7269 6767 6572 3f0a 2020 2020  re trigger?.    
-00013000: 2020 2020 7061 796c 6f61 642e 6578 7465      payload.exte
-00013010: 6e64 2873 7472 7563 742e 7061 636b 2822  nd(struct.pack("
-00013020: 214c 222c 2069 6e74 6572 7661 6c29 290a  !L", interval)).
-00013030: 0a20 2020 2020 2020 2073 7461 7274 203d  .        start =
-00013040: 2074 696d 652e 7469 6d65 2829 2020 2320   time.time()  # 
-00013050: 7374 6172 7420 7469 6d65 720a 2020 2020  start timer.    
-00013060: 2020 2020 7265 636f 7264 6564 5f64 6174      recorded_dat
-00013070: 6120 3d20 6c69 7374 2829 0a20 2020 2020  a = list().     
-00013080: 2020 2063 6f6e 7465 6e74 203d 2073 656c     content = sel
-00013090: 662e 5f73 656e 645f 7265 6369 7665 286c  f._send_recive(l
-000130a0: 632e 434d 442e 525f 4f44 2c20 7061 796c  c.CMD.R_OD, payl
-000130b0: 6f61 642c 206c 632e 5253 502e 535f 4f44  oad, lc.RSP.S_OD
-000130c0: 290a 0a20 2020 2020 2020 2069 6620 6e6f  )..        if no
-000130d0: 7420 6973 696e 7374 616e 6365 2863 6f6e  t isinstance(con
-000130e0: 7465 6e74 2c20 2862 7974 6561 7272 6179  tent, (bytearray
-000130f0: 2c29 2920 6f72 206c 656e 2863 6f6e 7465  ,)) or len(conte
-00013100: 6e74 2920 3c3d 2030 3a0a 2020 2020 2020  nt) <= 0:.      
-00013110: 2020 2020 2020 7365 6c66 2e5f 6c6f 6767        self._logg
-00013120: 6572 2e65 7272 6f72 280a 2020 2020 2020  er.error(.      
-00013130: 2020 2020 2020 2020 2020 2273 6f6d 6574            "somet
-00013140: 6869 6e67 2077 656e 7420 7772 6f6e 6720  hing went wrong 
-00013150: 7768 696c 6520 7265 6164 696e 6720 6669  while reading fi
-00013160: 7273 7420 6461 7461 2070 6163 6b61 6765  rst data package
-00013170: 2066 6f72 2073 6967 6e61 6c73 220a 2020   for signals".  
-00013180: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00013190: 2020 2020 2020 2020 7261 6973 6520 4c53          raise LS
-000131a0: 5632 5072 6f74 6f63 6f6c 4578 6365 7074  V2ProtocolExcept
-000131b0: 696f 6e28 2273 6f6d 6574 6869 6e67 2077  ion("something w
-000131c0: 656e 7420 7772 6f6e 6720 7768 696c 6520  ent wrong while 
-000131d0: 7265 6164 696e 6720 7363 6f70 6520 6461  reading scope da
-000131e0: 7461 2229 0a0a 2020 2020 2020 2020 7265  ta")..        re
-000131f0: 636f 7264 6564 5f64 6174 612e 6170 7065  corded_data.appe
-00013200: 6e64 286c 6d73 2e64 6563 6f64 655f 7363  nd(lms.decode_sc
-00013210: 6f70 655f 7265 6164 696e 6728 7369 676e  ope_reading(sign
-00013220: 616c 5f6c 6973 742c 2063 6f6e 7465 6e74  al_list, content
-00013230: 2929 0a20 2020 2020 2020 2065 6e64 203d  )).        end =
-00013240: 2074 696d 652e 7469 6d65 2829 0a20 2020   time.time().   
-00013250: 2020 2020 2074 696d 6572 203d 2065 6e64       timer = end
-00013260: 202d 2073 7461 7274 0a20 2020 2020 2020   - start.       
-00013270: 2077 6869 6c65 2074 696d 6572 203c 2064   while timer < d
-00013280: 7572 6174 696f 6e3a 0a20 2020 2020 2020  uration:.       
-00013290: 2020 2020 2063 6f6e 7465 6e74 203d 2073       content = s
-000132a0: 656c 662e 5f6c 6c63 6f6d 2e74 656c 6567  elf._llcom.teleg
-000132b0: 7261 6d28 6c63 2e52 5350 2e54 5f4f 4b29  ram(lc.RSP.T_OK)
-000132c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000132d0: 7365 6c66 2e5f 6c6c 636f 6d2e 6c61 7374  self._llcom.last
-000132e0: 5f72 6573 706f 6e73 6520 696e 206c 632e  _response in lc.
-000132f0: 5253 502e 535f 4f44 3a0a 2020 2020 2020  RSP.S_OD:.      
-00013300: 2020 2020 2020 2020 2020 7265 636f 7264            record
-00013310: 6564 5f64 6174 612e 6170 7065 6e64 286c  ed_data.append(l
-00013320: 6d73 2e64 6563 6f64 655f 7363 6f70 655f  ms.decode_scope_
-00013330: 7265 6164 696e 6728 7369 676e 616c 5f6c  reading(signal_l
-00013340: 6973 742c 2063 6f6e 7465 6e74 2929 0a20  ist, content)). 
-00013350: 2020 2020 2020 2020 2020 2020 2020 2079                 y
-00013360: 6965 6c64 2072 6563 6f72 6465 645f 6461  ield recorded_da
-00013370: 7461 5b30 5d0a 2020 2020 2020 2020 2020  ta[0].          
-00013380: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00013390: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
-000133a0: 6767 6572 2e77 6172 6e69 6e67 280a 2020  gger.warning(.  
-000133b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000133c0: 2020 2273 6f6d 6574 6869 6e67 2077 656e    "something wen
-000133d0: 7420 7772 6f6e 6720 6475 7269 6e67 2070  t wrong during p
-000133e0: 6572 696f 6469 6361 6c6c 7920 7265 6164  eriodically read
-000133f0: 696e 6720 7363 6f70 6520 6461 7461 2c20  ing scope data, 
-00013400: 6162 6f72 7420 7265 6164 696e 6722 0a20  abort reading". 
-00013410: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00013420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013430: 2062 7265 616b 0a20 2020 2020 2020 2020   break.         
-00013440: 2020 2065 6e64 203d 2074 696d 652e 7469     end = time.ti
-00013450: 6d65 2829 0a20 2020 2020 2020 2020 2020  me().           
-00013460: 2074 696d 6572 203d 2065 6e64 202d 2073   timer = end - s
-00013470: 7461 7274 0a20 2020 2020 2020 2020 2020  tart.           
-00013480: 2072 6563 6f72 6465 645f 6461 7461 203d   recorded_data =
-00013490: 206c 6973 7428 290a 0a20 2020 2020 2020   list()..       
-000134a0: 2073 656c 662e 5f6c 6f67 6765 722e 6465   self._logger.de
-000134b0: 6275 6728 2266 696e 6973 6865 6420 7265  bug("finished re
-000134c0: 6164 696e 6720 7363 6f70 6520 6461 7461  ading scope data
-000134d0: 2229 0a                                  ").
+00012a30: 2020 2274 6865 2073 656c 6563 7465 6420    "the selected 
+00012a40: 696e 7465 7276 616c 2064 6f65 736e 2774  interval doesn't
+00012a50: 2066 6974 2066 6f72 2073 6967 6e61 6c73   fit for signals
+00012a60: 2072 6561 6469 6e67 7321 220a 2020 2020   readings!".    
+00012a70: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00012a80: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00012a90: 6973 6520 4c53 5632 5072 6f74 6f63 6f6c  ise LSV2Protocol
+00012aa0: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+00012ab0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00012ac0: 7468 6520 7365 6c65 6374 6564 2069 6e74  the selected int
+00012ad0: 6572 7661 6c20 6d75 7374 2062 653a 2036  erval must be: 6
+00012ae0: 3030 206f 7220 3330 3030 206f 7220 3231  00 or 3000 or 21
+00012af0: 3030 3020 7573 220a 2020 2020 2020 2020  000 us".        
+00012b00: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00012b10: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
+00012b20: 7465 6e64 2873 6967 6e61 6c2e 746f 5f62  tend(signal.to_b
+00012b30: 6128 2929 0a0a 2020 2020 2020 2020 7265  a())..        re
+00012b40: 7375 6c74 203d 2073 656c 662e 5f73 656e  sult = self._sen
+00012b50: 645f 7265 6369 7665 286c 632e 434d 442e  d_recive(lc.CMD.
+00012b60: 525f 4f50 2c20 7061 796c 6f61 642c 206c  R_OP, payload, l
+00012b70: 632e 5253 502e 535f 4f50 290a 2020 2020  c.RSP.S_OP).    
+00012b80: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00012b90: 6528 7265 7375 6c74 2c20 2862 7974 6561  e(result, (bytea
+00012ba0: 7272 6179 2c29 2920 616e 6420 6c65 6e28  rray,)) and len(
+00012bb0: 7265 7375 6c74 2920 3e20 303a 0a20 2020  result) > 0:.   
+00012bc0: 2020 2020 2020 2020 2073 6967 6e61 6c5f           signal_
+00012bd0: 6c69 7374 203d 206c 6d73 2e64 6563 6f64  list = lms.decod
+00012be0: 655f 7369 676e 616c 5f64 6574 6169 6c73  e_signal_details
+00012bf0: 2873 6967 6e61 6c5f 6c69 7374 2c20 7265  (signal_list, re
+00012c00: 7375 6c74 290a 2020 2020 2020 2020 656c  sult).        el
+00012c10: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00012c20: 6966 2073 656c 662e 6c61 7374 5f65 7272  if self.last_err
+00012c30: 6f72 2e65 5f63 6f64 6520 3d3d 2038 353a  or.e_code == 85:
+00012c40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012c50: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
+00012c60: 726e 696e 6728 2274 6f6f 206d 616e 7920  rning("too many 
+00012c70: 7369 676e 616c 7320 7365 6c65 6374 6564  signals selected
+00012c80: 3a20 2564 222c 206c 656e 2873 6967 6e61  : %d", len(signa
+00012c90: 6c5f 6c69 7374 2929 0a20 2020 2020 2020  l_list)).       
+00012ca0: 2020 2020 2020 2020 2072 6169 7365 204c           raise L
+00012cb0: 5356 3250 726f 746f 636f 6c45 7863 6570  SV2ProtocolExcep
+00012cc0: 7469 6f6e 2822 746f 6f20 6d61 6e79 2073  tion("too many s
+00012cd0: 6967 6e61 6c73 2073 656c 6563 7465 643f  ignals selected?
+00012ce0: 3f3f 2229 0a20 2020 2020 2020 2020 2020  ??").           
+00012cf0: 2069 6620 7365 6c66 2e6c 6173 745f 6572   if self.last_er
+00012d00: 726f 722e 655f 636f 6465 203d 3d20 6c63  ror.e_code == lc
+00012d10: 2e4c 5356 3253 7461 7475 7343 6f64 652e  .LSV2StatusCode.
+00012d20: 545f 4552 5f4f 535a 495f 4348 5345 4c3a  T_ER_OSZI_CHSEL:
+00012d30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012d40: 2073 656c 662e 5f6c 6f67 6765 722e 7761   self._logger.wa
+00012d50: 726e 696e 6728 2245 7272 6f72 2073 6574  rning("Error set
+00012d60: 7469 6e67 2075 7020 7468 6520 6368 616e  ting up the chan
+00012d70: 6e65 6c73 2229 0a20 2020 2020 2020 2020  nels").         
+00012d80: 2020 2020 2020 2072 6169 7365 204c 5356         raise LSV
+00012d90: 3250 726f 746f 636f 6c45 7863 6570 7469  2ProtocolExcepti
+00012da0: 6f6e 2822 4572 726f 7220 7365 7474 696e  on("Error settin
+00012db0: 6720 7570 2074 6865 2063 6861 6e6e 656c  g up the channel
+00012dc0: 7322 290a 2020 2020 2020 2020 2020 2020  s").            
+00012dd0: 7365 6c66 2e5f 6c6f 6767 6572 2e77 6172  self._logger.war
+00012de0: 6e69 6e67 2822 4572 726f 7220 7768 696c  ning("Error whil
+00012df0: 6520 636f 6e66 6967 7572 696e 6720 696e  e configuring in
+00012e00: 7465 7276 616c 2061 6e64 2073 6967 6e61  terval and signa
+00012e10: 6c73 2229 0a20 2020 2020 2020 2020 2020  ls").           
+00012e20: 2072 6169 7365 204c 5356 3250 726f 746f   raise LSV2Proto
+00012e30: 636f 6c45 7863 6570 7469 6f6e 2822 4572  colException("Er
+00012e40: 726f 7220 7768 696c 6520 636f 6e66 6967  ror while config
+00012e50: 7572 696e 6720 696e 7465 7276 616c 2061  uring interval a
+00012e60: 6e64 2073 6967 6e61 6c73 2229 0a0a 2020  nd signals")..  
+00012e70: 2020 2020 2020 2320 7365 7475 7020 7472        # setup tr
+00012e80: 6967 6765 7220 616e 6420 7265 6164 2064  igger and read d
+00012e90: 6174 6120 6672 6f6d 2063 6f6e 7472 6f6c  ata from control
+00012ea0: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
+00012eb0: 203d 2062 7974 6561 7272 6179 2829 0a20   = bytearray(). 
+00012ec0: 2020 2020 2020 2070 6179 6c6f 6164 2e65         payload.e
+00012ed0: 7874 656e 6428 7374 7275 6374 2e70 6163  xtend(struct.pac
+00012ee0: 6b28 2221 4822 2c20 3629 2920 2023 2074  k("!H", 6))  # t
+00012ef0: 7269 6767 6572 2063 6861 6e6e 656c 3f0a  rigger channel?.
+00012f00: 2020 2020 2020 2020 7061 796c 6f61 642e          payload.
+00012f10: 6578 7465 6e64 2873 7472 7563 742e 7061  extend(struct.pa
+00012f20: 636b 2822 2148 222c 2036 3535 3335 2929  ck("!H", 65535))
+00012f30: 2020 2320 7472 6967 6765 7220 6d6f 6465    # trigger mode
+00012f40: 3f0a 2020 2020 2020 2020 7061 796c 6f61  ?.        payloa
+00012f50: 642e 6578 7465 6e64 2873 7472 7563 742e  d.extend(struct.
+00012f60: 7061 636b 2822 214c 222c 2030 2929 2020  pack("!L", 0))  
+00012f70: 2320 7472 6967 6765 7220 6c65 7665 6c3f  # trigger level?
+00012f80: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
+00012f90: 2e65 7874 656e 6428 7374 7275 6374 2e70  .extend(struct.p
+00012fa0: 6163 6b28 2221 4c22 2c20 3029 2920 2023  ack("!L", 0))  #
+00012fb0: 2070 7265 2074 7269 6767 6572 3f0a 2020   pre trigger?.  
+00012fc0: 2020 2020 2020 7061 796c 6f61 642e 6578        payload.ex
+00012fd0: 7465 6e64 2873 7472 7563 742e 7061 636b  tend(struct.pack
+00012fe0: 2822 214c 222c 2069 6e74 6572 7661 6c29  ("!L", interval)
+00012ff0: 290a 0a20 2020 2020 2020 2073 7461 7274  )..        start
+00013000: 203d 2074 696d 652e 7469 6d65 2829 2020   = time.time()  
+00013010: 2320 7374 6172 7420 7469 6d65 720a 2020  # start timer.  
+00013020: 2020 2020 2020 7265 636f 7264 6564 5f64        recorded_d
+00013030: 6174 6120 3d20 6c69 7374 2829 0a20 2020  ata = list().   
+00013040: 2020 2020 2063 6f6e 7465 6e74 203d 2073       content = s
+00013050: 656c 662e 5f73 656e 645f 7265 6369 7665  elf._send_recive
+00013060: 286c 632e 434d 442e 525f 4f44 2c20 7061  (lc.CMD.R_OD, pa
+00013070: 796c 6f61 642c 206c 632e 5253 502e 535f  yload, lc.RSP.S_
+00013080: 4f44 290a 0a20 2020 2020 2020 2069 6620  OD)..        if 
+00013090: 6e6f 7420 6973 696e 7374 616e 6365 2863  not isinstance(c
+000130a0: 6f6e 7465 6e74 2c20 2862 7974 6561 7272  ontent, (bytearr
+000130b0: 6179 2c29 2920 6f72 206c 656e 2863 6f6e  ay,)) or len(con
+000130c0: 7465 6e74 2920 3c3d 2030 3a0a 2020 2020  tent) <= 0:.    
+000130d0: 2020 2020 2020 2020 7365 6c66 2e5f 6c6f          self._lo
+000130e0: 6767 6572 2e65 7272 6f72 280a 2020 2020  gger.error(.    
+000130f0: 2020 2020 2020 2020 2020 2020 2273 6f6d              "som
+00013100: 6574 6869 6e67 2077 656e 7420 7772 6f6e  ething went wron
+00013110: 6720 7768 696c 6520 7265 6164 696e 6720  g while reading 
+00013120: 6669 7273 7420 6461 7461 2070 6163 6b61  first data packa
+00013130: 6765 2066 6f72 2073 6967 6e61 6c73 220a  ge for signals".
+00013140: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00013150: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00013160: 4c53 5632 5072 6f74 6f63 6f6c 4578 6365  LSV2ProtocolExce
+00013170: 7074 696f 6e28 2273 6f6d 6574 6869 6e67  ption("something
+00013180: 2077 656e 7420 7772 6f6e 6720 7768 696c   went wrong whil
+00013190: 6520 7265 6164 696e 6720 7363 6f70 6520  e reading scope 
+000131a0: 6461 7461 2229 0a0a 2020 2020 2020 2020  data")..        
+000131b0: 7265 636f 7264 6564 5f64 6174 612e 6170  recorded_data.ap
+000131c0: 7065 6e64 286c 6d73 2e64 6563 6f64 655f  pend(lms.decode_
+000131d0: 7363 6f70 655f 7265 6164 696e 6728 7369  scope_reading(si
+000131e0: 676e 616c 5f6c 6973 742c 2063 6f6e 7465  gnal_list, conte
+000131f0: 6e74 2929 0a20 2020 2020 2020 2065 6e64  nt)).        end
+00013200: 203d 2074 696d 652e 7469 6d65 2829 0a20   = time.time(). 
+00013210: 2020 2020 2020 2074 696d 6572 203d 2065         timer = e
+00013220: 6e64 202d 2073 7461 7274 0a20 2020 2020  nd - start.     
+00013230: 2020 2077 6869 6c65 2074 696d 6572 203c     while timer <
+00013240: 2064 7572 6174 696f 6e3a 0a20 2020 2020   duration:.     
+00013250: 2020 2020 2020 2063 6f6e 7465 6e74 203d         content =
+00013260: 2073 656c 662e 5f6c 6c63 6f6d 2e74 656c   self._llcom.tel
+00013270: 6567 7261 6d28 6c63 2e52 5350 2e54 5f4f  egram(lc.RSP.T_O
+00013280: 4b29 0a20 2020 2020 2020 2020 2020 2069  K).            i
+00013290: 6620 7365 6c66 2e5f 6c6c 636f 6d2e 6c61  f self._llcom.la
+000132a0: 7374 5f72 6573 706f 6e73 6520 696e 206c  st_response in l
+000132b0: 632e 5253 502e 535f 4f44 3a0a 2020 2020  c.RSP.S_OD:.    
+000132c0: 2020 2020 2020 2020 2020 2020 7265 636f              reco
+000132d0: 7264 6564 5f64 6174 612e 6170 7065 6e64  rded_data.append
+000132e0: 286c 6d73 2e64 6563 6f64 655f 7363 6f70  (lms.decode_scop
+000132f0: 655f 7265 6164 696e 6728 7369 676e 616c  e_reading(signal
+00013300: 5f6c 6973 742c 2063 6f6e 7465 6e74 2929  _list, content))
+00013310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013320: 2079 6965 6c64 2072 6563 6f72 6465 645f   yield recorded_
+00013330: 6461 7461 5b30 5d0a 2020 2020 2020 2020  data[0].        
+00013340: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00013350: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
+00013360: 6c6f 6767 6572 2e77 6172 6e69 6e67 280a  logger.warning(.
+00013370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013380: 2020 2020 2273 6f6d 6574 6869 6e67 2077      "something w
+00013390: 656e 7420 7772 6f6e 6720 6475 7269 6e67  ent wrong during
+000133a0: 2070 6572 696f 6469 6361 6c6c 7920 7265   periodically re
+000133b0: 6164 696e 6720 7363 6f70 6520 6461 7461  ading scope data
+000133c0: 2c20 6162 6f72 7420 7265 6164 696e 6722  , abort reading"
+000133d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000133e0: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
+000133f0: 2020 2062 7265 616b 0a20 2020 2020 2020     break.       
+00013400: 2020 2020 2065 6e64 203d 2074 696d 652e       end = time.
+00013410: 7469 6d65 2829 0a20 2020 2020 2020 2020  time().         
+00013420: 2020 2074 696d 6572 203d 2065 6e64 202d     timer = end -
+00013430: 2073 7461 7274 0a20 2020 2020 2020 2020   start.         
+00013440: 2020 2072 6563 6f72 6465 645f 6461 7461     recorded_data
+00013450: 203d 206c 6973 7428 290a 0a20 2020 2020   = list()..     
+00013460: 2020 2073 656c 662e 5f6c 6f67 6765 722e     self._logger.
+00013470: 6465 6275 6728 2266 696e 6973 6865 6420  debug("finished 
+00013480: 7265 6164 696e 6720 7363 6f70 6520 6461  reading scope da
+00013490: 7461 2229 0a                             ta").
```

### Comparing `pyLSV2-1.1.0/pyLSV2/const.py` & `pyLSV2-1.1.2/pyLSV2/const.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/dat_cls.py` & `pyLSV2-1.1.2/pyLSV2/dat_cls.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/locales/de/LC_MESSAGES/error_text.mo` & `pyLSV2-1.1.2/pyLSV2/locales/de/LC_MESSAGES/error_text.mo`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/locales/de/LC_MESSAGES/message_text.mo` & `pyLSV2-1.1.2/pyLSV2/locales/de/LC_MESSAGES/message_text.mo`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/locales/en/LC_MESSAGES/error_text.mo` & `pyLSV2-1.1.2/pyLSV2/locales/en/LC_MESSAGES/error_text.mo`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/locales/en/LC_MESSAGES/message_text.mo` & `pyLSV2-1.1.2/pyLSV2/locales/en/LC_MESSAGES/message_text.mo`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/low_level_com.py` & `pyLSV2-1.1.2/pyLSV2/low_level_com.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/misc.py` & `pyLSV2-1.1.2/pyLSV2/misc.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/misc_scope.py` & `pyLSV2-1.1.2/pyLSV2/misc_scope.py`

 * *Files 0% similar despite different names*

```diff
@@ -181,17 +181,17 @@
             channel=signal.channel,
             signal=signal.signal,
             offset=signal.offset,
             factor=signal.factor,
             unit=signal.unit,
         )
 
-        header = data_set[sig_data_start : sig_data_start + 6]
-        if header != bytearray(b"\x00\x20\xff\xff\xff\xff"):
-            raise LSV2DataException("unknown signal header format")
+        # header = data_set[sig_data_start : sig_data_start + 6]
+        # if header != bytearray(b"\x00\x20\xff\xff\xff\xff"):
+        #    raise LSV2DataException("unknown signal header format")
 
         unpack_string = "!32l"
         value_start = sig_data_start + 6
         sig_data.data.extend(
             struct.unpack(unpack_string, data_set[value_start:sig_data_end])
         )
```

### Comparing `pyLSV2-1.1.0/pyLSV2/table_reader.py` & `pyLSV2-1.1.2/pyLSV2/table_reader.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2/translate_messages.py` & `pyLSV2-1.1.2/pyLSV2/translate_messages.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/pyLSV2.egg-info/PKG-INFO` & `pyLSV2-1.1.2/pyLSV2.egg-info/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pyLSV2
-Version: 1.1.0
+Version: 1.1.2
 Summary: A pure Python3 implementation of the LSV2 protocol
 Home-page: https://github.com/drunsinn/pyLSV2
 Author: drunsinn
 Author-email: dr.unsinn@googlemail.com
 License: MIT
 Keywords: LSV2 cnc communication transfer plc
 Classifier: Programming Language :: Python :: 3
```

### Comparing `pyLSV2-1.1.0/pyLSV2.egg-info/SOURCES.txt` & `pyLSV2-1.1.2/pyLSV2.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/scripts/lsv2_demo.py` & `pyLSV2-1.1.2/scripts/lsv2_demo.py`

 * *Files 0% similar despite different names*

```diff
@@ -38,15 +38,14 @@
     )
     args = parser.parse_args()
     logging.basicConfig(level=args.loglevel)
 
     print("Connecting to {}".format(args.address))
 
     with pyLSV2.LSV2(args.address, port=19000, timeout=5) as con:
-
         con = pyLSV2.LSV2(args.address, port=19000, timeout=5, safe_mode=False)
         con.connect()
 
         print("Basics:")
         print(
             "# Connected to a '{:s}' running software version '{:s}'".format(
                 con.versions.control, con.versions.nc_sw
```

### Comparing `pyLSV2-1.1.0/scripts/lsv2cmd.py` & `pyLSV2-1.1.2/scripts/lsv2cmd.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/scripts/real_time_readings.py` & `pyLSV2-1.1.2/scripts/real_time_readings.py`

 * *Files 12% similar despite different names*

```diff
@@ -3,78 +3,89 @@
 
 import sys
 import logging
 import pyLSV2
 
 logging.basicConfig(level=logging.WARNING)
 
-with pyLSV2.LSV2("192.168.56.102", port=19000, timeout=5, safe_mode=False) as con:
+with pyLSV2.LSV2("192.168.56.103", port=19000, timeout=5, safe_mode=False) as con:
     availible_signals = con.read_scope_signals()
 
     # build list with selected signals
     selected_signals = list()
     selected_signals.append(availible_signals[0])
     selected_signals.append(availible_signals[1])
     selected_signals.append(availible_signals[2])
+    selected_signals.append(availible_signals[122])
+
     # alternatively: find signal by normalized name
     # selected_signals.append(next(signal for signal in availible_signals if signal.normalized_name() == "x_s_actual"))
     # selected_signals.append(next(signal for signal in availible_signals if signal.normalized_name() == "y_s_actual"))
     # selected_signals.append(next(signal for signal in availible_signals if signal.normalized_name() == "z_s_actual"))
     # selected_signals.append(next(signal for signal in availible_signals if signal.normalized_name() == "x_v_actual"))
     # selected_signals.append(next(signal for signal in availible_signals if signal.normalized_name() == "x_a_actual"))
 
     duration = 10
-    interval = 3000
+    interval = 600
 
     print("selected signals:")
     for sig in selected_signals:
         print("# %s" % sig)
 
     # take readings:
     # signal_list=selected_signals, duration=10 , interval=3000):
     with open("data.txt", "w") as fp:
         readings_counter = 0
+        count_high_freq = 0
 
         for package in con.real_time_readings(selected_signals, duration, interval):
             signal_readings = package.get_data()
             readings_per_signal = len(signal_readings[0].data)
             print(
                 "successfulle read %d signals with %d values each"
                 % (len(signal_readings), readings_per_signal)
             )
 
             for i in range(readings_per_signal):
                 # Signal_type = sample[# appending rank]["data"][one_smaple]
                 # for signal in signal_readings:
                 #    value = (signal.data[i] * signal.factor) + signal.offset
                 #    print(value, signal.unit)
-
-                position_X = round(
-                    signal_readings[0].data[i] * signal_readings[0].factor
-                    + signal_readings[0].offset,
-                    3,
-                )
-                position_Y = round(
-                    signal_readings[1].data[i] * signal_readings[1].factor
-                    + signal_readings[1].offset,
+                if count_high_freq % 5 == 0:
+                    # This condition is only for signals of low frequency
+                    position_X = round(
+                        signal_readings[0].data[i] * signal_readings[0].factor
+                        + signal_readings[0].offset,
+                        3,
+                    )
+                    position_Y = round(
+                        signal_readings[1].data[i] * signal_readings[1].factor
+                        + signal_readings[1].offset,
+                        3,
+                    )
+                    position_Z = round(
+                        signal_readings[2].data[i] * signal_readings[2].factor
+                        + signal_readings[2].offset,
+                        3,
+                    )
+                I_nominal_X = round(
+                    signal_readings[3].data[i] * signal_readings[3].factor
+                    + signal_readings[3].offset,
                     3,
                 )
-                position_Z = round(
-                    signal_readings[2].data[i] * signal_readings[2].factor
-                    + signal_readings[2].offset,
-                    3,
-                )
-                # velocity_X = round(signal_readings[3].data[i]*0.0953652489,3)
-                # acceleration_X = round(signal_readings[4].data[i]*0.5299145299,3)
-                readings_counter += readings_per_signal
 
-                # print(f"Position X = {Position_X} mm , Position Y = {Position_Y} , Position Z = {Position_Z} , Velocity X = {Velocity_X} mm/min, Acceleration X = {Accelera_X} mm/s^2")
+                print(
+                    f"Position X = {position_X} mm , Position Y = {position_Y} , Position Z = {position_Z}, I nominal X = {I_nominal_X} "
+                )
                 fp.write(
-                    "Position X = %f mm , Position Y = %f , Position Z = %f\n"
-                    % (position_X, position_Y, position_Z)
+                    "Position X = %f mm , Position Y = %f , Position Z = %f , I nominal X = %f\n"
+                    % (position_X, position_Y, position_Z, I_nominal_X)
                 )
+                count_high_freq += 1
+
+            readings_counter += readings_per_signal
 
     print("a total of %d readings were taken" % readings_counter)
 
     print("the signal description was updated to:")
     for s in selected_signals:
         print(s)
```

### Comparing `pyLSV2-1.1.0/scripts/scope2csv.py` & `pyLSV2-1.1.2/scripts/scope2csv.py`

 * *Files 0% similar despite different names*

```diff
@@ -128,15 +128,14 @@
                 signal,
                 new_signal.normalized_name(),
                 new_signal.min_interval,
             )
             scope_signals.append(new_signal)
 
         with open(args.output, "w", encoding="utf8") as csv_fp:
-
             csv = csv.writer(csv_fp, dialect="excel", lineterminator="\n")
             csv.writerow(list(map(lambda x: x.normalized_name(), scope_signals)))
             readings_counter = 0
 
             for package in con.real_time_readings(
                 scope_signals, args.duration, args.interval
             ):
```

### Comparing `pyLSV2-1.1.0/scripts/scope_demo.py` & `pyLSV2-1.1.2/scripts/scope_demo.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/scripts/signals_assignment.py` & `pyLSV2-1.1.2/scripts/signals_assignment.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/scripts/ssh_tunnel_demo.py` & `pyLSV2-1.1.2/scripts/ssh_tunnel_demo.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/scripts/tab2csv.py` & `pyLSV2-1.1.2/scripts/tab2csv.py`

 * *Files identical despite different names*

### Comparing `pyLSV2-1.1.0/setup.py` & `pyLSV2-1.1.2/setup.py`

 * *Files identical despite different names*

